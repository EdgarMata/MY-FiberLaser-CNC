webpackJsonp([75],{0:function(module,exports,__webpack_require__){__webpack_require__(1),__webpack_require__(2),__webpack_require__(3),__webpack_require__(7),__webpack_require__(62),__webpack_require__(229),__webpack_require__(230),__webpack_require__(231),__webpack_require__(68),__webpack_require__(69),__webpack_require__(232),__webpack_require__(70),__webpack_require__(233),__webpack_require__(71),__webpack_require__(21),__webpack_require__(234),__webpack_require__(74),__webpack_require__(75),__webpack_require__(77),__webpack_require__(76),__webpack_require__(78),__webpack_require__(79),__webpack_require__(235),__webpack_require__(236),__webpack_require__(237),__webpack_require__(238),__webpack_require__(239),__webpack_require__(240),__webpack_require__(241),__webpack_require__(242),__webpack_require__(243),__webpack_require__(244),__webpack_require__(245),__webpack_require__(80),__webpack_require__(81),__webpack_require__(82),__webpack_require__(83),__webpack_require__(84),__webpack_require__(85)},1:function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_FACTORY__,__WEBPACK_AMD_DEFINE_RESULT__,__WEBPACK_AMD_DEFINE_FACTORY__,__WEBPACK_AMD_DEFINE_RESULT__,__WEBPACK_AMD_DEFINE_FACTORY__,__WEBPACK_AMD_DEFINE_RESULT__;!function(infuse){"use strict";function contains(arr,value){for(var i=arr.length;i--;)if(arr[i]===value)return!0;return!1}infuse.version="0.7.0";var FN_ARGS=/^function\s*[^\(]*\(\s*([^\)]*)\)/m,FN_ARG_SPLIT=/,/,FN_ARG=/^\s*(_?)(\S+?)\1\s*$/,STRIP_COMMENTS=/((\/\/.*$)|(\/\*[\s\S]*?\*\/))/gm;infuse.InjectorError={MAPPING_BAD_PROP:"[Error infuse.Injector.mapClass/mapValue] the first parameter is invalid, a string is expected",MAPPING_BAD_VALUE:"[Error infuse.Injector.mapClass/mapValue] the second parameter is invalid, it can't null or undefined, with property: ",MAPPING_BAD_CLASS:"[Error infuse.Injector.mapClass/mapValue] the second parameter is invalid, a function is expected, with property: ",MAPPING_BAD_SINGLETON:"[Error infuse.Injector.mapClass] the third parameter is invalid, a boolean is expected, with property: ",MAPPING_ALREADY_EXISTS:"[Error infuse.Injector.mapClass/mapValue] this mapping already exists, with property: ",CREATE_INSTANCE_INVALID_PARAM:"[Error infuse.Injector.createInstance] invalid parameter, a function is expected",NO_MAPPING_FOUND:"[Error infuse.Injector.getInstance] no mapping found",INJECT_INSTANCE_IN_ITSELF_PROPERTY:"[Error infuse.Injector.getInjectedValue] A matching property has been found in the target, you can't inject an instance in itself",INJECT_INSTANCE_IN_ITSELF_CONSTRUCTOR:"[Error infuse.Injector.getInjectedValue] A matching constructor parameter has been found in the target, you can't inject an instance in itself"};var MappingVO=function(prop,value,cl,singleton){this.prop=prop,this.value=value,this.cl=cl,this.singleton=singleton||!1},validateProp=function(prop){if("string"!=typeof prop)throw new Error(infuse.InjectorError.MAPPING_BAD_PROP)},validateValue=function(prop,val){if(void 0===val||null===val)throw new Error(infuse.InjectorError.MAPPING_BAD_VALUE+prop)},validateClass=function(prop,val){if("function"!=typeof val)throw new Error(infuse.InjectorError.MAPPING_BAD_CLASS+prop)},validateBooleanSingleton=function(prop,singleton){if("boolean"!=typeof singleton)throw new Error(infuse.InjectorError.MAPPING_BAD_SINGLETON+prop)},validateConstructorInjectionLoop=function(name,cl){if(contains(infuse.getConstructorParams(cl),name))throw new Error(infuse.InjectorError.INJECT_INSTANCE_IN_ITSELF_CONSTRUCTOR)},validatePropertyInjectionLoop=function(name,target){if(target.hasOwnProperty(name))throw new Error(infuse.InjectorError.INJECT_INSTANCE_IN_ITSELF_PROPERTY)};infuse.Injector=function(){this.mappings={},this.parent=null},infuse.getConstructorParams=function(cl){function extractName(all,underscore,name){args.push(name)}var inject,args=[];cl.hasOwnProperty("inject")&&"[object Array]"===toString.call(cl.inject)&&cl.inject.length>0&&(inject=cl.inject);for(var clStr=cl.toString().replace(STRIP_COMMENTS,""),argsFlat=clStr.match(FN_ARGS),spl=argsFlat[1].split(FN_ARG_SPLIT),i=0;i<spl.length;i++){(inject&&inject[i]?inject[i]:spl[i]).replace(FN_ARG,extractName)}return args},infuse.Injector.prototype={createChild:function(){var injector=new infuse.Injector;return injector.parent=this,injector},getMappingVo:function(prop){return this.mappings?this.mappings[prop]?this.mappings[prop]:this.parent?this.parent.getMappingVo(prop):null:null},mapValue:function(prop,val){if(this.mappings[prop])throw new Error(infuse.InjectorError.MAPPING_ALREADY_EXISTS+prop);return validateProp(prop),validateValue(prop,val),this.mappings[prop]=new MappingVO(prop,val,void 0,void 0),this},mapClass:function(prop,cl,singleton){if(this.mappings[prop])throw new Error(infuse.InjectorError.MAPPING_ALREADY_EXISTS+prop);return validateProp(prop),validateClass(prop,cl),singleton&&validateBooleanSingleton(prop,singleton),this.mappings[prop]=new MappingVO(prop,null,cl,singleton),this},removeMapping:function(prop){return this.mappings[prop]=null,delete this.mappings[prop],this},hasMapping:function(prop){return!!this.mappings[prop]},hasInheritedMapping:function(prop){return!!this.getMappingVo(prop)},getMapping:function(value){for(var name in this.mappings)if(this.mappings.hasOwnProperty(name)){var vo=this.mappings[name];if(vo.value===value||vo.cl===value)return vo.prop}},getValue:function(prop){var vo=this.mappings[prop];if(!vo){if(this.parent)return this.parent.getValue.apply(this.parent,arguments);throw new Error(infuse.InjectorError.NO_MAPPING_FOUND)}if(vo.cl){var args=Array.prototype.slice.call(arguments);return args[0]=vo.cl,vo.singleton?(vo.value||(vo.value=this.createInstance.apply(this,args)),vo.value):this.createInstance.apply(this,args)}return vo.value},getClass:function(prop){var vo=this.mappings[prop];return vo?vo.cl?vo.cl:void 0:this.parent?this.parent.getClass(prop):void 0},instantiate:function(TargetClass){if("function"!=typeof TargetClass)throw new Error(infuse.InjectorError.CREATE_INSTANCE_INVALID_PARAM);for(var args=[null],params=infuse.getConstructorParams(TargetClass),i=0;i<params.length;i++)if(void 0!==arguments[i+1]&&null!==arguments[i+1])args.push(arguments[i+1]);else{var name=params[i],vo=this.getMappingVo(name);if(vo){var val=this.getInjectedValue(vo,name);args.push(val)}else args.push(void 0)}return new(Function.prototype.bind.apply(TargetClass,args))},inject:function(target,isParent){this.parent&&this.parent.inject(target,!0);for(var name in this.mappings)if(this.mappings.hasOwnProperty(name)){var vo=this.getMappingVo(name);(target.hasOwnProperty(vo.prop)||target.constructor&&target.constructor.prototype&&target.constructor.prototype.hasOwnProperty(vo.prop))&&(target[name]=this.getInjectedValue(vo,name))}return"function"!=typeof target.postConstruct||isParent||target.postConstruct(),this},getInjectedValue:function(vo,name){var injectee,val=vo.value;return vo.cl&&(vo.singleton?(vo.value||(validateConstructorInjectionLoop(name,vo.cl),vo.value=this.instantiate(vo.cl),injectee=vo.value),val=vo.value):(validateConstructorInjectionLoop(name,vo.cl),val=this.instantiate(vo.cl),injectee=val)),injectee&&(validatePropertyInjectionLoop(name,injectee),this.inject(injectee)),val},createInstance:function(){var instance=this.instantiate.apply(this,arguments);return this.inject(instance),instance},getValueFromClass:function(cl){for(var name in this.mappings)if(this.mappings.hasOwnProperty(name)){var vo=this.mappings[name];if(vo.cl===cl)return vo.singleton?(vo.value||(vo.value=this.createInstance.apply(this,arguments)),vo.value):this.createInstance.apply(this,arguments)}if(this.parent)return this.parent.getValueFromClass.apply(this.parent,arguments);throw new Error(infuse.InjectorError.NO_MAPPING_FOUND)},dispose:function(){this.mappings={}}},Function.prototype.bind||(Function.prototype.bind=function(that){var target=this;if("function"!=typeof target)throw new Error("Error, you must bind a function.");var args=Array.prototype.slice.call(arguments,1),bound=function(){if(this instanceof bound){var F=function(){};F.prototype=target.prototype;var self=new F,result=target.apply(self,args.concat(Array.prototype.slice.call(arguments)));return Object(result)===result?result:self}return target.apply(that,args.concat(Array.prototype.slice.call(arguments)))};return bound}),__WEBPACK_AMD_DEFINE_FACTORY__=infuse,void 0!==(__WEBPACK_AMD_DEFINE_RESULT__="function"==typeof __WEBPACK_AMD_DEFINE_FACTORY__?__WEBPACK_AMD_DEFINE_FACTORY__.call(exports,__webpack_require__,exports,module):__WEBPACK_AMD_DEFINE_FACTORY__)&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__),void 0!==module&&void 0!==module.exports&&(module.exports=infuse),exports=infuse}(this.infuse=this.infuse||{}),function(soma){"use strict";soma.events={},soma.events.version="0.5.6",Function.prototype.bind||(Function.prototype.bind=function(that){var target=this;if("function"!=typeof target)throw new Error("Error, you must bind a function.");var args=Array.prototype.slice.call(arguments,1),bound=function(){if(this instanceof bound){var F=function(){};F.prototype=target.prototype;var self=new F,result=target.apply(self,args.concat(Array.prototype.slice.call(arguments)));return Object(result)===result?result:self}return target.apply(that,args.concat(Array.prototype.slice.call(arguments)))};return bound}),soma.Event=function(type,params,bubbles,cancelable){var e=soma.Event.createGenericEvent(type,bubbles,cancelable);return null!==params&&void 0!==params&&(e.params=params),e.isCloned=!1,e.clone=this.clone.bind(e),e.isIE9orIE10=this.isIE9orIE10,e.isDefaultPrevented=this.isDefaultPrevented,(this.isIE9orIE10()||!e.preventDefault||void 0===e.getDefaultPrevented&&void 0===e.defaultPrevented)&&(e.preventDefault=this.preventDefault.bind(e)),this.isIE9orIE10()&&(e.IE9or10PreventDefault=!1),e},soma.Event.prototype.clone=function(){var e=soma.Event.createGenericEvent(this.type,this.bubbles,this.cancelable);return e.params=this.params,e.isCloned=!0,e.clone=this.clone,e.isDefaultPrevented=this.isDefaultPrevented,e.isIE9orIE10=this.isIE9orIE10,this.isIE9orIE10()&&(e.IE9or10PreventDefault=this.IE9or10PreventDefault),e},soma.Event.prototype.preventDefault=function(){return!!this.cancelable&&(this.isIE9orIE10()?this.IE9or10PreventDefault=!0:this.defaultPrevented=!0,this)},soma.Event.prototype.isDefaultPrevented=function(){return!!this.cancelable&&(this.isIE9orIE10()?this.IE9or10PreventDefault:void 0!==this.defaultPrevented?this.defaultPrevented:void 0!==this.getDefaultPrevented&&this.getDefaultPrevented())},soma.Event.createGenericEvent=function(type,bubbles,cancelable){var event;return bubbles=void 0===bubbles||bubbles,"object"==typeof document&&document.createEvent?(event=document.createEvent("Event"),event.initEvent(type,!!bubbles,!!cancelable)):"object"==typeof document&&document.createEventObject?(event=document.createEventObject(),event.type=type,event.bubbles=!!bubbles,event.cancelable=!!cancelable):event=new EventObject(type,!!bubbles,!!cancelable),event},soma.Event.prototype.isIE9orIE10=function(){return"object"==typeof document&&(void 0!==document.body.style.scrollbar3dLightColor&&void 0!==document.body.style.opacity||void 0!==document.body.style.msTouchAction)},soma.Event.prototype.toString=function(){return"[soma.Event]"};var EventObject=function(type,bubbles,cancelable){this.type=type,this.bubbles=!!bubbles,this.cancelable=!!cancelable,this.defaultPrevented=!1,this.currentTarget=null,this.target=null};soma.EventDispatcher=function(){this.listeners=[]},soma.EventDispatcher.prototype.addEventListener=function(type,listener,priority){if(this.listeners&&type&&listener){isNaN(priority)&&(priority=0);for(var i=0;i<this.listeners.length;i++){var eventObj=this.listeners[i];if(eventObj.type===type&&eventObj.listener===listener)return}this.listeners.push({type:type,listener:listener,priority:priority,scope:this})}},soma.EventDispatcher.prototype.removeEventListener=function(type,listener){if(this.listeners&&type&&listener)for(var i=this.listeners.length;i-- >0;){var eventObj=this.listeners[i];eventObj.type===type&&eventObj.listener===listener&&this.listeners.splice(i,1)}},soma.EventDispatcher.prototype.hasEventListener=function(type){if(!this.listeners||!type)return!1;for(var i=0,l=this.listeners.length;i<l;++i){if(this.listeners[i].type===type)return!0}return!1},soma.EventDispatcher.prototype.dispatchEvent=function(event){if(!this.listeners||!event)throw new Error("Error in EventDispatcher (dispatchEvent), one of the parameters is null or undefined.");var i,events=[];for(i=0;i<this.listeners.length;i++){var eventObj=this.listeners[i];eventObj.type===event.type&&events.push(eventObj)}for(events.sort(function(a,b){return b.priority-a.priority}),i=0;i<events.length;i++)events[i].listener.apply(event.srcElement?event.srcElement:event.currentTarget,[event]);return!event.isDefaultPrevented()},soma.EventDispatcher.prototype.dispatch=function(type,params,bubbles,cancelable){if(!this.listeners||!type||""===type)throw new Error("Error in EventDispatcher (dispatch), one of the parameters is null or undefined.");var event=new soma.Event(type,params,bubbles,cancelable);return this.dispatchEvent(event),event},soma.EventDispatcher.prototype.dispose=function(){this.listeners=null},soma.EventDispatcher.prototype.toString=function(){return"[soma.EventDispatcher]"},__WEBPACK_AMD_DEFINE_FACTORY__=soma,void 0!==(__WEBPACK_AMD_DEFINE_RESULT__="function"==typeof __WEBPACK_AMD_DEFINE_FACTORY__?__WEBPACK_AMD_DEFINE_FACTORY__.call(exports,__webpack_require__,exports,module):__WEBPACK_AMD_DEFINE_FACTORY__)&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__),void 0!==module&&void 0!==module.exports&&(module.exports=soma),exports=soma}(this.soma=this.soma||{}),function(soma,infuse){"use strict";soma.version="2.1.1",soma.applyProperties=function(target,extension,bindToExtension,list){if("[object Array]"===Object.prototype.toString.apply(list))for(var i=0,l=list.length;i<l;i++)void 0!==target[list[i]]&&null!==target[list[i]]||(bindToExtension&&"function"==typeof extension[list[i]]?target[list[i]]=extension[list[i]].bind(extension):target[list[i]]=extension[list[i]]);else for(var prop in extension)bindToExtension&&"function"==typeof extension[prop]?target[prop]=extension[prop].bind(extension):target[prop]=extension[prop]},soma.augment=function(target,extension,list){if(extension.prototype&&target.prototype)if("[object Array]"===Object.prototype.toString.apply(list))for(var i=0,l=list.length;i<l;i++)target.prototype[list[i]]||(target.prototype[list[i]]=extension.prototype[list[i]]);else for(var prop in extension.prototype)target.prototype[prop]||(target.prototype[prop]=extension.prototype[prop])},soma.inherit=function(parent,obj){var Subclass;Subclass=obj&&obj.hasOwnProperty("constructor")?obj.constructor:function(){return parent.apply(this,arguments)};var Chain=function(){};return Chain.prototype=parent.prototype,Subclass.prototype=new Chain,obj&&soma.applyProperties(Subclass.prototype,obj),Subclass.prototype.constructor=Subclass,Subclass.parent=parent.prototype,Subclass.extend=function(obj){return soma.inherit(Subclass,obj)},Subclass},soma.extend=function(obj){return soma.inherit(function(){},obj)};var plugins=[];soma.plugins=soma.plugins||{},soma.plugins.add=function(plugin){plugins.push(plugin)},soma.plugins.remove=function(plugin){for(var i=plugins.length-1,l=0;i>=l;i--)plugin===plugins[i]&&plugins.splice(i,1)},soma.Application=soma.extend({constructor:function(){function setup(){self.injector=new infuse.Injector(self.dispatcher),self.dispatcher=new soma.EventDispatcher,self.injector.mapValue("injector",self.injector),self.injector.mapValue("instance",self),self.injector.mapValue("dispatcher",self.dispatcher),self.injector.mapClass("mediators",Mediators,!0),self.mediators=self.injector.getValue("mediators"),self.injector.mapClass("commands",Commands,!0),self.commands=self.injector.getValue("commands");for(var i=0,l=plugins.length;i<l;i++)self.createPlugin(plugins[i])}var self=this;setup.bind(this)(),this.init(),this.start()},createPlugin:function(){if(0===arguments.length||!arguments[0])throw new Error("Error creating a plugin, plugin class is missing.");for(var params=infuse.getConstructorParams(arguments[0]),args=[arguments[0]],i=0,l=params.length;i<l;i++)this.injector.hasMapping(params[i])||this.injector.hasInheritedMapping(params[i])?args.push(this.injector.getValue(params[i])):args.push(void 0);var a=args.length-1;for(args.length;a>=0&&void 0===args[a];a--)args.splice(a,1);for(var j=1,k=arguments.length;j<k;j++)args.push(arguments[j]);return this.injector.createInstance.apply(this.injector,args)},init:function(){},start:function(){},dispose:function(){this.injector&&(this.injector.removeMapping("injector"),this.injector.removeMapping("dispatcher"),this.injector.removeMapping("mediators"),this.injector.removeMapping("commands"),this.injector.removeMapping("instance")),this.injector&&this.injector.dispose(),this.dispatcher&&this.dispatcher.dispose(),this.mediators&&this.mediators.dispose(),this.commands&&this.commands.dispose(),this.injector=void 0,this.dispatcher=void 0,this.mediators=void 0,this.commands=void 0,this.instance=void 0}});var Mediators=soma.extend({constructor:function(){this.injector=null,this.dispatcher=null},create:function(cl,target){if(!cl||"function"!=typeof cl)throw new Error("Error creating a mediator, the first parameter must be a function.");if(void 0===target||null===target)throw new Error("Error creating a mediator, the second parameter cannot be undefined or null.");var targets=[],meds=[];target.length>0?targets=target:targets.push(target);for(var i=0,l=targets.length;i<l;i++){var injector=this.injector.createChild();injector.mapValue("target",targets[i]);var mediator=injector.createInstance(cl);if(1===targets.length)return mediator;meds.push(mediator)}return meds},dispose:function(){this.injector=void 0,this.dispatcher=void 0}}),Commands=soma.extend({constructor:function(){this.boundHandler=this.handler.bind(this),this.dispatcher=null,this.injector=null,this.list={}},has:function(commandName){return null!==this.list[commandName]&&void 0!==this.list[commandName]},get:function(commandName){if(this.has(commandName))return this.list[commandName]},getAll:function(){var copy={};for(var cmd in this.list)this.list.hasOwnProperty(cmd)&&(copy[cmd]=this.list[cmd]);return copy},add:function(commandName,command){if("string"!=typeof commandName)throw new Error("Error adding a command, the first parameter must be a string.");if("function"!=typeof command)throw new Error('Error adding a command with the name "'+command+'", the second parameter must be a function, and must contain an "execute" public method.');if(this.has(commandName))throw new Error('Error adding a command with the name: "'+commandName+'", already registered.');this.list[commandName]=command,this.addInterceptor(commandName)},remove:function(commandName){this.has(commandName)&&(this.list[commandName]=void 0,delete this.list[commandName],this.removeInterceptor(commandName))},addInterceptor:function(commandName){this.dispatcher.addEventListener(commandName,this.boundHandler,-Number.MAX_VALUE)},removeInterceptor:function(commandName){this.dispatcher.removeEventListener(commandName,this.boundHandler)},handler:function(event){event.isDefaultPrevented&&!event.isDefaultPrevented()&&this.executeCommand(event)},executeCommand:function(event){var commandName=event.type;if(this.has(commandName)){var command=this.injector.createInstance(this.list[commandName]);if(!command.hasOwnProperty("execute")&&"function"===command.execute)throw new Error("Error in "+this+" Command "+command+" must contain an execute public method.");command.execute(event)}},dispose:function(){for(var cmd in this.list)this.list.hasOwnProperty(cmd)&&this.remove(cmd);this.boundHandler=void 0,this.dispatcher=void 0,this.injector=void 0,this.list=void 0}});soma.EventDispatcher.extend=function(obj){return soma.inherit(soma.EventDispatcher,obj)},soma.Event.extend=function(obj){return soma.inherit(soma.Event,obj)},infuse.Injector.extend=function(obj){return soma.inherit(infuse.Injector,obj)},__WEBPACK_AMD_DEFINE_FACTORY__=soma,void 0!==(__WEBPACK_AMD_DEFINE_RESULT__="function"==typeof __WEBPACK_AMD_DEFINE_FACTORY__?__WEBPACK_AMD_DEFINE_FACTORY__.call(exports,__webpack_require__,exports,module):__WEBPACK_AMD_DEFINE_FACTORY__)&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__),void 0!==module&&void 0!==module.exports?module.exports=soma:window.soma=soma}(this.soma=this.soma||{},this.infuse)},2:function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_FACTORY__,__WEBPACK_AMD_DEFINE_RESULT__;(function(soma){!function(soma){"use strict";function isArray(value){return"[object Array]"===Object.prototype.toString.apply(value)}function isObject(value){return"object"==typeof value}function isString(value){return"string"==typeof value}function isElement(value){return!!value&&value.nodeType>0}function isTextNode(el){return el&&el.nodeType&&3===el.nodeType}function isFunction(value){return value&&"function"==typeof value}function isDefined(value){return null!==value&&void 0!==value}function normalizeBoolean(value){return!!isDefined(value)&&("true"===value||"1"===value||!0===value||1===value||!("false"===value||"0"===value||!1===value||0===value||isString(value)&&hasInterpolation(value))&&!!value)}function isExpression(value){return value&&isFunction(value.toString)&&"[object Expression]"===value.toString()}function isExpFunction(value){return!!isString(value)&&!!value.match(regex.func)}function childNodeIsTemplate(node){return node&&node.parent&&templates.get(node.element)}function escapeRegExp(str){return str.replace(regex.escape,"\\$&")}function setRegEX(nonEscapedValue,isStartToken){var unescapedCurrentStartToken=tokens.start().replace(/\\/g,""),endSequence="",ts=isStartToken?nonEscapedValue:unescapedCurrentStartToken;ts.length>1&&(endSequence="|\\"+ts.substr(0,1)+"(?!\\"+ts.substr(1,1)+")[^"+ts.substr(0,1)+"]*"),regex.sequence=new RegExp(tokens.start()+".+?"+tokens.end()+"|[^"+tokens.start()+"]+"+endSequence,"g"),regex.token=new RegExp(tokens.start()+".*?"+tokens.end(),"g"),regex.expression=new RegExp(tokens.start()+"|"+tokens.end(),"gm")}function trim(value){return value.replace(regex.trim,"")}function trimQuotes(value){return regex.string.test(value)?value.substr(1,value.length-2):value}function trimArray(value){return""===value[0]&&value.shift(),""===value[value.length-1]&&value.pop(),value}function trimTokens(value){return value.replace(regex.expression,"")}function trimScopeDepth(value){return value.replace(regex.depth,"")}function insertBefore(referenceNode,newNode){referenceNode.parentNode&&referenceNode.parentNode.insertBefore(newNode,referenceNode)}function insertAfter(referenceNode,newNode){referenceNode.parentNode&&referenceNode.parentNode.insertBefore(newNode,referenceNode.nextSibling)}function removeClass(elm,className){var rmc;(rmc="object"==typeof document&&document.documentElement.classList?function(elm,className){elm.classList.remove(className)}:function(elm,className){if(!elm||!elm.className)return!1;var reg=new RegExp("(^|\\s)"+className+"(\\s|$)","g");elm.className=elm.className.replace(reg,"$2")})(elm,className)}function HashMap(id){function uuid(){return++count+id}function getKey(target){if(target){if("object"!=typeof target)return target;var result;try{result=target[id]?target[id]:target[id]=uuid()}catch(err){}return result}}var items={},count=0;this.remove=function(key){delete items[getKey(key)]},this.get=function(key){return items[getKey(key)]},this.put=function(key,value){items[getKey(key)]=value},this.has=function(key){return void 0!==items[getKey(key)]},this.getData=function(){return items},this.dispose=function(){for(var key in items)items.hasOwnProperty(key)&&delete items[key];this.length=0}}function getRepeaterData(repeaterValue,scope){var parts=repeaterValue.match(regex.repeat);if(parts){var source=parts[2];return new Expression(source).getValue(scope)}}function updateScopeWithRepeaterData(repeaterValue,scope,data){var parts=repeaterValue.match(regex.repeat);if(parts){scope[parts[1]]=data}}function getWatcherValue(exp,newValue){var node=exp.node||exp.attribute.node,watchers=node.template.watchers,nodeTarget=node.element;if(!watchers)return newValue;var watcherNode=watchers.get(nodeTarget);!watcherNode&&isTextNode(node.element)&&node.parent&&(watcherNode=watchers.get(node.parent.element));var watcher=watcherNode||watchers.get(exp.pattern);if(isFunction(watcher)){var watcherValue=watcher(exp.value,newValue,exp.pattern,node.scope,node,exp.attribute);if(isDefined(watcherValue))return watcherValue}return newValue}function getScopeFromPattern(scope,pattern){for(var depth=getScopeDepth(pattern),scopeTarget=scope;depth>0;)scopeTarget=scopeTarget._parent?scopeTarget._parent:scopeTarget,depth--;return scopeTarget}function getValueFromPattern(scope,pattern,context){var exp=new Expression(pattern);return getValue(scope,exp.pattern,exp.path,exp.params,void 0,void 0,void 0,context)}function getValue(scope,pattern,pathString,params,getFunction,getParams,paramsFound,context){if(pattern===vars.element)return context[vars.element];if(pattern===vars.parentElement)return context[vars.parentElement];if(pattern===vars.attribute)return context[vars.attribute];if(pattern===vars.scope)return context[vars.scope];if(regex.string.test(pattern))return trimQuotes(pattern);if(!isNaN(pattern))return+pattern;var paramsValues=[];if(!paramsFound&&params)for(var j=0,jl=params.length;j<jl;j++)paramsValues.push(getValueFromPattern(scope,params[j],context));else paramsValues=paramsFound;if(getParams)return paramsValues;var scopeTarget=getScopeFromPattern(scope,pattern);if(pattern=pattern.replace(/..\//g,""),pathString=pathString.replace(/..\//g,""),scopeTarget){var path=scopeTarget,pathParts=pathString.split(/\.|\[|\]/g);if(pathParts.length>0)for(var i=0,l=pathParts.length;i<l;i++)if(""!==pathParts[i]&&(path=path[pathParts[i]]),!isDefined(path))return scopeTarget._parent?getValue(scopeTarget._parent,pattern,pathString,params,getFunction,getParams,paramsValues):void 0;return isFunction(path)?getFunction?path:path.apply(null,paramsValues):path}}function getExpressionPath(value){var val=value.split("(")[0];return val=trimScopeDepth(val)}function getParamsFromString(value){return trimArray(value.split(regex.params))}function getScopeDepth(value){var val=value.split("(")[0],matches=val.match(regex.depth);return matches?matches.length:0}function addAttribute(node,name,value){var attr;return node.attributes=node.attributes||[],name===settings.attributes.skip&&(node.skip=normalizeBoolean(value)),name===settings.attributes.html&&(node.html=normalizeBoolean(value)),name!==settings.attributes.repeat||node.isRepeaterDescendant||(node.repeater=value),(hasInterpolation(name+":"+value)||name===settings.attributes.repeat||name===settings.attributes.skip||name===settings.attributes.html||name===settings.attributes.show||name===settings.attributes.hide||name===settings.attributes.href||name===settings.attributes.class||name===settings.attributes.checked||name===settings.attributes.disabled||name===settings.attributes.multiple||name===settings.attributes.readonly||name===settings.attributes.selected||-1!==value.indexOf(settings.attributes.cloak))&&(attr=new Attribute(name,value,node),node.attributes.push(attr)),events[name]&&(attr=new Attribute(name,value,node),node.attributes.push(attr)),attr}function getNodeFromElement(element,scope){var node=new Node(element,scope);node.previousSibling=element.previousSibling,node.nextSibling=element.nextSibling;for(var attr,eventsArray=[],attrs=element.attributes,j=0,jj=attrs&&attrs.length;j<jj;j++)if(attr=attrs[j],attr.specified||"value"===attr.name){var newAttr=addAttribute(node,attr.name,attr.value);events[attr.name]&&events[attr.name]&&!node.isRepeaterChild&&eventsArray.push({name:events[attr.name],value:attr.value,attr:newAttr})}for(var a=0,b=eventsArray.length;a<b;a++)node.addEvent(eventsArray[a].name,eventsArray[a].value,eventsArray[a].attr);return node}function hasInterpolation(value){var matches=value.match(regex.token);return matches&&matches.length>0}function hasContent(value){return regex.content.test(value)}function isElementValid(element){if(element){var type=element.nodeType;return!(!element||!type)&&(8!==type&&!(3===type&&!hasContent(element.nodeValue)&&!hasInterpolation(element.nodeValue)))}}function compile(template,element,parent,nodeTarget){if(isElementValid(element)){var node;if(nodeTarget?(node=nodeTarget,node.parent=parent):node=getNodeFromElement(element,parent?parent.scope:new Scope(helpersScopeObject)._createChild()),parent&&(parent.repeater||parent.isRepeaterChild)&&(node.isRepeaterChild=!0),node.template=template,!node.skip){for(var child=element.firstChild;child;){var childNode=compile(template,child,node);childNode&&(childNode.parent=node,node.children.push(childNode)),child=child.nextSibling}return node}}}function updateScopeWithData(scope,data){clearScope(scope);for(var d in data)data.hasOwnProperty(d)&&(scope[d]=data[d])}function clearScope(scope){for(var key in scope)scope.hasOwnProperty(key)&&"_"!==key.substr(0,1)&&(scope[key]=null,delete scope[key])}function updateNodeChildren(node){if(!node.repeater&&node.children&&!childNodeIsTemplate(node))for(var i=0,l=node.children.length;i<l;i++)node.children[i].update()}function renderNodeChildren(node){if(node.children&&!childNodeIsTemplate(node))for(var i=0,l=node.children.length;i<l;i++)node.children[i].render()}function renderNodeRepeater(node){var previousElement,data=getRepeaterData(node.repeater,node.scope);if(isArray(data)){for(var i=0,l1=data.length,l2=node.childrenRepeater.length,l=l1>l2?l1:l2;i<l;i++)i<l1?previousElement=createRepeaterChild(node,i,data[i],vars.index,i,previousElement):(node.parent.element.removeChild(node.childrenRepeater[i].element),node.childrenRepeater[i].dispose());node.childrenRepeater.length>data.length&&(node.childrenRepeater.length=data.length)}else{var count=-1;for(var o in data)data.hasOwnProperty(o)&&(count++,previousElement=createRepeaterChild(node,count,data[o],vars.key,o,previousElement));for(var size=count;count++<node.childrenRepeater.length-1;)node.parent.element.removeChild(node.childrenRepeater[count].element),node.childrenRepeater[count].dispose();node.childrenRepeater.length=size+1}node.element.parentNode&&node.element.parentNode.removeChild(node.element)}function compileClone(node,newNode){if(isElementValid(newNode.element)){if(node.attributes)for(var i=0,l=node.attributes.length;i<l;i++){var attr=node.attributes[i],newAttr=addAttribute(newNode,attr.name,attr.value);events[attr.name]&&newNode.addEvent(events[attr.name],attr.value,newAttr)}for(var child=node.element.firstChild,newChild=newNode.element.firstChild;child&&newChild;){var childNode=node.getNode(child),newChildNode=new Node(newChild,newNode.scope);newNode.children.push(newChildNode),newChildNode.parent=newNode,newChildNode.template=newNode.template,newChildNode.isRepeaterChild=!0;var compiledNode=compileClone(childNode,newChildNode);compiledNode&&(compiledNode.parent=newChildNode,compiledNode.template=newChildNode.template,newChildNode.children.push(compiledNode)),child=child.nextSibling,newChild=newChild.nextSibling}return newChildNode}}function cloneRepeaterNode(element,node){var newNode=new Node(element,node.scope._createChild());return newNode.template=node.template,newNode.parent=node,newNode.isRepeaterChild=!0,newNode.isRepeaterDescendant=!0,compileClone(node,newNode),newNode}function appendRepeaterElement(previousElement,node,newElement){previousElement?insertAfter(previousElement,newElement):node.element.previousSibling?insertAfter(node.element.previousSibling,newElement):node.element.nextSibling?insertBefore(node.element.nextSibling,newElement):node.parent.element.appendChild(newElement)}function createRepeaterChild(node,count,data,indexVar,indexVarValue,previousElement){var existingChild=node.childrenRepeater[count]
;if(existingChild)return updateScopeWithRepeaterData(node.repeater,existingChild.scope,data),existingChild.scope[indexVar]=indexVarValue,existingChild.update(),existingChild.render(),existingChild.element;var newElement=node.element.cloneNode(!0);appendRepeaterElement(previousElement,node,newElement);var newNode=cloneRepeaterNode(newElement,node);return node.childrenRepeater[count]=newNode,updateScopeWithRepeaterData(node.repeater,newNode.scope,data),newNode.scope[indexVar]=indexVarValue,newNode.update(),newNode.render(),newElement}function addEvent(element,type,handler){if(element.addEventListener)element.addEventListener(type,handler,!1);else{handler.$$guid||(handler.$$guid=addEvent.guid++),element.events||(element.events={});var handlers=element.events[type];handlers||(handlers=element.events[type]={},element["on"+type]&&(handlers[0]=element["on"+type])),handlers[handler.$$guid]=handler,element["on"+type]=function(event){var returnValue=!0;event=event||fixEvent(((this.ownerDocument||this.document||this).parentWindow||window).event);var handlers=this.events[event.type];for(var i in handlers)handlers.hasOwnProperty(i)&&(this.$$handleEvent=handlers[i],!1===this.$$handleEvent(event)&&(returnValue=!1));return returnValue}}}function removeEvent(element,type,handler){element.removeEventListener?element.removeEventListener(type,handler,!1):element.events&&element.events[type]&&delete element.events[type][handler.$$guid]}function fixEvent(event){return event.preventDefault=fixEvent.preventDefault,event.stopPropagation=fixEvent.stopPropagation,event}function parseEvents(element,object,depth){maxDepth=void 0===depth?Number.MAX_VALUE:depth,parseNode(element,object,0,!0)}function parseNode(element,object,depth,isRoot){if(!isElement(element))throw new Error("Error in soma.template.parseEvents, only a DOM Element can be parsed.");if(isRoot&&parseAttributes(element,object),0!==maxDepth)for(var child=element.firstChild;child;)1===child.nodeType&&depth<maxDepth&&(parseNode(child,object,++depth),parseAttributes(child,object)),child=child.nextSibling}function parseAttributes(element,object){for(var attr,name,value,attrs=element.attributes,j=0,jj=attrs&&attrs.length;j<jj;j++)if(attr=attrs[j],attr.specified&&(name=attr.name,value=attr.value,events[name])){var handler=getHandlerFromPattern(object,value);handler&&isFunction(handler)&&(addEvent(element,events[name],handler),eventStore.push({element:element,type:events[name],handler:handler}))}}function getHandlerFromPattern(object,pattern){var parts=pattern.match(regex.func);if(parts){var func=parts[1];if(isFunction(object[func]))return object[func]}}function clearEvents(element){for(var i=eventStore.length,l=0;--i>=l;){var item=eventStore[i];(element===item.element||contains(element,item.element))&&(removeEvent(item.element,item.type,item.handler),eventStore.splice(i,1))}}function bootstrapTemplate(attrValue,element,func){var tpl=createTemplate(element);func(tpl,tpl.scope,tpl.element,tpl.node)}function createTemplate(source,target){var element;if(isString(source)){if(!isElement(target))throw new Error(soma.template.errors.TEMPLATE_STRING_NO_ELEMENT);target.innerHTML=source,element=target}else{if(!isElement(source))throw new Error(soma.template.errors.TEMPLATE_NO_PARAM);isElement(target)?(target.innerHTML=source.innerHTML,element=target):element=source}getTemplate(element)&&(getTemplate(element).dispose(),templates.remove(element));var template=new Template(element);return templates.put(element,template),template}function getTemplate(element){return templates.get(element)}function renderAllTemplates(){var data=templates.getData();for(var key in templates.getData())data.hasOwnProperty(key)&&templates.get(key).render()}function appendHelpers(obj){if(null===obj&&(helpersObject={},helpersScopeObject={}),isDefined(obj)&&isObject(obj))for(var key in obj)obj.hasOwnProperty(key)&&(helpersObject[key]=helpersScopeObject[key]=obj[key]);return helpersObject}soma.template=soma.template||{},soma.template.version="0.3.0",soma.template.errors={TEMPLATE_STRING_NO_ELEMENT:"Error in soma.template, a string template requirement a second parameter: an element target - soma.template.create('string', element)",TEMPLATE_NO_PARAM:"Error in soma.template, a template requires at least 1 parameter - soma.template.create(element)"};var tokenStart="{{",tokenEnd="}}",helpersObject={},helpersScopeObject={},settings=soma.template.settings=soma.template.settings||{};settings.autocreate=!0;var tokens=settings.tokens={start:function(value){return isDefined(value)&&""!==value&&(tokenStart=escapeRegExp(value),setRegEX(value,!0)),tokenStart},end:function(value){return isDefined(value)&&""!==value&&(tokenEnd=escapeRegExp(value),setRegEX(value,!1)),tokenEnd}},attributes=settings.attributes={skip:"data-skip",repeat:"data-repeat",src:"data-src",href:"data-href",show:"data-show",hide:"data-hide",cloak:"data-cloak",checked:"data-checked",disabled:"data-disabled",multiple:"data-multiple",readonly:"data-readonly",selected:"data-selected",template:"data-template",html:"data-html",class:"data-class"},vars=settings.vars={index:"$index",key:"$key",element:"$element",parentElement:"$parentElement",attribute:"$attribute",scope:"$scope"},events=settings.events={};settings.eventsPrefix="data-";var eventsString="click dblclick mousedown mouseup mouseover mouseout mousemove mouseenter mouseleave keydown keyup focus blur change select selectstart scroll copy cut paste mousewheel keypress error contextmenu input textinput drag dragenter dragleave dragover dragend dragstart dragover drop load submit reset search resize beforepaste beforecut beforecopy";eventsString+=" touchstart touchend touchmove touchenter touchleave touchcancel gesturestart gesturechange gestureend";for(var eventsArray=eventsString.split(" "),i=-1,l=eventsArray.length;++i<l;)events[settings.eventsPrefix+eventsArray[i]]=eventsArray[i];var regex={sequence:null,token:null,expression:null,escape:/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,trim:/^[\s+]+|[\s+]+$/g,repeat:/(.*)\s+in\s+(.*)/,func:/(.*)\((.*)\)/,params:/,\s+|,|\s+,\s+/,quote:/\"|\'/g,content:/[^.|^\s]/gm,depth:/..\//g,string:/^(\"|\')(.*)(\"|\')$/},ie=function(){if("object"==typeof document){for(var v=3,stop=!1,div=document.createElement("div");!stop;)div.innerHTML="\x3c!--[if gt IE "+ ++v+"]><i></i><![endif]--\x3e",div.getElementsByTagName("i")[0]||(stop=!0);return v>4?v:void 0}}(),contains="object"!=typeof document?function(){}:document.documentElement.contains?function(a,b){var adown=9===a.nodeType?a.documentElement:a,bup=b&&b.parentNode;return a===bup||!!(bup&&1===bup.nodeType&&adown.contains&&adown.contains(bup))}:document.documentElement.compareDocumentPosition?function(a,b){return b&&!!(16&a.compareDocumentPosition(b))}:function(a,b){for(;b=b.parentNode;)if(b===a)return!0;return!1},Scope=function(data){function createChild(data){var obj=createObject(data);return obj._parent=self,self._children.push(obj),obj}function createObject(data){var obj=data||{};return obj._parent=null,obj._children=[],obj._createChild=function(){return self=obj,createChild.apply(obj,arguments)},obj}var self;return createObject(data)},Node=function(element,scope){this.element=element,this.scope=scope,this.attributes=null,this.value=null,this.interpolation=null,this.invalidate=!1,this.skip=!1,this.repeater=null,this.isRepeaterDescendant=!1,this.isRepeaterChild=!1,this.parent=null,this.children=[],this.childrenRepeater=[],this.previousSibling=null,this.nextSibling=null,this.template=null,this.eventHandlers={},this.html=!1,isTextNode(this.element)&&(this.value=this.element.nodeValue,this.interpolation=new Interpolation(this.value,this,void 0))};Node.prototype={toString:function(){return"[object Node]"},dispose:function(){this.clearEvents();var i,l;if(this.children)for(i=0,l=this.children.length;i<l;i++)this.children[i].dispose();if(this.childrenRepeater)for(i=0,l=this.childrenRepeater.length;i<l;i++)this.childrenRepeater[i].dispose();if(this.attributes)for(i=0,l=this.attributes.length;i<l;i++)this.attributes[i].dispose();this.interpolation&&this.interpolation.dispose(),this.element=null,this.scope=null,this.attributes=null,this.value=null,this.interpolation=null,this.repeater=null,this.parent=null,this.children=null,this.childrenRepeater=null,this.previousSibling=null,this.nextSibling=null,this.template=null,this.eventHandlers=null},getNode:function(element){var node;if(element===this.element)return this;if(this.childrenRepeater.length>0)for(var k=0,kl=this.childrenRepeater.length;k<kl;k++)if(node=this.childrenRepeater[k].getNode(element))return node;for(var i=0,l=this.children.length;i<l;i++)if(node=this.children[i].getNode(element))return node;return null},getAttribute:function(name){if(this.attributes)for(var i=0,l=this.attributes.length;i<l;i++){var att=this.attributes[i];if(att.interpolationName&&att.interpolationName.value===name)return att}},update:function(){if(!childNodeIsTemplate(this)){if(isDefined(this.interpolation)&&this.interpolation.update(),isDefined(this.attributes))for(var i=0,l=this.attributes.length;i<l;i++)this.attributes[i].update();updateNodeChildren(this)}},invalidateData:function(){if(!childNodeIsTemplate(this)){this.invalidate=!0;var i,l;if(this.attributes)for(i=0,l=this.attributes.length;i<l;i++)this.attributes[i].invalidate=!0;for(i=0,l=this.childrenRepeater.length;i<l;i++)this.childrenRepeater[i].invalidateData();for(i=0,l=this.children.length;i<l;i++)this.children[i].invalidateData()}},addEvent:function(type,pattern,attr){if(!this.repeater){this.eventHandlers[type]&&this.removeEvent(type);var scope=this.scope,node=this,handler=function(event){var exp=new Expression(pattern,node,attr),func=exp.getValue(scope,!0),params=exp.getValue(scope,!1,!0);params.unshift(event),func&&func.apply(null,params)};this.eventHandlers[type]=handler,addEvent(this.element,type,handler)}},removeEvent:function(type){removeEvent(this.element,type,this.eventHandlers[type]),this.eventHandlers[type]=null,delete this.eventHandlers[type]},clearEvents:function(){if(this.eventHandlers)for(var key in this.eventHandlers)this.eventHandlers.hasOwnProperty(key)&&this.removeEvent(key);if(this.children)for(var k=0,kl=this.children.length;k<kl;k++)this.children[k].clearEvents();if(this.childrenRepeater)for(var f=0,fl=this.childrenRepeater.length;f<fl;f++)this.childrenRepeater[f].clearEvents()},render:function(){if(!childNodeIsTemplate(this)){if(this.invalidate&&(this.invalidate=!1,isTextNode(this.element)&&(this.parent&&this.parent.html?this.value=this.parent.element.innerHTML=this.interpolation.render():this.value=this.element.nodeValue=this.interpolation.render())),this.attributes)for(var i=0,l=this.attributes.length;i<l;i++)this.attributes[i].render();this.repeater?renderNodeRepeater(this):renderNodeChildren(this)}}};var Attribute=function(name,value,node){this.name=name,this.value=value,this.node=node,this.interpolationName=new Interpolation(this.name,null,this),this.interpolationValue=new Interpolation(this.value,null,this),this.invalidate=!1};Attribute.prototype={toString:function(){return"[object Attribute]"},dispose:function(){this.interpolationName&&this.interpolationName.dispose(),this.interpolationValue&&this.interpolationValue.dispose(),this.interpolationName=null,this.interpolationValue=null,this.node=null,this.name=null,this.value=null,this.previousName=null},update:function(){this.node.repeater||(this.interpolationName.update(),this.interpolationValue.update())},render:function(){function renderAttribute(name,value,node){"value"===name&&void 0!==node.element.value?element.value=value:7===ie&&"class"===name?element.className=value:element.setAttribute(name,value)}function renderSpecialAttribute(value,attrName){normalizeBoolean(value)?element.setAttribute(attrName,attrName):element.removeAttribute(attrName)}function renderSrc(value){element.setAttribute("src",value)}function renderHref(value){element.setAttribute("href",value)}if(!this.node.repeater){var element=this.node.element;if(this.invalidate&&(this.invalidate=!1,this.previousName=this.name,this.name=isDefined(this.interpolationName.render())?this.interpolationName.render():this.name,this.value=isDefined(this.interpolationValue.render())?this.interpolationValue.render():this.value,this.name===attributes.src?renderSrc(this.value):this.name===attributes.href?renderHref(this.value):((7!==ie||7===ie&&!this.node.isRepeaterChild)&&this.node.element.removeAttribute(this.interpolationName.value),this.previousName&&(7===ie&&"class"===this.previousName?this.node.element.className="":(7!==ie||7===ie&&!this.node.isRepeaterChild)&&this.node.element.removeAttribute(this.previousName)),renderAttribute(this.name,this.value,this.node))),this.name===attributes.class){var classConfig,configProperty,propValue,valueResult;try{classConfig=JSON.parse(this.value)}catch(ex){throw new Error("Error, the value of a data-class attribute must be a valid JSON: "+this.value)}for(configProperty in classConfig)propValue=classConfig[configProperty],valueResult=!!propValue&&normalizeBoolean(propValue),!!propValue&&normalizeBoolean(propValue),valueResult?this.node.element.classList.add(configProperty):removeClass(this.node.element,configProperty)}if("class"===this.name&&-1!==this.value.indexOf(settings.attributes.cloak)&&removeClass(this.node.element,settings.attributes.cloak),this.name===attributes.hide){var bool=normalizeBoolean(this.value);renderAttribute(this.name,bool,this.node),element.style.display=bool?"none":""}if(this.name===attributes.show){var bool=normalizeBoolean(this.value);renderAttribute(this.name,bool,this.node),element.style.display=bool?"":"none"}if(this.name===attributes.checked&&(renderSpecialAttribute(this.value,"checked"),renderAttribute(this.name,!!normalizeBoolean(this.value),this.node),element.checked=!!normalizeBoolean(this.value)),this.name===attributes.disabled&&(renderSpecialAttribute(this.value,"disabled"),renderAttribute(this.name,!!normalizeBoolean(this.value),this.node)),this.name===attributes.multiple&&(renderSpecialAttribute(this.value,"multiple"),renderAttribute(this.name,!!normalizeBoolean(this.value),this.node)),this.name===attributes.readonly){var bool=normalizeBoolean(this.value);7===ie?element.readOnly=!!bool:renderSpecialAttribute(this.value,"readonly"),renderAttribute(this.name,!!bool,this.node)}this.name===attributes.selected&&(renderSpecialAttribute(this.value,"selected"),renderAttribute(this.name,!!normalizeBoolean(this.value),this.node))}}};var Interpolation=function(value,node,attribute){this.value=node&&!isTextNode(node.element)?trim(value):value,this.node=node,this.attribute=attribute,this.sequence=[],this.expressions=[];var parts=this.value.match(regex.sequence);if(parts){for(var i=0,l=parts.length;i<l;i++)if(parts[i].match(regex.token)){var exp=new Expression(trimTokens(parts[i]),this.node,this.attribute);this.sequence.push(exp),this.expressions.push(exp)}else this.sequence.push(parts[i]);trimArray(this.sequence)}};Interpolation.prototype={toString:function(){return"[object Interpolation]"},dispose:function(){if(this.expressions)for(var i=0,l=this.expressions.length;i<l;i++)this.expressions[i].dispose();this.value=null,this.node=null,this.attribute=null,this.sequence=null,this.expressions=null},update:function(){for(var i=-1,l=this.expressions.length;++i<l;)this.expressions[i].update()},render:function(){var rendered="";if(this.sequence)for(var i=0,l=this.sequence.length;i<l;i++){var val="";val=isExpression(this.sequence[i])?this.sequence[i].value:this.sequence[i],isDefined(val)||(val=""),rendered+=val}return rendered}};var Expression=function(pattern,node,attribute){isDefined(pattern)&&(this.pattern=pattern,this.isString=regex.string.test(pattern),this.node=node,this.attribute=attribute,this.value=this.isString?this.pattern:void 0,this.isString?(this.isFunction=!1,this.depth=null,this.path=null,this.params=null):(this.isFunction=isExpFunction(this.pattern),this.depth=getScopeDepth(this.pattern),this.path=getExpressionPath(this.pattern),this.params=this.isFunction?getParamsFromString(this.pattern.match(regex.func)[2]):null))};Expression.prototype={toString:function(){return"[object Expression]"},dispose:function(){this.pattern=null,this.node=null,this.attribute=null,this.path=null,this.params=null,this.value=null},update:function(){var node=this.node;if(!node&&this.attribute&&(node=this.attribute.node),node||!node.scope){var newValue=this.getValue(node.scope);newValue=getWatcherValue(this,newValue),this.value!==newValue&&(this.value=newValue,(this.node||this.attribute).invalidate=!0)}},getValue:function(scope,getFunction,getParams){var node=this.node;!node&&this.attribute&&(node=this.attribute.node);var context={};return node&&(context[vars.element]=node.element,node.element&&(context[vars.parentElement]=node.element.parentNode)),context[vars.attribute]=this.attribute,context[vars.scope]=scope,getValue(scope,this.pattern,this.path,this.params,getFunction,getParams,void 0,context)}};var templates=new HashMap("st"),Template=function(element){this.watchers=new HashMap("stw"),this.node=null,this.scope=null,this.compile(element)};Template.prototype={toString:function(){return"[object Template]"},compile:function(element){element&&(this.element=element),this.node&&this.node.dispose(),this.node=compile(this,this.element),this.node.root=!0,this.scope=this.node.scope},update:function(data){isDefined(data)&&updateScopeWithData(this.node.scope,data),this.node&&this.node.update()},render:function(data){this.update(data),this.node&&this.node.render()},invalidate:function(){this.node&&this.node.invalidateData()},watch:function(target,watcher){(isString(target)||isElement(target))&&isFunction(watcher)&&this.watchers.put(target,watcher)},unwatch:function(target){this.watchers.remove(target)},clearWatchers:function(){this.watchers.dispose()},clearEvents:function(){this.node.clearEvents()},getNode:function(element){return this.node.getNode(element)},dispose:function(){templates.remove(this.element),this.watchers&&this.watchers.dispose(),this.node&&this.node.dispose(),this.element=null,this.watchers=null,this.node=null}},addEvent.guid=1,fixEvent.preventDefault=function(){this.returnValue=!1},fixEvent.stopPropagation=function(){this.cancelBubble=!0};var maxDepth,ready,eventStore=[];if("object"==typeof document){var ready=function(){function l(b){for(k=1;b=a.shift();)b()}var b,a=[],c=!1,d=document,e=d.documentElement,f=e.doScroll,g="DOMContentLoaded",h="addEventListener",i="onreadystatechange",j="readyState",k=/^loade|c/.test(d[j]);return d[h]&&d[h](g,b=function(){d.removeEventListener(g,b,c),l()},c),f&&d.attachEvent(i,b=function(){/^c/.test(d[j])&&(d.detachEvent(i,b),l())}),f?function(b){self!=top?k?b():a.push(b):function(){try{e.doScroll("left")}catch(a){return setTimeout(function(){ready(b)},50)}b()}()}:function(b){k?b():a.push(b)}}();if(settings.autocreate){var parse=function(element){for(var child=element?element.firstChild:document.body;child;){if(1===child.nodeType){parse(child);var attrValue=child.getAttribute(attributes.template);if(attrValue){var getFunction=new Function("return "+attrValue+";"),f=getFunction();isFunction(f)&&soma.template.bootstrap(attrValue,child,f)}}child=child.nextSibling}};ready(parse)}}tokens.start(tokenStart),tokens.end(tokenEnd),soma.plugins=soma.plugins||{};var TemplatePlugin=function(instance,injector){instance.constructor.prototype.createTemplate=function(cl,domElement){if(!cl||"function"!=typeof cl)throw new Error("Error creating a template, the first parameter must be a function.");if(domElement&&isElement(domElement)){var template=soma.template.create(domElement);for(var key in template)"function"==typeof template[key]&&(cl.prototype[key]=template[key].bind(template));cl.prototype.render=template.render.bind(template);var childInjector=injector.createChild();return childInjector.mapValue("template",template),childInjector.mapValue("scope",template.scope),childInjector.mapValue("element",template.element),childInjector.createInstance(cl)}return null},soma.template.bootstrap=function(attrValue,element,func){instance.createTemplate(func,element)}};soma.plugins&&soma.plugins.add&&soma.plugins.add(TemplatePlugin),soma.template.Plugin=TemplatePlugin,soma.template.create=createTemplate,soma.template.get=getTemplate,soma.template.renderAll=renderAllTemplates,soma.template.helpers=appendHelpers,soma.template.bootstrap=bootstrapTemplate,soma.template.addEvent=addEvent,soma.template.removeEvent=removeEvent,soma.template.parseEvents=parseEvents,soma.template.clearEvents=clearEvents,soma.template.ready=ready,__WEBPACK_AMD_DEFINE_FACTORY__=soma.template,void 0!==(__WEBPACK_AMD_DEFINE_RESULT__="function"==typeof __WEBPACK_AMD_DEFINE_FACTORY__?__WEBPACK_AMD_DEFINE_FACTORY__.call(exports,__webpack_require__,exports,module):__WEBPACK_AMD_DEFINE_FACTORY__)&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__),void 0!==module&&void 0!==module.exports&&(module.exports=soma.template),exports=soma.template}(soma)}).call(exports,__webpack_require__(1))},3:function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_FACTORY__,__WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;!function(window,document,undefined){!function(factory){"use strict";__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__(4)],__WEBPACK_AMD_DEFINE_FACTORY__=factory,(__WEBPACK_AMD_DEFINE_RESULT__="function"==typeof __WEBPACK_AMD_DEFINE_FACTORY__?__WEBPACK_AMD_DEFINE_FACTORY__.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__):__WEBPACK_AMD_DEFINE_FACTORY__)!==undefined&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__)}(function($){"use strict";function QTip(target,options,id,attr){this.id=id,this.target=target,this.tooltip=NULL,this.elements={target:target},this._id=NAMESPACE+"-"+id,this.timers={img:{}},this.options=options,this.plugins={},this.cache={event:{},target:$(),disabled:FALSE,attr:attr,onTooltip:FALSE,lastClass:""},this.rendered=this.destroyed=this.disabled=this.waiting=this.hiddenDuringWait=this.positioning=this.triggering=FALSE}function invalidOpt(a){return a===NULL||"object"!==$.type(a)}function invalidContent(c){return!($.isFunction(c)||c&&c.attr||c.length||"object"===$.type(c)&&(c.jquery||c.then))}function sanitizeOptions(opts){var content,text,ajax,once;return invalidOpt(opts)?FALSE:(invalidOpt(opts.metadata)&&(opts.metadata={type:opts.metadata}),"content"in opts&&(content=opts.content,invalidOpt(content)||content.jquery||content.done?content=opts.content={text:text=invalidContent(content)?FALSE:content}:text=content.text,"ajax"in content&&(ajax=content.ajax,once=ajax&&ajax.once!==FALSE,delete content.ajax,content.text=function(event,api){var loading=text||$(this).attr(api.options.content.attr)||"Loading...",deferred=$.ajax($.extend({},ajax,{context:api})).then(ajax.success,NULL,ajax.error).then(function(content){return content&&once&&api.set("content.text",content),content},function(xhr,status,error){api.destroyed||0===xhr.status||api.set("content.text",status+": "+error)});return once?loading:(api.set("content.text",loading),deferred)}),"title"in content&&(invalidOpt(content.title)||(content.button=content.title.button,content.title=content.title.text),invalidContent(content.title||FALSE)&&(content.title=FALSE))),"position"in opts&&invalidOpt(opts.position)&&(opts.position={my:opts.position,at:opts.position}),"show"in opts&&invalidOpt(opts.show)&&(opts.show=opts.show.jquery?{target:opts.show}:opts.show===TRUE?{ready:TRUE}:{event:opts.show}),"hide"in opts&&invalidOpt(opts.hide)&&(opts.hide=opts.hide.jquery?{target:opts.hide}:{event:opts.hide}),"style"in opts&&invalidOpt(opts.style)&&(opts.style={classes:opts.style}),$.each(PLUGINS,function(){this.sanitize&&this.sanitize(opts)}),opts)}function convertNotation(options,notation){for(var obj,i=0,option=options,levels=notation.split(".");option=option[levels[i++]];)i<levels.length&&(obj=option);return[obj||options,levels.pop()]}function setCallback(notation,args){var category,rule,match;for(category in this.checks)for(rule in this.checks[category])(match=new RegExp(rule,"i").exec(notation))&&(args.push(match),("builtin"===category||this.plugins[category])&&this.checks[category][rule].apply(this.plugins[category]||this,args))}function createWidgetClass(cls){return WIDGET.concat("").join(cls?"-"+cls+" ":" ")}function cloneEvent(event){return event&&{type:event.type,pageX:event.pageX,pageY:event.pageY,target:event.target,relatedTarget:event.relatedTarget,scrollX:event.scrollX||window.pageXOffset||document.body.scrollLeft||document.documentElement.scrollLeft,scrollY:event.scrollY||window.pageYOffset||document.body.scrollTop||document.documentElement.scrollTop}||{}}function delay(callback,duration){if(duration>0)return setTimeout($.proxy(callback,this),duration);callback.call(this)}function showMethod(event){if(this.tooltip.hasClass(CLASS_DISABLED))return FALSE;null!==this.timers&&(clearTimeout(this.timers.show),clearTimeout(this.timers.hide),this.timers.show=delay.call(this,function(){this.toggle(TRUE,event)},this.options.show.delay))}function hideMethod(event){if(this.tooltip.hasClass(CLASS_DISABLED))return FALSE;var relatedTarget=$(event.relatedTarget),ontoTooltip=relatedTarget.closest(SELECTOR)[0]===this.tooltip[0],ontoTarget=relatedTarget[0]===this.options.show.target[0];if(clearTimeout(this.timers.show),clearTimeout(this.timers.hide),this!==relatedTarget[0]&&"mouse"===this.options.position.target&&ontoTooltip||this.options.hide.fixed&&/mouse(out|leave|move)/.test(event.type)&&(ontoTooltip||ontoTarget))try{event.preventDefault(),event.stopImmediatePropagation()}catch(e){}else this.timers.hide=delay.call(this,function(){this.toggle(FALSE,event)},this.options.hide.delay,this)}function inactiveMethod(event){if(this.tooltip.hasClass(CLASS_DISABLED)||!this.options.hide.inactive)return FALSE;null!==this.timers&&(clearTimeout(this.timers.inactive),this.timers.inactive=delay.call(this,function(){this.hide(event)},this.options.hide.inactive))}function repositionMethod(event){this.rendered&&this.tooltip[0].offsetWidth>0&&this.reposition(event)}function delegate(selector,events,method){$(document.body).delegate(selector,(events.split?events:events.join(ns+" "))+ns,function(){var api=QTIP.api[$.attr(this,ATTR_ID)];api&&!api.disabled&&method.apply(api,arguments)})}function init(elem,id,opts){var obj,posOptions,attr,config,title,docBody=$(document.body),newTarget=elem[0]===document?docBody:elem,metadata=elem.metadata?elem.metadata(opts.metadata):NULL,metadata5="html5"===opts.metadata.type&&metadata?metadata[opts.metadata.name]:NULL,html5=elem.data(opts.metadata.name||"qtipopts");try{html5="string"==typeof html5?$.parseJSON(html5):html5}catch(e){}if(config=$.extend(TRUE,{},QTIP.defaults,opts,"object"==typeof html5?sanitizeOptions(html5):NULL,sanitizeOptions(metadata5||metadata)),posOptions=config.position,config.id=id,"boolean"==typeof config.content.text){if(attr=elem.attr(config.content.attr),config.content.attr===FALSE||!attr)return FALSE;config.content.text=attr}if(posOptions.container.length||(posOptions.container=docBody),posOptions.target===FALSE&&(posOptions.target=newTarget),config.show.target===FALSE&&(config.show.target=newTarget),config.show.solo===TRUE&&(config.show.solo=posOptions.container.closest("body")),config.hide.target===FALSE&&(config.hide.target=newTarget),config.position.viewport===TRUE&&(config.position.viewport=posOptions.container),posOptions.container=posOptions.container.eq(0),posOptions.at=new CORNER(posOptions.at,TRUE),posOptions.my=new CORNER(posOptions.my),elem.data(NAMESPACE))if(config.overwrite)elem.qtip("destroy",!0);else if(config.overwrite===FALSE)return FALSE;return elem.attr(ATTR_HAS,id),config.suppress&&(title=elem.attr("title"))&&elem.removeAttr("title").attr(oldtitle,title).attr("title",""),obj=new QTip(elem,config,id,!!attr),elem.data(NAMESPACE,obj),elem.one("remove.qtip-"+id+" removeqtip.qtip-"+id,function(){var api;(api=$(this).data(NAMESPACE))&&api.destroy(!0)}),obj}function camel(s){return s.charAt(0).toUpperCase()+s.slice(1)}function vendorCss(elem,prop){var cur,val,ucProp=prop.charAt(0).toUpperCase()+prop.slice(1),props=(prop+" "+cssPrefixes.join(ucProp+" ")+ucProp).split(" "),i=0;if(cssProps[prop])return elem.css(cssProps[prop]);for(;cur=props[i++];)if((val=elem.css(cur))!==undefined)return cssProps[prop]=cur,val}function intCss(elem,prop){return Math.ceil(parseFloat(vendorCss(elem,prop)))}function Tip(qtip,options){this._ns="tip",this.options=options,this.offset=options.offset,this.size=[options.width,options.height],this.init(this.qtip=qtip)}function Modal(api,options){this.options=options,this._ns="-modal",this.init(this.qtip=api)}function Ie6(api,qtip){this._ns="ie6",this.init(this.qtip=api)}var QTIP,PROTOTYPE,CORNER,CHECKS,trackingBound,TRUE=!0,FALSE=!1,NULL=null,X="x",Y="y",WIDTH="width",HEIGHT="height",TOP="top",LEFT="left",BOTTOM="bottom",RIGHT="right",CENTER="center",FLIPINVERT="flipinvert",SHIFT="shift",PLUGINS={},NAMESPACE="qtip",ATTR_HAS="data-hasqtip",ATTR_ID="data-qtip-id",WIDGET=["ui-widget","ui-tooltip"],SELECTOR="."+NAMESPACE,INACTIVE_EVENTS="click dblclick mousedown mouseup mousemove mouseleave mouseenter".split(" "),CLASS_FIXED=NAMESPACE+"-fixed",CLASS_DEFAULT=NAMESPACE+"-default",CLASS_FOCUS=NAMESPACE+"-focus",CLASS_HOVER=NAMESPACE+"-hover",CLASS_DISABLED=NAMESPACE+"-disabled",replaceSuffix="_replacedByqTip",oldtitle="oldtitle",BROWSER={ie:function(){for(var v=3,div=document.createElement("div");(div.innerHTML="\x3c!--[if gt IE "+ ++v+"]><i></i><![endif]--\x3e")&&div.getElementsByTagName("i")[0];);return v>4?v:NaN}(),iOS:parseFloat((""+(/CPU.*OS ([0-9_]{1,5})|(CPU like).*AppleWebKit.*Mobile/i.exec(navigator.userAgent)||[0,""])[1]).replace("undefined","3_2").replace("_",".").replace("_",""))||FALSE};PROTOTYPE=QTip.prototype,PROTOTYPE._when=function(deferreds){return $.when.apply($,deferreds)},PROTOTYPE.render=function(show){if(this.rendered||this.destroyed)return this;var self=this,options=this.options,cache=this.cache,elements=this.elements,text=options.content.text,title=options.content.title,button=options.content.button,posOptions=options.position,deferreds=(this._id,[]);return $.attr(this.target[0],"aria-describedby",this._id),this.tooltip=elements.tooltip=$("<div/>",{id:this._id,class:[NAMESPACE,CLASS_DEFAULT,options.style.classes,NAMESPACE+"-pos-"+options.position.my.abbrev()].join(" "),width:options.style.width||"",height:options.style.height||"",tracking:"mouse"===posOptions.target&&posOptions.adjust.mouse,role:"alert","aria-live":"polite","aria-atomic":FALSE,"aria-describedby":this._id+"-content","aria-hidden":TRUE}).toggleClass(CLASS_DISABLED,this.disabled).attr(ATTR_ID,this.id).data(NAMESPACE,this).appendTo(posOptions.container).append(elements.content=$("<div />",{class:NAMESPACE+"-content",id:this._id+"-content","aria-atomic":TRUE})),this.rendered=-1,this.positioning=TRUE,title&&(this._createTitle(),$.isFunction(title)||deferreds.push(this._updateTitle(title,FALSE))),button&&this._createButton(),$.isFunction(text)||deferreds.push(this._updateContent(text,FALSE)),this.rendered=TRUE,this._setWidget(),$.each(PLUGINS,function(name){var instance;"render"===this.initialize&&(instance=this(self))&&(self.plugins[name]=instance)}),this._unassignEvents(),this._assignEvents(),this._when(deferreds).then(function(){self._trigger("render"),self.positioning=FALSE,self.hiddenDuringWait||!options.show.ready&&!show||self.toggle(TRUE,cache.event,FALSE),self.hiddenDuringWait=FALSE}),QTIP.api[this.id]=this,this},PROTOTYPE.destroy=function(immediate){function process(){if(!this.destroyed){this.destroyed=TRUE;var target=this.target,title=target.attr(oldtitle);this.rendered&&this.tooltip.stop(1,0).find("*").remove().end().remove(),$.each(this.plugins,function(name){this.destroy&&this.destroy()}),clearTimeout(this.timers.show),clearTimeout(this.timers.hide),this._unassignEvents(),target.removeData(NAMESPACE).removeAttr(ATTR_ID).removeAttr(ATTR_HAS).removeAttr("aria-describedby"),this.options.suppress&&title&&target.attr("title",title).removeAttr(oldtitle),
this._unbind(target),this.options=this.elements=this.cache=this.timers=this.plugins=this.mouse=NULL,delete QTIP.api[this.id]}}return this.destroyed?this.target:(immediate===TRUE&&"hide"!==this.triggering||!this.rendered?process.call(this):(this.tooltip.one("tooltiphidden",$.proxy(process,this)),!this.triggering&&this.hide()),this.target)},CHECKS=PROTOTYPE.checks={builtin:{"^id$":function(obj,o,v,prev){var id=v===TRUE?QTIP.nextid:v,new_id=NAMESPACE+"-"+id;id!==FALSE&&id.length>0&&!$("#"+new_id).length?(this._id=new_id,this.rendered&&(this.tooltip[0].id=this._id,this.elements.content[0].id=this._id+"-content",this.elements.title[0].id=this._id+"-title")):obj[o]=prev},"^prerender":function(obj,o,v){v&&!this.rendered&&this.render(this.options.show.ready)},"^content.text$":function(obj,o,v){this._updateContent(v)},"^content.attr$":function(obj,o,v,prev){this.options.content.text===this.target.attr(prev)&&this._updateContent(this.target.attr(v))},"^content.title$":function(obj,o,v){if(!v)return this._removeTitle();v&&!this.elements.title&&this._createTitle(),this._updateTitle(v)},"^content.button$":function(obj,o,v){this._updateButton(v)},"^content.title.(text|button)$":function(obj,o,v){this.set("content."+o,v)},"^position.(my|at)$":function(obj,o,v){"string"==typeof v&&(obj[o]=new CORNER(v,"at"===o))},"^position.container$":function(obj,o,v){this.rendered&&this.tooltip.appendTo(v)},"^show.ready$":function(obj,o,v){v&&(!this.rendered&&this.render(TRUE)||this.toggle(TRUE))},"^style.classes$":function(obj,o,v,p){this.rendered&&this.tooltip.removeClass(p).addClass(v)},"^style.(width|height)":function(obj,o,v){this.rendered&&this.tooltip.css(o,v)},"^style.widget|content.title":function(){this.rendered&&this._setWidget()},"^style.def":function(obj,o,v){this.rendered&&this.tooltip.toggleClass(CLASS_DEFAULT,!!v)},"^events.(render|show|move|hide|focus|blur)$":function(obj,o,v){this.rendered&&this.tooltip[($.isFunction(v)?"":"un")+"bind"]("tooltip"+o,v)},"^(show|hide|position).(event|target|fixed|inactive|leave|distance|viewport|adjust)":function(){if(this.rendered){var posOptions=this.options.position;this.tooltip.attr("tracking","mouse"===posOptions.target&&posOptions.adjust.mouse),this._unassignEvents(),this._assignEvents()}}}},PROTOTYPE.get=function(notation){if(this.destroyed)return this;var o=convertNotation(this.options,notation.toLowerCase()),result=o[0][o[1]];return result.precedance?result.string():result};var rmove=/^position\.(my|at|adjust|target|container|viewport)|style|content|show\.ready/i,rrender=/^prerender|show\.ready/i;PROTOTYPE.set=function(option,value){if(this.destroyed)return this;var name,rendered=this.rendered,reposition=FALSE,options=this.options;this.checks;return"string"==typeof option?(name=option,option={},option[name]=value):option=$.extend({},option),$.each(option,function(notation,value){if(rendered&&rrender.test(notation))return void delete option[notation];var previous,obj=convertNotation(options,notation.toLowerCase());previous=obj[0][obj[1]],obj[0][obj[1]]=value&&value.nodeType?$(value):value,reposition=rmove.test(notation)||reposition,option[notation]=[obj[0],obj[1],value,previous]}),sanitizeOptions(options),this.positioning=TRUE,$.each(option,$.proxy(setCallback,this)),this.positioning=FALSE,this.rendered&&this.tooltip[0].offsetWidth>0&&reposition&&this.reposition("mouse"===options.position.target?NULL:this.cache.event),this},PROTOTYPE._update=function(content,element,reposition){var self=this,cache=this.cache;return this.rendered&&content?($.isFunction(content)&&(content=content.call(this.elements.target,cache.event,this)||""),$.isFunction(content.then)?(cache.waiting=TRUE,content.then(function(c){return cache.waiting=FALSE,self._update(c,element)},NULL,function(e){return self._update(e,element)})):content===FALSE||!content&&""!==content?FALSE:(content.jquery&&content.length>0?element.empty().append(content.css({display:"block",visibility:"visible"})):element.html(content),this._waitForContent(element).then(function(images){images.images&&images.images.length&&self.rendered&&self.tooltip[0].offsetWidth>0&&self.reposition(cache.event,!images.length)}))):FALSE},PROTOTYPE._waitForContent=function(element){var cache=this.cache;return cache.waiting=TRUE,($.fn.imagesLoaded?element.imagesLoaded():$.Deferred().resolve([])).done(function(){cache.waiting=FALSE}).promise()},PROTOTYPE._updateContent=function(content,reposition){this._update(content,this.elements.content,reposition)},PROTOTYPE._updateTitle=function(content,reposition){this._update(content,this.elements.title,reposition)===FALSE&&this._removeTitle(FALSE)},PROTOTYPE._createTitle=function(){var elements=this.elements,id=this._id+"-title";elements.titlebar&&this._removeTitle(),elements.titlebar=$("<div />",{class:NAMESPACE+"-titlebar "+(this.options.style.widget?createWidgetClass("header"):"")}).append(elements.title=$("<div />",{id:id,class:NAMESPACE+"-title","aria-atomic":TRUE})).insertBefore(elements.content).delegate(".qtip-close","mousedown keydown mouseup keyup mouseout",function(event){$(this).toggleClass("ui-state-active ui-state-focus","down"===event.type.substr(-4))}).delegate(".qtip-close","mouseover mouseout",function(event){$(this).toggleClass("ui-state-hover","mouseover"===event.type)}),this.options.content.button&&this._createButton()},PROTOTYPE._removeTitle=function(reposition){var elements=this.elements;elements.title&&(elements.titlebar.remove(),elements.titlebar=elements.title=elements.button=NULL,reposition!==FALSE&&this.reposition())},PROTOTYPE.reposition=function(event,effect){if(!this.rendered||this.positioning||this.destroyed)return this;this.positioning=TRUE;var pluginCalculations,offset,cache=this.cache,tooltip=this.tooltip,posOptions=this.options.position,target=posOptions.target,my=posOptions.my,at=posOptions.at,viewport=posOptions.viewport,container=posOptions.container,adjust=posOptions.adjust,method=adjust.method.split(" "),tooltipWidth=tooltip.outerWidth(FALSE),tooltipHeight=tooltip.outerHeight(FALSE),targetWidth=0,targetHeight=0,type=tooltip.css("position"),position={left:0,top:0},visible=tooltip[0].offsetWidth>0,isScroll=event&&"scroll"===event.type,win=$(window),doc=container[0].ownerDocument,mouse=this.mouse;if($.isArray(target)&&2===target.length)at={x:LEFT,y:TOP},position={left:target[0],top:target[1]};else if("mouse"===target)at={x:LEFT,y:TOP},!mouse||!mouse.pageX||!adjust.mouse&&event&&event.pageX?event&&event.pageX||((!adjust.mouse||this.options.show.distance)&&cache.origin&&cache.origin.pageX?event=cache.origin:event&&(!event||"resize"!==event.type&&"scroll"!==event.type)||(event=cache.event)):event=mouse,"static"!==type&&(position=container.offset()),doc.body.offsetWidth!==(window.innerWidth||doc.documentElement.clientWidth)&&(offset=$(document.body).offset()),position={left:event.pageX-position.left+(offset&&offset.left||0),top:event.pageY-position.top+(offset&&offset.top||0)},adjust.mouse&&isScroll&&mouse&&(position.left-=(mouse.scrollX||0)-win.scrollLeft(),position.top-=(mouse.scrollY||0)-win.scrollTop());else{if("event"===target?event&&event.target&&"scroll"!==event.type&&"resize"!==event.type?cache.target=$(event.target):event.target||(cache.target=this.elements.target):"event"!==target&&(cache.target=$(target.jquery?target:this.elements.target)),target=cache.target,target=$(target).eq(0),0===target.length)return this;target[0]===document||target[0]===window?(targetWidth=BROWSER.iOS?window.innerWidth:target.width(),targetHeight=BROWSER.iOS?window.innerHeight:target.height(),target[0]===window&&(position={top:(viewport||target).scrollTop(),left:(viewport||target).scrollLeft()})):PLUGINS.imagemap&&target.is("area")?pluginCalculations=PLUGINS.imagemap(this,target,at,PLUGINS.viewport?method:FALSE):PLUGINS.svg&&target&&target[0].ownerSVGElement?pluginCalculations=PLUGINS.svg(this,target,at,PLUGINS.viewport?method:FALSE):(targetWidth=target.outerWidth(FALSE),targetHeight=target.outerHeight(FALSE),position=target.offset()),pluginCalculations&&(targetWidth=pluginCalculations.width,targetHeight=pluginCalculations.height,offset=pluginCalculations.offset,position=pluginCalculations.position),position=this.reposition.offset(target,position,container),(BROWSER.iOS>3.1&&BROWSER.iOS<4.1||BROWSER.iOS>=4.3&&BROWSER.iOS<4.33||!BROWSER.iOS&&"fixed"===type)&&(position.left-=win.scrollLeft(),position.top-=win.scrollTop()),(!pluginCalculations||pluginCalculations&&pluginCalculations.adjustable!==FALSE)&&(position.left+=at.x===RIGHT?targetWidth:at.x===CENTER?targetWidth/2:0,position.top+=at.y===BOTTOM?targetHeight:at.y===CENTER?targetHeight/2:0)}return position.left+=adjust.x+(my.x===RIGHT?-tooltipWidth:my.x===CENTER?-tooltipWidth/2:0),position.top+=adjust.y+(my.y===BOTTOM?-tooltipHeight:my.y===CENTER?-tooltipHeight/2:0),PLUGINS.viewport?(position.adjusted=PLUGINS.viewport(this,position,posOptions,targetWidth,targetHeight,tooltipWidth,tooltipHeight),offset&&position.adjusted.left&&(position.left+=offset.left),offset&&position.adjusted.top&&(position.top+=offset.top)):position.adjusted={left:0,top:0},this._trigger("move",[position,viewport.elem||viewport],event)?(delete position.adjusted,effect===FALSE||!visible||isNaN(position.left)||isNaN(position.top)||"mouse"===target||!$.isFunction(posOptions.effect)?tooltip.css(position):$.isFunction(posOptions.effect)&&(posOptions.effect.call(tooltip,this,$.extend({},position)),tooltip.queue(function(next){$(this).css({opacity:"",height:""}),BROWSER.ie&&this.style.removeAttribute("filter"),next()})),this.positioning=FALSE,this):this},PROTOTYPE.reposition.offset=function(elem,pos,container){function scroll(e,i){pos.left+=i*e.scrollLeft(),pos.top+=i*e.scrollTop()}if(!container[0])return pos;var scrolled,position,parentOffset,overflow,ownerDocument=$(elem[0].ownerDocument),quirks=!!BROWSER.ie&&"CSS1Compat"!==document.compatMode,parent=container[0];do{"static"!==(position=$.css(parent,"position"))&&("fixed"===position?(parentOffset=parent.getBoundingClientRect(),scroll(ownerDocument,-1)):(parentOffset=$(parent).position(),parentOffset.left+=parseFloat($.css(parent,"borderLeftWidth"))||0,parentOffset.top+=parseFloat($.css(parent,"borderTopWidth"))||0),pos.left-=parentOffset.left+(parseFloat($.css(parent,"marginLeft"))||0),pos.top-=parentOffset.top+(parseFloat($.css(parent,"marginTop"))||0),scrolled||"hidden"===(overflow=$.css(parent,"overflow"))||"visible"===overflow||(scrolled=$(parent)))}while(parent=parent.offsetParent);return scrolled&&(scrolled[0]!==ownerDocument[0]||quirks)&&scroll(scrolled,1),pos};var C=(CORNER=PROTOTYPE.reposition.Corner=function(corner,forceY){corner=(""+corner).replace(/([A-Z])/," $1").replace(/middle/gi,CENTER).toLowerCase(),this.x=(corner.match(/left|right/i)||corner.match(/center/)||["inherit"])[0].toLowerCase(),this.y=(corner.match(/top|bottom|center/i)||["inherit"])[0].toLowerCase(),this.forceY=!!forceY;var f=corner.charAt(0);this.precedance="t"===f||"b"===f?Y:X}).prototype;C.invert=function(z,center){this[z]=this[z]===LEFT?RIGHT:this[z]===RIGHT?LEFT:center||this[z]},C.string=function(){var x=this.x,y=this.y;return x===y?x:this.precedance===Y||this.forceY&&"center"!==y?y+" "+x:x+" "+y},C.abbrev=function(){var result=this.string().split(" ");return result[0].charAt(0)+(result[1]&&result[1].charAt(0)||"")},C.clone=function(){return new CORNER(this.string(),this.forceY)},PROTOTYPE.toggle=function(state,event){var cache=this.cache,options=this.options,tooltip=this.tooltip;if(event){if(/over|enter/.test(event.type)&&/out|leave/.test(cache.event.type)&&options.show.target.add(event.target).length===options.show.target.length&&tooltip.has(event.relatedTarget).length)return this;cache.event=cloneEvent(event)}if(this.waiting&&!state&&(this.hiddenDuringWait=TRUE),!this.rendered)return state?this.render(1):this;if(this.destroyed||this.disabled)return this;var identicalState,allow,after,type=state?"show":"hide",opts=this.options[type],posOptions=(this.options[state?"hide":"show"],this.options.position),contentOptions=this.options.content,width=this.tooltip.css("width"),visible=this.tooltip.is(":visible"),animate=state||1===opts.target.length,sameTarget=!event||opts.target.length<2||cache.target[0]===event.target;return(typeof state).search("boolean|number")&&(state=!visible),identicalState=!tooltip.is(":animated")&&visible===state&&sameTarget,allow=identicalState?NULL:!!this._trigger(type,[90]),this.destroyed?this:(allow!==FALSE&&state&&this.focus(event),!allow||identicalState?this:($.attr(tooltip[0],"aria-hidden",!state),state?(cache.origin=cloneEvent(this.mouse),$.isFunction(contentOptions.text)&&this._updateContent(contentOptions.text,FALSE),$.isFunction(contentOptions.title)&&this._updateTitle(contentOptions.title,FALSE),!trackingBound&&"mouse"===posOptions.target&&posOptions.adjust.mouse&&($(document).bind("mousemove."+NAMESPACE,this._storeMouse),trackingBound=TRUE),width||tooltip.css("width",tooltip.outerWidth(FALSE)),this.reposition(event,arguments[2]),width||tooltip.css("width",""),opts.solo&&("string"==typeof opts.solo?$(opts.solo):$(SELECTOR,opts.solo)).not(tooltip).not(opts.target).qtip("hide",$.Event("tooltipsolo"))):(clearTimeout(this.timers.show),delete cache.origin,trackingBound&&!$(SELECTOR+'[tracking="true"]:visible',opts.solo).not(tooltip).length&&($(document).unbind("mousemove."+NAMESPACE),trackingBound=FALSE),this.blur(event)),after=$.proxy(function(){state?(BROWSER.ie&&tooltip[0].style.removeAttribute("filter"),tooltip.css("overflow",""),"string"==typeof opts.autofocus&&$(this.options.show.autofocus,tooltip).focus(),this.options.show.target.trigger("qtip-"+this.id+"-inactive")):tooltip.css({display:"",visibility:"",opacity:"",left:"",top:""}),this._trigger(state?"visible":"hidden")},this),opts.effect===FALSE||animate===FALSE?(tooltip[type](),after()):$.isFunction(opts.effect)?(tooltip.stop(1,1),opts.effect.call(tooltip,this),tooltip.queue("fx",function(n){after(),n()})):tooltip.fadeTo(90,state?1:0,after),state&&opts.target.trigger("qtip-"+this.id+"-inactive"),this))},PROTOTYPE.show=function(event){return this.toggle(TRUE,event)},PROTOTYPE.hide=function(event){return this.toggle(FALSE,event)},PROTOTYPE.focus=function(event){if(!this.rendered||this.destroyed)return this;var qtips=$(SELECTOR),tooltip=this.tooltip,curIndex=parseInt(tooltip[0].style.zIndex,10),newIndex=QTIP.zindex+qtips.length;return tooltip.hasClass(CLASS_FOCUS)||this._trigger("focus",[newIndex],event)&&(curIndex!==newIndex&&(qtips.each(function(){this.style.zIndex>curIndex&&(this.style.zIndex=this.style.zIndex-1)}),qtips.filter("."+CLASS_FOCUS).qtip("blur",event)),tooltip.addClass(CLASS_FOCUS)[0].style.zIndex=newIndex),this},PROTOTYPE.blur=function(event){return!this.rendered||this.destroyed?this:(this.tooltip.removeClass(CLASS_FOCUS),this._trigger("blur",[this.tooltip.css("zIndex")],event),this)},PROTOTYPE.disable=function(state){return this.destroyed?this:("toggle"===state?state=!(this.rendered?this.tooltip.hasClass(CLASS_DISABLED):this.disabled):"boolean"!=typeof state&&(state=TRUE),this.rendered&&this.tooltip.toggleClass(CLASS_DISABLED,state).attr("aria-disabled",state),this.disabled=!!state,this)},PROTOTYPE.enable=function(){return this.disable(FALSE)},PROTOTYPE._createButton=function(){var self=this,elements=this.elements,tooltip=elements.tooltip,button=this.options.content.button,isString="string"==typeof button,close=isString?button:"Close tooltip";elements.button&&elements.button.remove(),button.jquery?elements.button=button:elements.button=$("<a />",{class:"qtip-close "+(this.options.style.widget?"":NAMESPACE+"-icon"),title:close,"aria-label":close}).prepend($("<span />",{class:"ui-icon ui-icon-close",html:"&times;"})),elements.button.appendTo(elements.titlebar||tooltip).attr("role","button").click(function(event){return tooltip.hasClass(CLASS_DISABLED)||self.hide(event),FALSE})},PROTOTYPE._updateButton=function(button){if(!this.rendered)return FALSE;var elem=this.elements.button;button?this._createButton():elem.remove()},PROTOTYPE._setWidget=function(){var on=this.options.style.widget,elements=this.elements,tooltip=elements.tooltip,disabled=tooltip.hasClass(CLASS_DISABLED);tooltip.removeClass(CLASS_DISABLED),CLASS_DISABLED=on?"ui-state-disabled":"qtip-disabled",tooltip.toggleClass(CLASS_DISABLED,disabled),tooltip.toggleClass("ui-helper-reset "+createWidgetClass(),on).toggleClass(CLASS_DEFAULT,this.options.style.def&&!on),elements.content&&elements.content.toggleClass(createWidgetClass("content"),on),elements.titlebar&&elements.titlebar.toggleClass(createWidgetClass("header"),on),elements.button&&elements.button.toggleClass(NAMESPACE+"-icon",!on)},PROTOTYPE._storeMouse=function(event){(this.mouse=cloneEvent(event)).type="mousemove"},PROTOTYPE._bind=function(targets,events,method,suffix,context){var ns="."+this._id+(suffix?"-"+suffix:"");events.length&&$(targets).bind((events.split?events:events.join(ns+" "))+ns,$.proxy(method,context||this))},PROTOTYPE._unbind=function(targets,suffix){$(targets).unbind("."+this._id+(suffix?"-"+suffix:""))};var ns="."+NAMESPACE;$(function(){delegate(SELECTOR,["mouseenter","mouseleave"],function(event){var state="mouseenter"===event.type,tooltip=$(event.currentTarget),target=$(event.relatedTarget||event.target),options=this.options;state?(this.focus(event),tooltip.hasClass(CLASS_FIXED)&&!tooltip.hasClass(CLASS_DISABLED)&&clearTimeout(this.timers.hide)):"mouse"===options.position.target&&options.hide.event&&options.show.target&&!target.closest(options.show.target[0]).length&&this.hide(event),tooltip.toggleClass(CLASS_HOVER,state)}),delegate("["+ATTR_ID+"]",INACTIVE_EVENTS,inactiveMethod)}),PROTOTYPE._trigger=function(type,args,event){var callback=$.Event("tooltip"+type);return callback.originalEvent=event&&$.extend({},event)||this.cache.event||NULL,this.triggering=type,this.tooltip.trigger(callback,[this].concat(args||[])),this.triggering=FALSE,!callback.isDefaultPrevented()},PROTOTYPE._bindEvents=function(showEvents,hideEvents,showTarget,hideTarget,showMethod,hideMethod){if(hideTarget.add(showTarget).length===hideTarget.length){var toggleEvents=[];hideEvents=$.map(hideEvents,function(type){var showIndex=$.inArray(type,showEvents);return showIndex>-1?void toggleEvents.push(showEvents.splice(showIndex,1)[0]):type}),toggleEvents.length&&this._bind(showTarget,toggleEvents,function(event){(!!this.rendered&&this.tooltip[0].offsetWidth>0?hideMethod:showMethod).call(this,event)})}this._bind(showTarget,showEvents,showMethod),this._bind(hideTarget,hideEvents,hideMethod)},PROTOTYPE._assignInitialEvents=function(event){function hoverIntent(event){if(this.disabled||this.destroyed)return FALSE;this.cache.event=cloneEvent(event),this.cache.target=event?$(event.target):[undefined],clearTimeout(this.timers.show),this.timers.show=delay.call(this,function(){this.render("object"==typeof event||options.show.ready)},options.show.delay)}var options=this.options,showTarget=options.show.target,hideTarget=options.hide.target,showEvents=options.show.event?$.trim(""+options.show.event).split(" "):[],hideEvents=options.hide.event?$.trim(""+options.hide.event).split(" "):[];/mouse(over|enter)/i.test(options.show.event)&&!/mouse(out|leave)/i.test(options.hide.event)&&hideEvents.push("mouseleave"),this._bind(showTarget,"mousemove",function(event){this._storeMouse(event),this.cache.onTarget=TRUE}),this._bindEvents(showEvents,hideEvents,showTarget,hideTarget,hoverIntent,function(){clearTimeout(this.timers.show)}),(options.show.ready||options.prerender)&&hoverIntent.call(this,event)},PROTOTYPE._assignEvents=function(){var self=this,options=this.options,posOptions=options.position,tooltip=this.tooltip,showTarget=options.show.target,hideTarget=options.hide.target,containerTarget=posOptions.container,viewportTarget=posOptions.viewport,documentTarget=$(document),windowTarget=($(document.body),$(window)),showEvents=options.show.event?$.trim(""+options.show.event).split(" "):[],hideEvents=options.hide.event?$.trim(""+options.hide.event).split(" "):[];$.each(options.events,function(name,callback){self._bind(tooltip,"toggle"===name?["tooltipshow","tooltiphide"]:["tooltip"+name],callback,null,tooltip)}),/mouse(out|leave)/i.test(options.hide.event)&&"window"===options.hide.leave&&this._bind(documentTarget,["mouseout","blur"],function(event){/select|option/.test(event.target.nodeName)||event.relatedTarget||this.hide(event)}),options.hide.fixed?hideTarget=hideTarget.add(tooltip.addClass(CLASS_FIXED)):/mouse(over|enter)/i.test(options.show.event)&&this._bind(hideTarget,"mouseleave",function(){clearTimeout(this.timers.show)}),(""+options.hide.event).indexOf("unfocus")>-1&&this._bind(containerTarget.closest("html"),["mousedown","touchstart"],function(event){var elem=$(event.target),enabled=this.rendered&&!this.tooltip.hasClass(CLASS_DISABLED)&&this.tooltip[0].offsetWidth>0,isAncestor=elem.parents(SELECTOR).filter(this.tooltip[0]).length>0;elem[0]===this.target[0]||elem[0]===this.tooltip[0]||isAncestor||this.target.has(elem[0]).length||!enabled||this.hide(event)}),"number"==typeof options.hide.inactive&&(this._bind(showTarget,"qtip-"+this.id+"-inactive",inactiveMethod),this._bind(hideTarget.add(tooltip),QTIP.inactiveEvents,inactiveMethod,"-inactive")),this._bindEvents(showEvents,hideEvents,showTarget,hideTarget,showMethod,hideMethod),this._bind(showTarget.add(tooltip),"mousemove",function(event){if("number"==typeof options.hide.distance){var origin=this.cache.origin||{},limit=this.options.hide.distance,abs=Math.abs;(abs(event.pageX-origin.pageX)>=limit||abs(event.pageY-origin.pageY)>=limit)&&this.hide(event)}this._storeMouse(event)}),"mouse"===posOptions.target&&posOptions.adjust.mouse&&(options.hide.event&&this._bind(showTarget,["mouseenter","mouseleave"],function(event){this.cache.onTarget="mouseenter"===event.type}),this._bind(documentTarget,"mousemove",function(event){this.rendered&&this.cache.onTarget&&!this.tooltip.hasClass(CLASS_DISABLED)&&this.tooltip[0].offsetWidth>0&&this.reposition(event)})),(posOptions.adjust.resize||viewportTarget.length)&&this._bind($.event.special.resize?viewportTarget:windowTarget,"resize",repositionMethod),posOptions.adjust.scroll&&this._bind(windowTarget.add(posOptions.container),"scroll",repositionMethod)},PROTOTYPE._unassignEvents=function(){var targets=[this.options.show.target[0],this.options.hide.target[0],this.rendered&&this.tooltip[0],this.options.position.container[0],this.options.position.viewport[0],this.options.position.container.closest("html")[0],window,document];this._unbind($([]).pushStack($.grep(targets,function(i){return"object"==typeof i})))},QTIP=$.fn.qtip=function(options,notation,newValue){var command=(""+options).toLowerCase(),returned=NULL,args=$.makeArray(arguments).slice(1),event=args[args.length-1],opts=this[0]?$.data(this[0],NAMESPACE):NULL;return!arguments.length&&opts||"api"===command?opts:"string"==typeof options?(this.each(function(){var api=$.data(this,NAMESPACE);if(!api)return TRUE;if(event&&event.timeStamp&&(api.cache.event=event),!notation||"option"!==command&&"options"!==command)api[command]&&api[command].apply(api,args);else{if(newValue===undefined&&!$.isPlainObject(notation))return returned=api.get(notation),FALSE;api.set(notation,newValue)}}),returned!==NULL?returned:this):"object"!=typeof options&&arguments.length?void 0:(opts=sanitizeOptions($.extend(TRUE,{},options)),this.each(function(i){var api,id;if(id=$.isArray(opts.id)?opts.id[i]:opts.id,id=!id||id===FALSE||id.length<1||QTIP.api[id]?QTIP.nextid++:id,(api=init($(this),id,opts))===FALSE)return TRUE;QTIP.api[id]=api,$.each(PLUGINS,function(){"initialize"===this.initialize&&this(api)}),api._assignInitialEvents(event)}))},$.qtip=QTip,QTIP.api={},$.each({attr:function(attr,val){if(this.length){var self=this[0],title="title",api=$.data(self,"qtip");if(attr===title&&api&&"object"==typeof api&&api.options.suppress)return arguments.length<2?$.attr(self,oldtitle):(api&&api.options.content.attr===title&&api.cache.attr&&api.set("content.text",val),this.attr(oldtitle,val))}return $.fn["attr"+replaceSuffix].apply(this,arguments)},clone:function(keepData){var elems=($([]),$.fn["clone"+replaceSuffix].apply(this,arguments));return keepData||elems.filter("["+oldtitle+"]").attr("title",function(){return $.attr(this,oldtitle)}).removeAttr(oldtitle),elems}},function(name,func){if(!func||$.fn[name+replaceSuffix])return TRUE;var old=$.fn[name+replaceSuffix]=$.fn[name];$.fn[name]=function(){return func.apply(this,arguments)||old.apply(this,arguments)}}),$.ui||($["cleanData"+replaceSuffix]=$.cleanData,$.cleanData=function(elems){for(var elem,i=0;(elem=$(elems[i])).length;i++)if(elem.attr(ATTR_HAS))try{elem.triggerHandler("removeqtip")}catch(e){}$["cleanData"+replaceSuffix].apply(this,arguments)}),QTIP.version="2.2.0",QTIP.nextid=0,QTIP.inactiveEvents=INACTIVE_EVENTS,QTIP.zindex=15e3,QTIP.defaults={prerender:FALSE,id:FALSE,overwrite:TRUE,suppress:TRUE,content:{text:TRUE,attr:"title",title:FALSE,button:FALSE},position:{my:"top left",at:"bottom right",target:FALSE,container:FALSE,viewport:FALSE,adjust:{x:0,y:0,mouse:TRUE,scroll:TRUE,resize:TRUE,method:"flipinvert flipinvert"},effect:function(api,pos,viewport){$(this).animate(pos,{duration:200,queue:FALSE})}},show:{target:FALSE,event:"mouseenter",effect:TRUE,delay:90,solo:FALSE,ready:FALSE,autofocus:FALSE},hide:{target:FALSE,event:"mouseleave",effect:TRUE,delay:0,fixed:FALSE,inactive:FALSE,leave:"window",distance:FALSE},style:{classes:"",widget:FALSE,width:FALSE,height:FALSE,def:TRUE},events:{render:NULL,move:NULL,show:NULL,hide:NULL,toggle:NULL,visible:NULL,hidden:NULL,focus:NULL,blur:NULL}};var TIP,MARGIN="margin",BORDER="border",COLOR="color",BG_COLOR="background-color",TRANSPARENT="transparent",IMPORTANT=" !important",HASCANVAS=!!document.createElement("canvas").getContext,INVALID=/rgba?\(0, 0, 0(, 0)?\)|transparent|#123456/i,cssProps={},cssPrefixes=["Webkit","O","Moz","ms"];if(HASCANVAS)var PIXEL_RATIO=window.devicePixelRatio||1,BACKING_STORE_RATIO=function(){var context=document.createElement("canvas").getContext("2d");return context.backingStorePixelRatio||context.webkitBackingStorePixelRatio||context.mozBackingStorePixelRatio||context.msBackingStorePixelRatio||context.oBackingStorePixelRatio||1}(),SCALE=PIXEL_RATIO/BACKING_STORE_RATIO;else var createVML=function(tag,props,style){return"<qtipvml:"+tag+' xmlns="urn:schemas-microsoft.com:vml" class="qtip-vml" '+(props||"")+' style="behavior: url(#default#VML); '+(style||"")+'" />'};$.extend(Tip.prototype,{init:function(qtip){var context,tip;tip=this.element=qtip.elements.tip=$("<div />",{class:NAMESPACE+"-tip"}).prependTo(qtip.tooltip),HASCANVAS?(context=$("<canvas />").appendTo(this.element)[0].getContext("2d"),context.lineJoin="miter",context.miterLimit=1e5,context.save()):(context=createVML("shape",'coordorigin="0,0"',"position:absolute;"),this.element.html(context+context),qtip._bind($("*",tip).add(tip),["click","mousedown"],function(event){event.stopPropagation()},this._ns)),qtip._bind(qtip.tooltip,"tooltipmove",this.reposition,this._ns,this),this.create()},_swapDimensions:function(){this.size[0]=this.options.height,this.size[1]=this.options.width},_resetDimensions:function(){this.size[0]=this.options.width,this.size[1]=this.options.height},_useTitle:function(corner){var titlebar=this.qtip.elements.titlebar;return titlebar&&(corner.y===TOP||corner.y===CENTER&&this.element.position().top+this.size[1]/2+this.options.offset<titlebar.outerHeight(TRUE))},_parseCorner:function(corner){var my=this.qtip.options.position.my;return corner===FALSE||my===FALSE?corner=FALSE:corner===TRUE?corner=new CORNER(my.string()):corner.string||(corner=new CORNER(corner),corner.fixed=TRUE),corner},_parseWidth:function(corner,side,use){var elements=this.qtip.elements,prop=BORDER+camel(side)+"Width";return(use?intCss(use,prop):intCss(elements.content,prop)||intCss(this._useTitle(corner)&&elements.titlebar||elements.content,prop)||intCss(elements.tooltip,prop))||0},_parseRadius:function(corner){var elements=this.qtip.elements,prop=BORDER+camel(corner.y)+camel(corner.x)+"Radius";return BROWSER.ie<9?0:intCss(this._useTitle(corner)&&elements.titlebar||elements.content,prop)||intCss(elements.tooltip,prop)||0},_invalidColour:function(elem,prop,compare){var val=elem.css(prop);return!val||compare&&val===elem.css(compare)||INVALID.test(val)?FALSE:val},_parseColours:function(corner){var elements=this.qtip.elements,tip=this.element.css("cssText",""),borderSide=BORDER+camel(corner[corner.precedance])+camel(COLOR),colorElem=this._useTitle(corner)&&elements.titlebar||elements.content,css=this._invalidColour,color=[];return color[0]=css(tip,BG_COLOR)||css(colorElem,BG_COLOR)||css(elements.content,BG_COLOR)||css(elements.tooltip,BG_COLOR)||tip.css(BG_COLOR),color[1]=css(tip,borderSide,COLOR)||css(colorElem,borderSide,COLOR)||css(elements.content,borderSide,COLOR)||css(elements.tooltip,borderSide,COLOR)||elements.tooltip.css(borderSide),$("*",tip).add(tip).css("cssText",BG_COLOR+":"+TRANSPARENT+IMPORTANT+";"+BORDER+":0"+IMPORTANT+";"),color},_calculateSize:function(corner){var bigHyp,ratio,result,y=corner.precedance===Y,width=this.options.width,height=this.options.height,isCenter="c"===corner.abbrev(),base=(y?width:height)*(isCenter?.5:1),pow=Math.pow,round=Math.round,smallHyp=Math.sqrt(pow(base,2)+pow(height,2)),hyp=[this.border/base*smallHyp,this.border/height*smallHyp];return hyp[2]=Math.sqrt(pow(hyp[0],2)-pow(this.border,2)),hyp[3]=Math.sqrt(pow(hyp[1],2)-pow(this.border,2)),bigHyp=smallHyp+hyp[2]+hyp[3]+(isCenter?0:hyp[0]),ratio=bigHyp/smallHyp,result=[round(ratio*width),round(ratio*height)],y?result:result.reverse()},_calculateTip:function(corner,size,scale){scale=scale||1,size=size||this.size;var width=size[0]*scale,height=size[1]*scale,width2=Math.ceil(width/2),height2=Math.ceil(height/2),tips={br:[0,0,width,height,width,0],bl:[0,0,width,0,0,height],tr:[0,height,width,0,width,height],tl:[0,0,0,height,width,height],tc:[0,height,width2,0,width,height],bc:[0,0,width,0,width2,height],rc:[0,0,width,height2,0,height],lc:[width,0,width,height,0,height2]};return tips.lt=tips.br,tips.rt=tips.bl,tips.lb=tips.tr,tips.rb=tips.tl,tips[corner.abbrev()]},_drawCoords:function(context,coords){context.beginPath(),context.moveTo(coords[0],coords[1]),context.lineTo(coords[2],coords[3]),context.lineTo(coords[4],coords[5]),context.closePath()},create:function(){var c=this.corner=(HASCANVAS||BROWSER.ie)&&this._parseCorner(this.options.corner);return(this.enabled=!!this.corner&&"c"!==this.corner.abbrev())&&(this.qtip.cache.corner=c.clone(),this.update()),this.element.toggle(this.enabled),this.corner},update:function(corner,position){if(!this.enabled)return this;var color,precedance,context,coords,bigCoords,translate,newSize,border,elements=this.qtip.elements,tip=this.element,inner=tip.children(),options=this.options,curSize=this.size,mimic=options.mimic,round=Math.round;corner||(corner=this.qtip.cache.corner||this.corner),mimic===FALSE?mimic=corner:(mimic=new CORNER(mimic),mimic.precedance=corner.precedance,"inherit"===mimic.x?mimic.x=corner.x:"inherit"===mimic.y?mimic.y=corner.y:mimic.x===mimic.y&&(mimic[corner.precedance]=corner[corner.precedance])),precedance=mimic.precedance,corner.precedance===X?this._swapDimensions():this._resetDimensions(),color=this.color=this._parseColours(corner),color[1]!==TRANSPARENT?(border=this.border=this._parseWidth(corner,corner[corner.precedance]),options.border&&border<1&&!INVALID.test(color[1])&&(color[0]=color[1]),this.border=border=options.border!==TRUE?options.border:border):this.border=border=0,newSize=this.size=this._calculateSize(corner),tip.css({width:newSize[0],height:newSize[1],lineHeight:newSize[1]+"px"}),translate=corner.precedance===Y?[round(mimic.x===LEFT?border:mimic.x===RIGHT?newSize[0]-curSize[0]-border:(newSize[0]-curSize[0])/2),round(mimic.y===TOP?newSize[1]-curSize[1]:0)]:[round(mimic.x===LEFT?newSize[0]-curSize[0]:0),round(mimic.y===TOP?border:mimic.y===BOTTOM?newSize[1]-curSize[1]-border:(newSize[1]-curSize[1])/2)],
HASCANVAS?(context=inner[0].getContext("2d"),context.restore(),context.save(),context.clearRect(0,0,6e3,6e3),coords=this._calculateTip(mimic,curSize,SCALE),bigCoords=this._calculateTip(mimic,this.size,SCALE),inner.attr(WIDTH,newSize[0]*SCALE).attr(HEIGHT,newSize[1]*SCALE),inner.css(WIDTH,newSize[0]).css(HEIGHT,newSize[1]),this._drawCoords(context,bigCoords),context.fillStyle=color[1],context.fill(),context.translate(translate[0]*SCALE,translate[1]*SCALE),this._drawCoords(context,coords),context.fillStyle=color[0],context.fill()):(coords=this._calculateTip(mimic),coords="m"+coords[0]+","+coords[1]+" l"+coords[2]+","+coords[3]+" "+coords[4]+","+coords[5]+" xe",translate[2]=border&&/^(r|b)/i.test(corner.string())?8===BROWSER.ie?2:1:0,inner.css({coordsize:newSize[0]+border+" "+(newSize[1]+border),antialias:""+(mimic.string().indexOf(CENTER)>-1),left:translate[0]-translate[2]*Number(precedance===X),top:translate[1]-translate[2]*Number(precedance===Y),width:newSize[0]+border,height:newSize[1]+border}).each(function(i){var $this=$(this);$this[$this.prop?"prop":"attr"]({coordsize:newSize[0]+border+" "+(newSize[1]+border),path:coords,fillcolor:color[0],filled:!!i,stroked:!i}).toggle(!(!border&&!i)),!i&&$this.html(createVML("stroke",'weight="'+2*border+'px" color="'+color[1]+'" miterlimit="1000" joinstyle="miter"'))})),window.opera&&setTimeout(function(){elements.tip.css({display:"inline-block",visibility:"visible"})},1),position!==FALSE&&this.calculate(corner,newSize)},calculate:function(corner,size){if(!this.enabled)return FALSE;var precedance,corners,self=this,elements=this.qtip.elements,tip=this.element,userOffset=this.options.offset,position=(elements.tooltip.hasClass("ui-widget"),{});return corner=corner||this.corner,precedance=corner.precedance,size=size||this._calculateSize(corner),corners=[corner.x,corner.y],precedance===X&&corners.reverse(),$.each(corners,function(i,side){var b,bc,br;side===CENTER?(b=precedance===Y?LEFT:TOP,position[b]="50%",position[MARGIN+"-"+b]=-Math.round(size[precedance===Y?0:1]/2)+userOffset):(b=self._parseWidth(corner,side,elements.tooltip),bc=self._parseWidth(corner,side,elements.content),br=self._parseRadius(corner),position[side]=Math.max(-self.border,i?bc:userOffset+(br>b?br:-b)))}),position[corner[precedance]]-=size[precedance===X?0:1],tip.css({margin:"",top:"",bottom:"",left:"",right:""}).css(position),position},reposition:function(event,api,pos,viewport){function shiftflip(direction,precedance,popposite,side,opposite){direction===SHIFT&&newCorner.precedance===precedance&&adjust[side]&&newCorner[popposite]!==CENTER?newCorner.precedance=newCorner.precedance===X?Y:X:direction!==SHIFT&&adjust[side]&&(newCorner[precedance]=newCorner[precedance]===CENTER?adjust[side]>0?side:opposite:newCorner[precedance]===side?opposite:side)}function shiftonly(xy,side,opposite){newCorner[xy]===CENTER?css[MARGIN+"-"+side]=shift[xy]=offset[MARGIN+"-"+side]-adjust[side]:(props=offset[opposite]!==undefined?[adjust[side],-offset[side]]:[-adjust[side],offset[side]],(shift[xy]=Math.max(props[0],props[1]))>props[0]&&(pos[side]-=adjust[side],shift[side]=FALSE),css[offset[opposite]!==undefined?opposite:side]=shift[xy])}if(this.enabled){var offset,props,cache=api.cache,newCorner=this.corner.clone(),adjust=pos.adjusted,method=api.options.position.adjust.method.split(" "),horizontal=method[0],vertical=method[1]||method[0],shift={left:FALSE,top:FALSE,x:0,y:0},css={};this.corner.fixed!==TRUE&&(shiftflip(horizontal,X,Y,LEFT,RIGHT),shiftflip(vertical,Y,X,TOP,BOTTOM),newCorner.string()===cache.corner.string()||cache.cornerTop===adjust.top&&cache.cornerLeft===adjust.left||this.update(newCorner,FALSE)),offset=this.calculate(newCorner),offset.right!==undefined&&(offset.left=-offset.right),offset.bottom!==undefined&&(offset.top=-offset.bottom),offset.user=this.offset,(shift.left=horizontal===SHIFT&&!!adjust.left)&&shiftonly(X,LEFT,RIGHT),(shift.top=vertical===SHIFT&&!!adjust.top)&&shiftonly(Y,TOP,BOTTOM),this.element.css(css).toggle(!(shift.x&&shift.y||newCorner.x===CENTER&&shift.y||newCorner.y===CENTER&&shift.x)),pos.left-=offset.left.charAt?offset.user:horizontal!==SHIFT||shift.top||!shift.left&&!shift.top?offset.left+this.border:0,pos.top-=offset.top.charAt?offset.user:vertical!==SHIFT||shift.left||!shift.left&&!shift.top?offset.top+this.border:0,cache.cornerLeft=adjust.left,cache.cornerTop=adjust.top,cache.corner=newCorner.clone()}},destroy:function(){this.qtip._unbind(this.qtip.tooltip,this._ns),this.qtip.elements.tip&&this.qtip.elements.tip.find("*").remove().end().remove()}}),TIP=PLUGINS.tip=function(api){return new Tip(api,api.options.style.tip)},TIP.initialize="render",TIP.sanitize=function(options){if(options.style&&"tip"in options.style){var opts=options.style.tip;"object"!=typeof opts&&(opts=options.style.tip={corner:opts}),/string|boolean/i.test(typeof opts.corner)||(opts.corner=TRUE)}},CHECKS.tip={"^position.my|style.tip.(corner|mimic|border)$":function(){this.create(),this.qtip.reposition()},"^style.tip.(height|width)$":function(obj){this.size=[obj.width,obj.height],this.update(),this.qtip.reposition()},"^content.title|style.(classes|widget)$":function(){this.update()}},$.extend(TRUE,QTIP.defaults,{style:{tip:{corner:TRUE,mimic:FALSE,width:6,height:6,border:TRUE,offset:0}}}),PLUGINS.viewport=function(api,position,posOptions,targetWidth,targetHeight,elemWidth,elemHeight){function calculate(side,otherSide,type,adjust,side1,side2,lengthName,targetLength,elemLength){var initialPos=position[side1],mySide=my[side],atSide=at[side],isShift=type===SHIFT,myLength=mySide===side1?elemLength:mySide===side2?-elemLength:-elemLength/2,atLength=atSide===side1?targetLength:atSide===side2?-targetLength:-targetLength/2,sideOffset=viewportScroll[side1]+viewportOffset[side1]-(containerStatic?0:containerOffset[side1]),overflow1=sideOffset-initialPos,overflow2=initialPos+elemLength-(lengthName===WIDTH?viewportWidth:viewportHeight)-sideOffset,offset=myLength-(my.precedance===side||mySide===my[otherSide]?atLength:0)-(atSide===CENTER?targetLength/2:0);return isShift?(offset=(mySide===side1?1:-1)*myLength,position[side1]+=overflow1>0?overflow1:overflow2>0?-overflow2:0,position[side1]=Math.max(-containerOffset[side1]+viewportOffset[side1],initialPos-offset,Math.min(Math.max(-containerOffset[side1]+viewportOffset[side1]+(lengthName===WIDTH?viewportWidth:viewportHeight),initialPos+offset),position[side1],"center"===mySide?initialPos-myLength:1e9))):(adjust*=type===FLIPINVERT?2:0,overflow1>0&&(mySide!==side1||overflow2>0)?(position[side1]-=offset+adjust,newMy.invert(side,side1)):overflow2>0&&(mySide!==side2||overflow1>0)&&(position[side1]-=(mySide===CENTER?-offset:offset)+adjust,newMy.invert(side,side2)),position[side1]<viewportScroll&&-position[side1]>overflow2&&(position[side1]=initialPos,newMy=my.clone())),position[side1]-initialPos}var fixed,newMy,newClass,containerOffset,containerStatic,viewportWidth,viewportHeight,viewportScroll,viewportOffset,target=posOptions.target,tooltip=api.elements.tooltip,my=posOptions.my,at=posOptions.at,adjust=posOptions.adjust,method=adjust.method.split(" "),methodX=method[0],methodY=method[1]||method[0],viewport=posOptions.viewport,container=posOptions.container,cache=api.cache,adjusted={left:0,top:0};return viewport.jquery&&target[0]!==window&&target[0]!==document.body&&"none"!==adjust.method?(containerOffset=container.offset()||adjusted,containerStatic="static"===container.css("position"),fixed="fixed"===tooltip.css("position"),viewportWidth=viewport[0]===window?viewport.width():viewport.outerWidth(FALSE),viewportHeight=viewport[0]===window?viewport.height():viewport.outerHeight(FALSE),viewportScroll={left:fixed?0:viewport.scrollLeft(),top:fixed?0:viewport.scrollTop()},viewportOffset=viewport.offset()||adjusted,"shift"===methodX&&"shift"===methodY||(newMy=my.clone()),adjusted={left:"none"!==methodX?calculate(X,Y,methodX,adjust.x,LEFT,RIGHT,WIDTH,targetWidth,elemWidth):0,top:"none"!==methodY?calculate(Y,X,methodY,adjust.y,TOP,BOTTOM,HEIGHT,targetHeight,elemHeight):0},newMy&&cache.lastClass!==(newClass=NAMESPACE+"-pos-"+newMy.abbrev())&&tooltip.removeClass(api.cache.lastClass).addClass(api.cache.lastClass=newClass),adjusted):adjusted},PLUGINS.polys={polygon:function(baseCoords,corner){var next,newWidth,newHeight,result={width:0,height:0,position:{top:1e10,right:0,bottom:0,left:1e10},adjustable:FALSE},i=0,coords=[],compareX=1,compareY=1,realX=0,realY=0;for(i=baseCoords.length;i--;)next=[parseInt(baseCoords[--i],10),parseInt(baseCoords[i+1],10)],next[0]>result.position.right&&(result.position.right=next[0]),next[0]<result.position.left&&(result.position.left=next[0]),next[1]>result.position.bottom&&(result.position.bottom=next[1]),next[1]<result.position.top&&(result.position.top=next[1]),coords.push(next);if(newWidth=result.width=Math.abs(result.position.right-result.position.left),newHeight=result.height=Math.abs(result.position.bottom-result.position.top),"c"===corner.abbrev())result.position={left:result.position.left+result.width/2,top:result.position.top+result.height/2};else{for(;newWidth>0&&newHeight>0&&compareX>0&&compareY>0;)for(newWidth=Math.floor(newWidth/2),newHeight=Math.floor(newHeight/2),corner.x===LEFT?compareX=newWidth:corner.x===RIGHT?compareX=result.width-newWidth:compareX+=Math.floor(newWidth/2),corner.y===TOP?compareY=newHeight:corner.y===BOTTOM?compareY=result.height-newHeight:compareY+=Math.floor(newHeight/2),i=coords.length;i--&&!(coords.length<2);)realX=coords[i][0]-result.position.left,realY=coords[i][1]-result.position.top,(corner.x===LEFT&&realX>=compareX||corner.x===RIGHT&&realX<=compareX||corner.x===CENTER&&(realX<compareX||realX>result.width-compareX)||corner.y===TOP&&realY>=compareY||corner.y===BOTTOM&&realY<=compareY||corner.y===CENTER&&(realY<compareY||realY>result.height-compareY))&&coords.splice(i,1);result.position={left:coords[0][0],top:coords[0][1]}}return result},rect:function(ax,ay,bx,by){return{width:Math.abs(bx-ax),height:Math.abs(by-ay),position:{left:Math.min(ax,bx),top:Math.min(ay,by)}}},_angles:{tc:1.5,tr:7/4,tl:5/4,bc:.5,br:.25,bl:.75,rc:2,lc:1,c:0},ellipse:function(cx,cy,rx,ry,corner){var c=PLUGINS.polys._angles[corner.abbrev()],rxc=0===c?0:rx*Math.cos(c*Math.PI),rys=ry*Math.sin(c*Math.PI);return{width:2*rx-Math.abs(rxc),height:2*ry-Math.abs(rys),position:{left:cx+rxc,top:cy+rys},adjustable:FALSE}},circle:function(cx,cy,r,corner){return PLUGINS.polys.ellipse(cx,cy,r,r,corner)}},PLUGINS.imagemap=function(api,area,corner,adjustMethod){area.jquery||(area=$(area));var imageOffset,coords,i,result,len,shape=area.attr("shape").toLowerCase().replace("poly","polygon"),image=$('img[usemap="#'+area.parent("map").attr("name")+'"]'),coordsString=$.trim(area.attr("coords")),coordsArray=coordsString.replace(/,$/,"").split(",");if(!image.length)return FALSE;if("polygon"===shape)result=PLUGINS.polys.polygon(coordsArray,corner);else{if(!PLUGINS.polys[shape])return FALSE;for(i=-1,len=coordsArray.length,coords=[];++i<len;)coords.push(parseInt(coordsArray[i],10));result=PLUGINS.polys[shape].apply(this,coords.concat(corner))}return imageOffset=image.offset(),imageOffset.left+=Math.ceil((image.outerWidth(FALSE)-image.width())/2),imageOffset.top+=Math.ceil((image.outerHeight(FALSE)-image.height())/2),result.position.left+=imageOffset.left,result.position.top+=imageOffset.top,result};var MODAL,OVERLAY,MODALCLASS="qtip-modal",MODALSELECTOR="."+MODALCLASS;OVERLAY=function(){function focusable(element){if($.expr[":"].focusable)return $.expr[":"].focusable;var map,mapName,img,isTabIndexNotNaN=!isNaN($.attr(element,"tabindex")),nodeName=element.nodeName&&element.nodeName.toLowerCase();return"area"===nodeName?(map=element.parentNode,mapName=map.name,!(!element.href||!mapName||"map"!==map.nodeName.toLowerCase())&&(!!(img=$("img[usemap=#"+mapName+"]")[0])&&img.is(":visible"))):/input|select|textarea|button|object/.test(nodeName)?!element.disabled:"a"===nodeName?element.href||isTabIndexNotNaN:isTabIndexNotNaN}function focusInputs(blurElems){focusableElems.length<1&&blurElems.length?blurElems.not("body").blur():focusableElems.first().focus()}function stealFocus(event){if(elem.is(":visible")){var targetOnTop,target=$(event.target),tooltip=current.tooltip,container=target.closest(SELECTOR);targetOnTop=container.length<1?FALSE:parseInt(container[0].style.zIndex,10)>parseInt(tooltip[0].style.zIndex,10),targetOnTop||target.closest(SELECTOR)[0]===tooltip[0]||focusInputs(target),onLast=event.target===focusableElems[focusableElems.length-1]}}var current,onLast,prevState,elem,self=this,focusableElems={};$.extend(self,{init:function(){return elem=self.elem=$("<div />",{id:"qtip-overlay",html:"<div></div>",mousedown:function(){return FALSE}}).hide(),$(document.body).bind("focusin"+MODALSELECTOR,stealFocus),$(document).bind("keydown"+MODALSELECTOR,function(event){current&&current.options.show.modal.escape&&27===event.keyCode&&current.hide(event)}),elem.bind("click"+MODALSELECTOR,function(event){current&&current.options.show.modal.blur&&current.hide(event)}),self},update:function(api){current=api,focusableElems=api.options.show.modal.stealfocus!==FALSE?api.tooltip.find("*").filter(function(){return focusable(this)}):[]},toggle:function(api,state,duration){var tooltip=($(document.body),api.tooltip),options=api.options.show.modal,effect=options.effect,type=state?"show":"hide",visible=elem.is(":visible"),visibleModals=$(MODALSELECTOR).filter(":visible:not(:animated)").not(tooltip);return self.update(api),state&&options.stealfocus!==FALSE&&focusInputs($(":focus")),elem.toggleClass("blurs",options.blur),state&&elem.appendTo(document.body),elem.is(":animated")&&visible===state&&prevState!==FALSE||!state&&visibleModals.length?self:(elem.stop(TRUE,FALSE),$.isFunction(effect)?effect.call(elem,state):effect===FALSE?elem[type]():elem.fadeTo(parseInt(duration,10)||90,state?1:0,function(){state||elem.hide()}),state||elem.queue(function(next){elem.css({left:"",top:""}),$(MODALSELECTOR).length||elem.detach(),next()}),prevState=state,current.destroyed&&(current=NULL),self)}}),self.init()},OVERLAY=new OVERLAY,$.extend(Modal.prototype,{init:function(qtip){var tooltip=qtip.tooltip;if(!this.options.on)return this;qtip.elements.overlay=OVERLAY.elem,tooltip.addClass(MODALCLASS).css("z-index",QTIP.modal_zindex+$(MODALSELECTOR).length),qtip._bind(tooltip,["tooltipshow","tooltiphide"],function(event,api,duration){var oEvent=event.originalEvent;if(event.target===tooltip[0])if(oEvent&&"tooltiphide"===event.type&&/mouse(leave|enter)/.test(oEvent.type)&&$(oEvent.relatedTarget).closest(OVERLAY.elem[0]).length)try{event.preventDefault()}catch(e){}else(!oEvent||oEvent&&"tooltipsolo"!==oEvent.type)&&this.toggle(event,"tooltipshow"===event.type,duration)},this._ns,this),qtip._bind(tooltip,"tooltipfocus",function(event,api){if(!event.isDefaultPrevented()&&event.target===tooltip[0]){var qtips=$(MODALSELECTOR),newIndex=QTIP.modal_zindex+qtips.length,curIndex=parseInt(tooltip[0].style.zIndex,10);OVERLAY.elem[0].style.zIndex=newIndex-1,qtips.each(function(){this.style.zIndex>curIndex&&(this.style.zIndex-=1)}),qtips.filter("."+CLASS_FOCUS).qtip("blur",event.originalEvent),tooltip.addClass(CLASS_FOCUS)[0].style.zIndex=newIndex,OVERLAY.update(api);try{event.preventDefault()}catch(e){}}},this._ns,this),qtip._bind(tooltip,"tooltiphide",function(event){event.target===tooltip[0]&&$(MODALSELECTOR).filter(":visible").not(tooltip).last().qtip("focus",event)},this._ns,this)},toggle:function(event,state,duration){if(event&&event.isDefaultPrevented())return this;OVERLAY.toggle(this.qtip,!!state,duration)},destroy:function(){this.qtip.tooltip.removeClass(MODALCLASS),this.qtip._unbind(this.qtip.tooltip,this._ns),OVERLAY.toggle(this.qtip,FALSE),delete this.qtip.elements.overlay}}),MODAL=PLUGINS.modal=function(api){return new Modal(api,api.options.show.modal)},MODAL.sanitize=function(opts){opts.show&&("object"!=typeof opts.show.modal?opts.show.modal={on:!!opts.show.modal}:void 0===opts.show.modal.on&&(opts.show.modal.on=TRUE))},QTIP.modal_zindex=QTIP.zindex-200,MODAL.initialize="render",CHECKS.modal={"^show.modal.(on|blur)$":function(){this.destroy(),this.init(),this.qtip.elems.overlay.toggle(this.qtip.tooltip[0].offsetWidth>0)}},$.extend(TRUE,QTIP.defaults,{show:{modal:{on:FALSE,effect:TRUE,blur:TRUE,stealfocus:TRUE,escape:TRUE}}});var IE6;$.extend(Ie6.prototype,{_scroll:function(){var overlay=this.qtip.elements.overlay;overlay&&(overlay[0].style.top=$(window).scrollTop()+"px")},init:function(qtip){var tooltip=qtip.tooltip;$("select, object").length<1&&(this.bgiframe=qtip.elements.bgiframe=$('<iframe class="qtip-bgiframe" frameborder="0" tabindex="-1" src="javascript:\'\';"  style="display:block; position:absolute; z-index:-1; filter:alpha(opacity=0); -ms-filter:"progid:DXImageTransform.Microsoft.Alpha(Opacity=0)";"></iframe>').appendTo(tooltip),qtip._bind(tooltip,"tooltipmove",this.adjustBGIFrame,this._ns,this)),this.redrawContainer=$("<div/>",{id:NAMESPACE+"-rcontainer"}).appendTo(document.body),qtip.elements.overlay&&qtip.elements.overlay.addClass("qtipmodal-ie6fix")&&(qtip._bind(window,["scroll","resize"],this._scroll,this._ns,this),qtip._bind(tooltip,["tooltipshow"],this._scroll,this._ns,this)),this.redraw()},adjustBGIFrame:function(){var tipAdjust,offset,tooltip=this.qtip.tooltip,dimensions={height:tooltip.outerHeight(FALSE),width:tooltip.outerWidth(FALSE)},plugin=this.qtip.plugins.tip,tip=this.qtip.elements.tip;offset=parseInt(tooltip.css("borderLeftWidth"),10)||0,offset={left:-offset,top:-offset},plugin&&tip&&(tipAdjust="x"===plugin.corner.precedance?[WIDTH,LEFT]:[HEIGHT,TOP],offset[tipAdjust[1]]-=tip[tipAdjust[0]]()),this.bgiframe.css(offset).css(dimensions)},redraw:function(){if(this.qtip.rendered<1||this.drawing)return this;var perc,width,max,min,tooltip=this.qtip.tooltip,style=this.qtip.options.style,container=this.qtip.options.position.container;return this.qtip.drawing=1,style.height&&tooltip.css(HEIGHT,style.height),style.width?tooltip.css(WIDTH,style.width):(tooltip.css(WIDTH,"").appendTo(this.redrawContainer),width=tooltip.width(),width%2<1&&(width+=1),max=tooltip.css("maxWidth")||"",min=tooltip.css("minWidth")||"",perc=(max+min).indexOf("%")>-1?container.width()/100:0,max=(max.indexOf("%")>-1?perc:1)*parseInt(max,10)||width,min=(min.indexOf("%")>-1?perc:1)*parseInt(min,10)||0,width=max+min?Math.min(Math.max(width,min),max):width,tooltip.css(WIDTH,Math.round(width)).appendTo(container)),this.drawing=0,this},destroy:function(){this.bgiframe&&this.bgiframe.remove(),this.qtip._unbind([window,this.qtip.tooltip],this._ns)}}),IE6=PLUGINS.ie6=function(api){return 6===BROWSER.ie?new Ie6(api):FALSE},IE6.initialize="render",CHECKS.ie6={"^content|style$":function(){this.redraw()}}})}(window,document)},7:function(module,exports,__webpack_require__){(function($){var AjaxRequest=function(){var self=this;return this._defaultOpts={type:"POST",url:"",data:"",crossDomain:!1,dataType:"json",contentType:"application/json",async:!0},this._opts={},$.extend(this._opts,this._defaultOpts),this._resetOptions=function(){this._opts={},$.extend(this._opts,this._defaultOpts)},this._request=function(){ve.utils.localize&&this._opts.url.startsWith("/")&&(this._opts.url=ve.utils.localize()+this._opts.url),$.ajax(this._opts).then(function(){$.extend(this._opts,this._defaultOpts)})},{request:function(options){return self._resetOptions(),$.extend(self._opts,options),self._request()},post:function(options){return self._resetOptions(),$.extend(self._opts,options),self._opts.type="POST",self._request()},get:function(options){return self._resetOptions(),$.extend(self._opts,options),self._opts.type="GET",self._request()}}};module.exports=AjaxRequest}).call(exports,__webpack_require__(4))},8:function(module,exports,__webpack_require__){(function(soma,$){var Notification=function(debugMode,engineTemplate,notificationTimeout){this._debugMode="undefined"!==debugMode&&debugMode,this.tpl=engineTemplate,this._notificationTimeout=notificationTimeout,this._options={duration:400,title:"",css:"",type:"info",text:"",container:"#main",template:'<div  id="{{id}}" class="notification">\n\t        {{content}} \n\t        </div>',positionMy:"top center",positionAt:"bottom center",width:window.isMobileDevice()?"95%":500},this.contentRender=function(content,translation,binding,parameters){var target=document.getElementById(this._options.id);target.innerHTML=content;var template=soma.template.create(target);if(template.scope.translation=translation,template.scope.params=parameters,void 0!==binding)for(var bind in binding)template.scope[bind]=binding[bind];template.render()},this.s4=function(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)},this.guid=function(){return this.s4()+this.s4()+"-"+this.s4()}};Notification.prototype.create=function(options,persistent,delayedTimeout){var self=this,$templateTarget=null;options.id=this.guid(),$.extend(!0,self._options,options),$("<div/>").qtip({content:{text:self._options.template,title:{text:self._options.title,button:!0}},position:{my:self._options.positionMy,at:self._options.positionAt,container:$("body"),adjust:{x:$(".jgrowl:last").length>0?0:parseInt($("body").width())/2},target:$(".jgrowl:last").length>0?$(".jgrowl:last"):[0,0]},show:{event:!1,ready:!0,effect:function(){$(this).stop(0,1).animate({height:"toggle"},self._options.duration,"swing")},delay:0,persistent:persistent},hide:{event:!1,effect:function(api){$(this).stop(0,1).animate({height:"toggle"},self._options.duration,"swing")}},style:{width:self._options.width,classes:"jgrowl data-cloak "+self._options.css,tip:!1},events:{show:function(event,api){self.contentRender(self._options.text,self._options.translation,self._options.binding,self._options.params)},render:function(event,api){var target=$(document).find(".qtip-content:last")[0];$templateTarget=soma.template.create(self._options.template,target),$templateTarget.scope.id=self._options.id=self._options.id||self.guid(),$templateTarget.scope.title=self._options.title,$templateTarget.scope.content=self._options.text,$templateTarget.scope.cssClasses=self._options.css,$templateTarget.scope.closeMe=function(){api.hide()},$templateTarget.render(),api.options.show.persistent||$(this).bind("mouseover mouseout",function(e){var lifespan=self._notificationTimeout;void 0!==delayedTimeout&&delayedTimeout>0&&(lifespan+=delayedTimeout),clearTimeout(api.timer),"mouseover"!==e.type&&(api.timer=setTimeout(function(){api.hide(e)},lifespan))}).triggerHandler("mouseout")},hide:function(){$(this).remove(),self._options.id=null}}})},Notification.prototype.info=function(content){var text=content;if(ve.utils.isObject(content)&&void 0===content.translation&&void 0===content.params&&void 0===content.binding)throw new Error("Erreur lors de la cration de la notification");text=ve.utils.isObject(content)?content.translation:content,this.create({text:text,type:"info",title:"Notification",css:"bg-gray",translation:content.translation,params:content.params,binding:content.binding})},Notification.prototype.success=function(content){var text=content;if(ve.utils.isObject(content)&&void 0===content.translation&&void 0===content.params&&void 0===content.binding)throw new Error("Erreur lors de la cration de la notification");text=ve.utils.isObject(content)?content.translation:content,this.create({text:text,type:"success",title:"Notification",css:"bg-green",translation:content.translation,params:content.params,binding:content.binding})},Notification.prototype.warning=function(content){var text=content;if(ve.utils.isObject(content)&&void 0===content.translation&&void 0===content.params&&void 0===content.binding)throw new Error("Erreur lors de la cration de la notification");text=ve.utils.isObject(content)?content.translation:content,this.create({text:text,type:"warning",title:"Notification",css:"bg-orange",translation:content.translation,params:content.params,binding:content.binding})},Notification.prototype.error=function(content){var text=content;if(ve.utils.isObject(content)&&void 0===content.translation&&void 0===content.params&&void 0===content.binding)throw new Error("Erreur lors de la cration de la notification");text=ve.utils.isObject(content)?content.translation:content,this.create({text:text,type:"error",title:"Notification",css:"bg-red",translation:content.translation,params:content.params,binding:content.binding})},module.exports=Notification}).call(exports,__webpack_require__(1),__webpack_require__(4))},21:function(module,exports,__webpack_require__){(function($){var LazyLoading=function(){if(LazyLoading.prototype._singletonInstance)return LazyLoading.prototype._singletonInstance;LazyLoading.prototype._singletonInstance=this,this._options={duration:50,viewPortDesktopExtension:500,viewPortMobileExtension:200,wrapper:!1},this.initializing=!1};LazyLoading.prototype.initialize=function(options){var self=this;if(!0===this.initializing)return!1;$.extend(self._options,options),!0===self._options.wrapper?$(window).on("scroll resize",function(){self.checkDivToLoad()}):$(window).on("scroll resize",function(){self.checkImagesToLoad()}),this.initializing=!0,self.checkImagesToLoad()},LazyLoading.prototype.checkElementsToLoad=function(callback){var self=this;$("div.lazyLoaded").each(function(){var $div=$(this);self.isElementInViewPort($div)&&callback($div)})},LazyLoading.prototype.checkImagesToLoad=function(){var self=this;$("img.lazyLoaded[data-src]").not(".data-cloak").each(function(){var $img=$(this);if(self.isElementInViewPort($img)){var $containerDiv=$("<div/>");$containerDiv.css({display:"inline-block",position:"relative"}),$img.after($containerDiv),$containerDiv.append($img);var $clonedImg=$img.clone();$clonedImg.removeAttr("data-src"),$clonedImg.css({position:"absolute",top:0,left:0,height:"100%",width:"100%","background-color":"#fff"}),$img.after($clonedImg),$img.on("load",function(){$clonedImg.fadeOut(50,function(){$img.insertAfter($containerDiv),$containerDiv.remove()}),$img.trigger("LazyLoadComplete")}),$img.attr("src",$img.attr("data-src")),$img.removeAttr("width"),$img.removeAttr("height"),$img.removeAttr("data-src"),$img.parent().parent().removeClass("content-placeholder");null!==$img.attr("data-srcset")&&($img.attr("srcset",$img.attr("data-srcset")),$img.removeAttr("data-srcset"))}})},LazyLoading.prototype.checkDivToLoad=function(){var self=this;$(".lazyLoaded-wrapper").each(function(index,elt){var $elt=$(elt);if(self.isElementInViewPort($elt)){var $img=$elt.parent().find(".lazyLoaded");self.switchWrapperToImage($elt,$img)}})},LazyLoading.prototype.switchWrapperToImage=function($wrapper,$img){$img.on("load",{parent:$wrapper},function(event){event.data.parent.animate({opacity:0,"z-index":0},{queue:!1,duration:100}),$(this).animate({opacity:1},{queue:!1,duration:100})}),$img.attr("src",$img.attr("data-src")),$img.removeAttr("data-src"),$img.parent().parent().removeClass("content-placeholder")},LazyLoading.prototype.isElementInViewPort=function($element){if(0===$element.length)return!1;var rect=$element[0].getBoundingClientRect(),extensionViewPortValue=window.isMobileDevice()?this._options.viewPortMobileExtension:this._options.viewPortDesktopExtension;return(rect.top>=0||rect.bottom>=0)&&rect.left>=0&&rect.top<=(window.innerHeight+extensionViewPortValue||document.documentElement.clientHeight+extensionViewPortValue)},module.exports=LazyLoading}).call(exports,__webpack_require__(4))},62:function(module,exports,__webpack_require__){(function($){var PopinQtip=function(debugMode,engineTemplate){if(PopinQtip.prototype._singletonInstance)return PopinQtip.prototype._singletonInstance;PopinQtip.prototype._singletonInstance=this,this._debugMode="undefined"!==debugMode&&debugMode,this.tpl=engineTemplate,this.tagRecording=!1,this._defaultOptions={overlayDivId:"#qtip-overlay",duration:90,title:"",popinId:"",css:"",blur:!1,escape:!0,template:'\n\t        <div class="popin-message data-cloak">\n\t            <div class="popin-message-header">{{title}}</div>\n\t            <div id="{{popinId}}" class="popin-message-content {{css}}" data-html="true">\n\t                {{text}}\n\t            </div>\n\t            <div id="closeMe" class="icon close-gray" data-click="closeMe()"></div>\n\t        </div>',timer:{active:!1,delay:0,instance:null},loader:{active:!1,template:'<div class="overlay-nobg"><div class="overlay-loader"></div></div>',message:""},recording:{active:!1,popin:null,$popinHtml:null},binding:{},translation:{},params:{},scroll:!1,forceNoClose:!1,positionMy:"center",positionAt:"center",target:$(window),styleTips:{height:790,width:435}},this._options={},$.extend(!0,this._options,this._defaultOptions),this._resetOptions=function(){this._options=$.extend(!0,{},this._defaultOptions),PopinQtip.prototype.template=""},this.contentRender=function(content,translation,binding,parameters){var target=null===document.getElementById(this._options.popinId)?document.getElementById(PopinQtip.lastPopin._options.popinId):document.getElementById(this._options.popinId);if($(target).html(content),PopinQtip.prototype.template=this.tpl(target),PopinQtip.prototype.template.scope.translation=translation,PopinQtip.prototype.template.scope.params=parameters,void 0!==binding)for(var bind in binding)PopinQtip.prototype.template.scope[bind]=binding[bind];PopinQtip.prototype.template.render();var callBackFnAutoload=null,callBackAutoload=null;if(1===$(content).length&&void 0!==$(content).attr("data-load")&&$(content).attr("data-load").length>0){if(callBackFnAutoload=$(content).attr("data-load"),callBackAutoload=callBackFnAutoload,-1!==callBackFnAutoload.indexOf("(")){callBackFnAutoload=callBackFnAutoload.split("(")[0]}if(void 0!==PopinQtip.prototype.template.scope[callBackFnAutoload]){var values=ve.utils.values(callBackAutoload);values.unshift({}),PopinQtip.prototype.template.scope[callBackFnAutoload].apply(content,values)}}this._options.timer.active&&this.initTimer(),this._options.loader.active&&$("#"+this._options.popinId).append(this._options.loader.template)},this.s4=function(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)},this.guid=function(){return this.s4()+this.s4()+"-"+this.s4()}};PopinQtip.prototype.lastPopin=null,PopinQtip.prototype.create=function(options){var self=this,$templateTarget=null;if(void 0!==options.recording&&!0===options.recording.active){self.save();var recording=self._options.recording;self._options=$.extend(!0,{},self._defaultOptions),self._options.recording=recording}$.extend(!0,self._options,options),$("<div />").qtip({overwrite:!1,content:{text:self._options.template},show:{solo:!0,ready:!1,when:!1,modal:{effect:function(state){self._options.recording.active||$(this).fadeTo(self._options.duration,state?1:0,function(){state||!1!==self._options.forceNoClose||$(this).hide()})},on:!0,blur:self._options.blur,escape:self._options.escape}},hide:{event:!1,fixed:!0,effect:!1},position:{my:self._options.positionMy,at:self._options.positionAt,target:self._options.target,viewport:!1,adjust:{x:0,y:0,scroll:self._options.scroll}},style:{classes:"ui-tooltip ui-tooltip-light "+self._options.css,def:!1,default:!1,tip:self._options.styleTips},events:{show:function(event,api){self.contentRender(self._options.text,self._options.translation,self._options.binding,self._options.params)},hide:function(event,api){var elementCloseMe=document.getElementById("closeMe");null!==elementCloseMe&&!0!==self._options.recording.active||!0===self._options.forceNoClose?(null!==$templateTarget.getNode(elementCloseMe)&&$templateTarget.getNode(elementCloseMe).removeEvent("click"),$(document).find("#"+self._options.popinId).parents(".qtip:last").remove(),void 0!==PopinQtip.prototype.template.scope.closeMe&&PopinQtip.prototype.template.scope.closeMe.call(self,event),self._options.popinId=null,self._resetOptions()):($(document).find("#"+self._options.popinId).parents(".qtip").remove(),void 0!==PopinQtip.prototype.template.scope.closeMe&&PopinQtip.prototype.template.scope.closeMe.call(self,event),self.applyRecording(),self.resetRecording()),
self.cleanOverlay(api.elements.overlay)},render:function(event,api){var target=$(document).find(".qtip > div:last")[0];$templateTarget=self.tpl(self._options.template,target),$templateTarget.scope.popinId=self._options.popinId=self._options.popinId||self.guid(),$templateTarget.scope.title=self._options.title,$templateTarget.scope.text=self._options.text,$templateTarget.scope.css=self._options.css,$templateTarget.scope.closeMe=function(){api.hide()},$templateTarget.render()},visible:function(event,api){var qtip=api.elements.tooltip;qtip.css("z-index",parseInt(qtip.css("z-index"))+api.id),void 0!==$(self._options.overlayDivId).data("events")&&void 0===$(self._options.overlayDivId).data("events").click&&1===$(self._options.overlayDivId).data("events").click.length&&!1===self._options.forceNoClose&&$(self._options.overlayDivId).on("click",function(){self.close()})}}}).qtip("show")},PopinQtip.prototype.close=function(options){this._options.timer.active&&this.resetTimer(),$(document).find(".qtip:last").qtip("hide")},PopinQtip.prototype.update=function(options){var self=this;self._options.timer.active&&self.resetTimer(),$.extend(!0,self._options,options),self.contentRender(self._options.text,self._options.translation,self._options.binding,self._options.params)},PopinQtip.prototype.timer=function(optionsTimer){this._options.timer.active&&this.resetTimer(),optionsTimer.active&&($.extend(!0,this._options.timer,optionsTimer),this.initTimer())},PopinQtip.prototype.initTimer=function(){this._options.timer.instance=setTimeout(function(){this.close()}.bind(this),this._options.timer.delay)},PopinQtip.prototype.resetTimer=function(){window.clearTimeout(this._options.timer.instance),this._options.timer.active=!1,this._options.timer.delay=0,this._options.timer.instance=null},PopinQtip.prototype.reposition=function(){$(document).find(".qtip").qtip("reposition")},PopinQtip.prototype.loadingStart=function(){this.update({loader:{active:!0}})},PopinQtip.prototype.loadingStop=function(){this.update({loader:{active:!1}})},PopinQtip.prototype.save=function(){PopinQtip.lastPopin=this;var popin=$(document).find(".qtip:last");if(0===popin.length)throw new Error("Aucune popin trouve");this._options.recording.popin=this._options,this._options.recording.$popinHtml=popin.detach()},PopinQtip.prototype.applyRecording=function(){var popinRecording=this._options.recording;if(null===popinRecording)throw new Error("Aucune sauvegarde de popin trouve");if(null===popinRecording.$popinHtml)throw new Error("Sauvegarde de la popin errone");popinRecording.$popinHtml.appendTo("body"),this._options=popinRecording.popin},PopinQtip.prototype.resetRecording=function(){this._options.recording={active:!1,popin:null}},PopinQtip.prototype.suspend=function(){0!==$(document).find(".qtip:last").length&&(this.save(),this._options.recording.active=!0)},PopinQtip.prototype.append=function(){if(!1===this._options.recording.active)throw new Error("Aucune sauvegarde de popin trouve, attention au chevauchement des sauvegardes!");this.applyRecording(),this._options.recording.active=!1},PopinQtip.prototype.cleanOverlay=function(overlayObject){var $overlay=$(overlayObject);if(0!==$overlay.length){var $overlayFirstChild=$overlay.children().first();if(0!==$overlayFirstChild.length){var $overlayChildren=$overlayFirstChild.children();0<$overlayChildren.length&&$overlayChildren.remove()}}},module.exports=PopinQtip}).call(exports,__webpack_require__(4))},68:function(module,exports,__webpack_require__){(function(jQuery){!function($,undefined){"use strict";var BLANK="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///ywAAAAAAQABAAACAUwAOw==";$.fn.imagesLoaded=function(callback){function doneLoading(){var $proper=$(proper),$broken=$(broken);deferred&&(broken.length?deferred.reject($images,$proper,$broken):deferred.resolve($images)),$.isFunction(callback)&&callback.call($this,$images,$proper,$broken)}function imgLoaded(img,isBroken){img.src!==BLANK&&-1===$.inArray(img,loaded)&&(loaded.push(img),isBroken?broken.push(img):proper.push(img),$.data(img,"imagesLoaded",{isBroken:isBroken,src:img.src}),hasNotify&&deferred.notifyWith($(img),[isBroken,$images,$(proper),$(broken)]),$images.length===loaded.length&&(setTimeout(doneLoading),$images.unbind(".imagesLoaded")))}var $this=this,deferred=$.isFunction($.Deferred)?$.Deferred():0,hasNotify=$.isFunction(deferred.notify),$images=$this.find("img").add($this.filter("img")),loaded=[],proper=[],broken=[];return $.isPlainObject(callback)&&$.each(callback,function(key,value){"callback"===key?callback=value:deferred&&deferred[key](value)}),$images.length?$images.bind("load.imagesLoaded error.imagesLoaded",function(event){imgLoaded(event.target,"error"===event.type)}).each(function(i,el){var src=el.src,cached=$.data(el,"imagesLoaded");return cached&&cached.src===src?void imgLoaded(el,cached.isBroken):el.complete&&el.naturalWidth!==undefined?void imgLoaded(el,0===el.naturalWidth||0===el.naturalHeight):void((el.readyState||el.complete)&&(el.src=BLANK,el.src=src))}):doneLoading(),deferred?deferred.promise($this):$this}}(jQuery)}).call(exports,__webpack_require__(4))},69:function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_FACTORY__,__WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;!function(factory){__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__(4)],__WEBPACK_AMD_DEFINE_FACTORY__=factory,void 0!==(__WEBPACK_AMD_DEFINE_RESULT__="function"==typeof __WEBPACK_AMD_DEFINE_FACTORY__?__WEBPACK_AMD_DEFINE_FACTORY__.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__):__WEBPACK_AMD_DEFINE_FACTORY__)&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__)}(function($){function handler(event){var orgEvent=event||window.event,args=slice.call(arguments,1),delta=0,deltaX=0,deltaY=0,absDelta=0,offsetX=0,offsetY=0;if(event=$.event.fix(orgEvent),event.type="mousewheel","detail"in orgEvent&&(deltaY=-1*orgEvent.detail),"wheelDelta"in orgEvent&&(deltaY=orgEvent.wheelDelta),"wheelDeltaY"in orgEvent&&(deltaY=orgEvent.wheelDeltaY),"wheelDeltaX"in orgEvent&&(deltaX=-1*orgEvent.wheelDeltaX),"axis"in orgEvent&&orgEvent.axis===orgEvent.HORIZONTAL_AXIS&&(deltaX=-1*deltaY,deltaY=0),delta=0===deltaY?deltaX:deltaY,"deltaY"in orgEvent&&(deltaY=-1*orgEvent.deltaY,delta=deltaY),"deltaX"in orgEvent&&(deltaX=orgEvent.deltaX,0===deltaY&&(delta=-1*deltaX)),0!==deltaY||0!==deltaX){if(1===orgEvent.deltaMode){var lineHeight=$.data(this,"mousewheel-line-height");delta*=lineHeight,deltaY*=lineHeight,deltaX*=lineHeight}else if(2===orgEvent.deltaMode){var pageHeight=$.data(this,"mousewheel-page-height");delta*=pageHeight,deltaY*=pageHeight,deltaX*=pageHeight}if(absDelta=Math.max(Math.abs(deltaY),Math.abs(deltaX)),(!lowestDelta||absDelta<lowestDelta)&&(lowestDelta=absDelta,shouldAdjustOldDeltas(orgEvent,absDelta)&&(lowestDelta/=40)),shouldAdjustOldDeltas(orgEvent,absDelta)&&(delta/=40,deltaX/=40,deltaY/=40),delta=Math[delta>=1?"floor":"ceil"](delta/lowestDelta),deltaX=Math[deltaX>=1?"floor":"ceil"](deltaX/lowestDelta),deltaY=Math[deltaY>=1?"floor":"ceil"](deltaY/lowestDelta),special.settings.normalizeOffset&&this.getBoundingClientRect){var boundingRect=this.getBoundingClientRect();offsetX=event.clientX-boundingRect.left,offsetY=event.clientY-boundingRect.top}return event.deltaX=deltaX,event.deltaY=deltaY,event.deltaFactor=lowestDelta,event.offsetX=offsetX,event.offsetY=offsetY,event.deltaMode=0,args.unshift(event,delta,deltaX,deltaY),nullLowestDeltaTimeout&&clearTimeout(nullLowestDeltaTimeout),nullLowestDeltaTimeout=setTimeout(nullLowestDelta,200),($.event.dispatch||$.event.handle).apply(this,args)}}function nullLowestDelta(){lowestDelta=null}function shouldAdjustOldDeltas(orgEvent,absDelta){return special.settings.adjustOldDeltas&&"mousewheel"===orgEvent.type&&absDelta%120==0}var nullLowestDeltaTimeout,lowestDelta,toFix=["wheel","mousewheel","DOMMouseScroll","MozMousePixelScroll"],toBind="onwheel"in document||document.documentMode>=9?["wheel"]:["mousewheel","DomMouseScroll","MozMousePixelScroll"],slice=Array.prototype.slice;if($.event.fixHooks)for(var i=toFix.length;i;)$.event.fixHooks[toFix[--i]]=$.event.mouseHooks;var special=$.event.special.mousewheel={version:"3.1.12",setup:function(){if(this.addEventListener)for(var i=toBind.length;i;)this.addEventListener(toBind[--i],handler,!1);else this.onmousewheel=handler;$.data(this,"mousewheel-line-height",special.getLineHeight(this)),$.data(this,"mousewheel-page-height",special.getPageHeight(this))},teardown:function(){if(this.removeEventListener)for(var i=toBind.length;i;)this.removeEventListener(toBind[--i],handler,!1);else this.onmousewheel=null;$.removeData(this,"mousewheel-line-height"),$.removeData(this,"mousewheel-page-height")},getLineHeight:function(elem){var $elem=$(elem),$parent=$elem["offsetParent"in $.fn?"offsetParent":"parent"]();return $parent.length||($parent=$("body")),parseInt($parent.css("fontSize"),10)||parseInt($elem.css("fontSize"),10)||16},getPageHeight:function(elem){return $(elem).height()},settings:{adjustOldDeltas:!0,normalizeOffset:!0}};$.fn.extend({mousewheel:function(fn){return fn?this.bind("mousewheel",fn):this.trigger("mousewheel")},unmousewheel:function(fn){return this.unbind("mousewheel",fn)}})})},70:function(module,exports,__webpack_require__){(function(jQuery){!function($){$.fn.touchwipe=function(settings){var config={min_move_x:20,min_move_y:20,wipeLeft:function(){},wipeRight:function(){},wipeUp:function(){},wipeDown:function(){},preventDefaultEvents:!0};return settings&&$.extend(config,settings),this.each(function(){function cancelTouch(){this.removeEventListener("touchmove",onTouchMove),startX=null,isMoving=!1}function onTouchMove(e){if(config.preventDefaultEvents&&e.preventDefault(),isMoving){var x=e.touches[0].pageX,y=e.touches[0].pageY,dx=startX-x,dy=startY-y;Math.abs(dx)>=config.min_move_x?(cancelTouch(),dx>0?config.wipeLeft():config.wipeRight()):Math.abs(dy)>=config.min_move_y&&(cancelTouch(),dy>0?config.wipeDown():config.wipeUp())}}function onTouchStart(e){1==e.touches.length&&(startX=e.touches[0].pageX,startY=e.touches[0].pageY,isMoving=!0,this.addEventListener("touchmove",onTouchMove,!1))}var startX,startY,isMoving=!1;"ontouchstart"in document.documentElement&&this.addEventListener("touchstart",onTouchStart,!1)}),this}}(jQuery)}).call(exports,__webpack_require__(4))},71:function(module,exports,__webpack_require__){(function(jQuery){!function($){$.fn.extend({actual:function(method,options){if(!this[method])throw'$.actual => The jQuery method "'+method+'" you called does not exist';var fix,restore,defaults={absolute:!1,clone:!1,includeMargin:void 0},configs=$.extend(defaults,options),$target=this;if(!0===configs.clone)fix=function(){var css={position:"absolute",top:-1e3};$target=$target.filter(":first").clone().css(css).appendTo("body")},restore=function(){$target.remove()};else{var $hidden,css,tmp=[];fix=function(){$hidden=$target.parents().andSelf().filter(":hidden"),css={visibility:"hidden",display:"block"},!0===configs.absolute&&(css.position="absolute"),$hidden.each(function(){var $this=$(this);tmp.push($this.attr("style")),$this.css(css)})},restore=function(){$hidden.each(function(i){var $this=$(this),_tmp=tmp[i];void 0===_tmp?$this.removeAttr("style"):$this.attr("style",_tmp)})}}fix();var actual=/(outer)/g.test(method)?$target[method](configs.includeMargin):$target[method]();return restore(),actual}})}(jQuery)}).call(exports,__webpack_require__(4))},74:function(module,exports){"undefined"==typeof jwplayer&&(jwplayer=function(d){if(jwplayer.api)return jwplayer.api.selectPlayer(d)},jwplayer.version="6.6.3896",jwplayer.vid=document.createElement("video"),jwplayer.audio=document.createElement("audio"),jwplayer.source=document.createElement("source"),function(d){function a(b){return function(){return c(b)}}function k(b){return function(){b("Error loading file")}}function f(m,a,e,g){return function(){try{var c=m.responseXML;if(c&&c.firstChild)return e(m)}catch(j){}(c=b.parseXML(m.responseText))&&c.firstChild?(m=b.extend({},m,{responseXML:c}),e(m)):g&&g(m.responseText?"Invalid XML":a)}}var h=document,e=window,j=navigator,b=d.utils=function(){};b.exists=function(b){switch(typeof b){case"string":return 0<b.length;case"object":return null!==b;case"undefined":return!1}return!0},b.styleDimension=function(b){return b+(0<b.toString().indexOf("%")?"":"px")},b.getAbsolutePath=function(a,e){if(b.exists(e)||(e=h.location.href),b.exists(a)){var c;if(b.exists(a)){c=a.indexOf("://");var g=a.indexOf("?");c=0<c&&(0>g||g>c)}else c=void 0;if(c)return a;c=e.substring(0,e.indexOf("://")+3);var j,g=e.substring(c.length,e.indexOf("/",c.length+1));0===a.indexOf("/")?j=a.split("/"):(j=e.split("?")[0],j=j.substring(c.length+g.length+1,j.lastIndexOf("/")),j=j.split("/").concat(a.split("/")));for(var f=[],t=0;t<j.length;t++)j[t]&&b.exists(j[t])&&"."!=j[t]&&(".."==j[t]?f.pop():f.push(j[t]));return c+g+"/"+f.join("/")}},b.extend=function(){var a=b.extend.arguments;if(1<a.length){for(var e=1;e<a.length;e++)b.foreach(a[e],function(e,g){try{b.exists(g)&&(a[0][e]=g)}catch(c){}});return a[0]}return null},b.log=function(b,a){"undefined"!=typeof console&&void 0!==console.log&&(a?console.log(b,a):console.log(b))};var c=b.userAgentMatch=function(b){return null!==j.userAgent.toLowerCase().match(b)};b.isIE=a(/msie/i),b.isFF=a(/firefox/i),b.isChrome=a(/chrome/i),b.isIOS=a(/iP(hone|ad|od)/i),b.isIPod=a(/iP(hone|od)/i),b.isIPad=a(/iPad/i),b.isSafari602=a(/Macintosh.*Mac OS X 10_8.*6\.0\.\d* Safari/i),b.isSafari=function(){return c(/safari/i)&&!c(/chrome/i)&&!c(/chromium/i)&&!c(/android/i)},b.isAndroid=function(b){return c(b?RegExp("android.*"+b,"i"):/android/i)},b.isMobile=function(){return b.isIOS()||b.isAndroid()},b.saveCookie=function(b,a){h.cookie="jwplayer."+b+"="+a+"; path=/"},b.getCookies=function(){for(var b={},a=h.cookie.split("; "),e=0;e<a.length;e++){var g=a[e].split("=");0==g[0].indexOf("jwplayer.")&&(b[g[0].substring(9,g[0].length)]=g[1])}return b},b.typeOf=function(b){var a=typeof b;return"object"===a?b?b instanceof Array?"array":a:"null":a},b.translateEventResponse=function(a,e){var c=b.extend({},e);return a!=d.events.JWPLAYER_FULLSCREEN||c.fullscreen?"object"==typeof c.data?(c=b.extend(c,c.data),delete c.data):"object"==typeof c.metadata&&b.deepReplaceKeyName(c.metadata,["__dot__","__spc__","__dsh__","__default__"],["."," ","-","default"]):(c.fullscreen="true"==c.message,delete c.message),b.foreach(["position","duration","offset"],function(b,a){c[a]&&(c[a]=Math.round(1e3*c[a])/1e3)}),c},b.flashVersion=function(){if(b.isAndroid())return 0;var c,a=j.plugins;try{if("undefined"!==a&&(c=a["Shockwave Flash"]))return parseInt(c.description.replace(/\D+(\d+)\..*/,"$1"))}catch(f){}if(void 0!==e.ActiveXObject)try{if(c=new ActiveXObject("ShockwaveFlash.ShockwaveFlash"))return parseInt(c.GetVariable("$version").split(" ")[1].split(",")[0])}catch(g){}return 0},b.getScriptPath=function(b){for(var a=h.getElementsByTagName("script"),c=0;c<a.length;c++){var g=a[c].src;if(g&&0<=g.indexOf(b))return g.substr(0,g.indexOf(b))}return""},b.deepReplaceKeyName=function(a,c,e){switch(d.utils.typeOf(a)){case"array":for(var g=0;g<a.length;g++)a[g]=d.utils.deepReplaceKeyName(a[g],c,e);break;case"object":b.foreach(a,function(b,g){var j;if(c instanceof Array&&e instanceof Array){if(c.length!=e.length)return;j=c}else j=[c];for(var f=b,h=0;h<j.length;h++)f=f.replace(RegExp(c[h],"g"),e[h]);a[f]=d.utils.deepReplaceKeyName(g,c,e),b!=f&&delete a[b]})}return a};var n=b.pluginPathType={ABSOLUTE:0,RELATIVE:1,CDN:2};b.getPluginPathType=function(a){if("string"==typeof a){a=a.split("?")[0];var c=a.indexOf("://");if(0<c)return n.ABSOLUTE;var e=a.indexOf("/");return a=b.extension(a),!(0>c&&0>e)||a&&isNaN(a)?n.RELATIVE:n.CDN}},b.getPluginName=function(b){return b.replace(/^(.*\/)?([^-]*)-?.*\.(swf|js)$/,"$2")},b.getPluginVersion=function(b){return b.replace(/[^-]*-?([^\.]*).*$/,"$1")},b.isYouTube=function(b){return/^(http|\/\/).*(youtube\.com|youtu\.be)\/.+/.test(b)},b.youTubeID=function(b){try{return/v[=\/]([^?&]*)|youtu\.be\/([^?]*)|^([\w-]*)$/i.exec(b).slice(1).join("").replace("?","")}catch(a){return""}},b.isRtmp=function(b,a){return 0==b.indexOf("rtmp")||"rtmp"==a},b.foreach=function(a,c){var e,g;for(e in a)"function"==b.typeOf(a.hasOwnProperty)?a.hasOwnProperty(e)&&(g=a[e],c(e,g)):(g=a[e],c(e,g))},b.isHTTPS=function(){return 0==e.location.href.indexOf("https")},b.repo=function(){var a="http://p.jwpcdn.com/"+d.version.split(/\W/).splice(0,2).join("/")+"/";try{b.isHTTPS()&&(a=a.replace("http://","https://ssl."))}catch(c){}return a},b.ajax=function(a,c,j){var g;0<a.indexOf("#")&&(a=a.replace(/#.*$/,""));var h;if((h=!!((h=a)&&0<=h.indexOf("://")&&h.split("/")[2]!=e.location.href.split("/")[2]))&&b.exists(e.XDomainRequest))g=new XDomainRequest,g.onload=f(g,a,c,j),g.onerror=k(j,a,g);else if(b.exists(e.XMLHttpRequest)){var d=g=new XMLHttpRequest,t=a;g.onreadystatechange=function(){if(4===d.readyState)switch(d.status){case 200:f(d,t,c,j)();break;case 404:j("File not found")}},g.onerror=k(j,a)}else j&&j();try{g.open("GET",a,!0),g.send(null)}catch(n){j&&j(a)}return g},b.parseXML=function(b){try{var a;if(e.DOMParser){a=(new DOMParser).parseFromString(b,"text/xml");try{if("parsererror"==a.childNodes[0].firstChild.nodeName)return}catch(c){}}else a=new ActiveXObject("Microsoft.XMLDOM"),a.async="false",a.loadXML(b);return a}catch(g){}},b.filterPlaylist=function(a,c){for(var e=[],g=0;g<a.length;g++){var j=b.extend({},a[g]);if(j.sources=b.filterSources(j.sources),0<j.sources.length){for(var f=0;f<j.sources.length;f++){var h=j.sources[f];h.label||(h.label=f.toString())}e.push(j)}}if(c&&0==e.length)for(g=0;g<a.length;g++)if(j=b.extend({},a[g]),j.sources=b.filterSources(j.sources,!0),0<j.sources.length){for(f=0;f<j.sources.length;f++)h=j.sources[f],h.label||(h.label=f.toString());e.push(j)}return e},b.filterSources=function(a,c){var e,g,j=b.extensionmap;if(a){g=[];for(var f=0;f<a.length;f++){var h=a[f].type,n=a[f].file;n&&n.trim&&(n=n.trim()),h||(h=j.extType(b.extension(n)),a[f].type=h),c?d.embed.flashCanPlay(n,h)&&(e||(e=h),h==e&&g.push(b.extend({},a[f]))):b.canPlayHTML5(h)&&(e||(e=h),h==e&&g.push(b.extend({},a[f])))}}return g},b.canPlayHTML5=function(a){return(!b.isAndroid()||"hls"!=a&&"m3u"!=a&&"m3u8"!=a)&&(!!(a=b.extensionmap.types[a])&&!!d.vid.canPlayType&&d.vid.canPlayType(a))},b.seconds=function(a){a=a.replace(",",".");var b=a.split(":"),c=0;return"s"==a.substr(-1)?c=Number(a.substr(0,a.length-1)):"m"==a.substr(-1)?c=60*Number(a.substr(0,a.length-1)):"h"==a.substr(-1)?c=3600*Number(a.substr(0,a.length-1)):1<b.length?(c=Number(b[b.length-1]),c+=60*Number(b[b.length-2]),3==b.length&&(c+=3600*Number(b[b.length-3]))):c=Number(a),c},b.serialize=function(a){return null==a?null:"true"==a.toString().toLowerCase()||"false"!=a.toString().toLowerCase()&&(isNaN(Number(a))||5<a.length||0==a.length?a:Number(a))}}(jwplayer),function(d){var a="video/",k=d.foreach,f={mp4:a+"mp4",vorbis:"audio/ogg",ogg:a+"ogg",webm:a+"webm",aac:"audio/mp4",mp3:"audio/mpeg",hls:"application/vnd.apple.mpegurl"},h={mp4:f.mp4,f4v:f.mp4,m4v:f.mp4,mov:f.mp4,m4a:f.aac,f4a:f.aac,aac:f.aac,mp3:f.mp3,ogv:f.ogg,ogg:f.vorbis,oga:f.vorbis,webm:f.webm,m3u8:f.hls,hls:f.hls},a="video",a={flv:a,f4v:a,mov:a,m4a:a,m4v:a,mp4:a,aac:a,f4a:a,mp3:"sound",smil:"rtmp",m3u8:"hls",hls:"hls"},e=d.extensionmap={};k(h,function(a,b){e[a]={html5:b}}),k(a,function(a,b){e[a]||(e[a]={}),e[a].flash=b}),e.types=f,e.mimeType=function(a){var b;return k(f,function(c,e){!b&&e==a&&(b=c)}),b},e.extType=function(a){return e.mimeType(h[a])}}(jwplayer.utils),function(d){var a=d.loaderstatus={NEW:0,LOADING:1,ERROR:2,COMPLETE:3},k=document;d.scriptloader=function(f){function h(){j=a.ERROR,c.sendEvent(b.ERROR)}function e(){j=a.COMPLETE,c.sendEvent(b.COMPLETE)}var j=a.NEW,b=jwplayer.events,c=new b.eventdispatcher;d.extend(this,c),this.load=function(){var c=d.scriptloader.loaders[f];if(!c||c.getStatus()!=a.NEW&&c.getStatus()!=a.LOADING){if(d.scriptloader.loaders[f]=this,j==a.NEW){j=a.LOADING;var m=k.createElement("script");m.addEventListener?(m.onload=e,m.onerror=h):m.readyState&&(m.onreadystatechange=function(){("loaded"==m.readyState||"complete"==m.readyState)&&e()}),k.getElementsByTagName("head")[0].appendChild(m),m.src=f}}else c.addEventListener(b.ERROR,h),c.addEventListener(b.COMPLETE,e)},this.getStatus=function(){return j}},d.scriptloader.loaders={}}(jwplayer.utils),function(d){d.trim=function(a){return a.replace(/^\s*/,"").replace(/\s*$/,"")},d.pad=function(a,d,f){for(f||(f="0");a.length<d;)a=f+a;return a},d.xmlAttribute=function(a,d){for(var f=0;f<a.attributes.length;f++)if(a.attributes[f].name&&a.attributes[f].name.toLowerCase()==d.toLowerCase())return a.attributes[f].value.toString();return""},d.extension=function(a){return a&&"rtmp"!=a.substr(0,4)?(a=a.substring(a.lastIndexOf("/")+1,a.length).split("?")[0].split("#")[0],-1<a.lastIndexOf(".")?a.substr(a.lastIndexOf(".")+1,a.length).toLowerCase():void 0):""},d.stringToColor=function(a){return a=a.replace(/(#|0x)?([0-9A-F]{3,6})$/gi,"$2"),3==a.length&&(a=a.charAt(0)+a.charAt(0)+a.charAt(1)+a.charAt(1)+a.charAt(2)+a.charAt(2)),parseInt(a,16)}}(jwplayer.utils),function(d){var a="touchmove",k="touchstart";d.touch=function(f){function h(b){b.type==k?(c=!0,m=j(l.DRAG_START,b)):b.type==a?c&&(p||(e(l.DRAG_START,b,m),p=!0),e(l.DRAG,b)):(c&&(p?e(l.DRAG_END,b):(b.cancelBubble=!0,e(l.TAP,b))),c=p=!1,m=null)}function e(a,b,c){n[a]&&(b.preventManipulation&&b.preventManipulation(),b.preventDefault&&b.preventDefault(),b=c||j(a,b))&&n[a](b)}function j(a,c){var e=null;if(c.touches&&c.touches.length?e=c.touches[0]:c.changedTouches&&c.changedTouches.length&&(e=c.changedTouches[0]),!e)return null;var j=b.getBoundingClientRect(),e={type:a,target:b,x:e.pageX-window.pageXOffset-j.left,y:e.pageY,deltaX:0,deltaY:0};return a!=l.TAP&&m&&(e.deltaX=e.x-m.x,e.deltaY=e.y-m.y),e}var b=f,c=!1,n={},m=null,p=!1,l=d.touchEvents;return document.addEventListener(a,h),document.addEventListener("touchend",function(a){c&&p&&e(l.DRAG_END,a),c=p=!1,m=null}),document.addEventListener("touchcancel",h),f.addEventListener(k,h),f.addEventListener("touchend",h),this.addEventListener=function(a,b){n[a]=b},this.removeEventListener=function(a){delete n[a]},this}}(jwplayer.utils),function(d){d.touchEvents={DRAG:"jwplayerDrag",DRAG_START:"jwplayerDragStart",DRAG_END:"jwplayerDragEnd",TAP:"jwplayerTap"}}(jwplayer.utils),function(d){d.key=function(a){var k,f,h;this.edition=function(){return h&&h.getTime()<(new Date).getTime()?"invalid":k},this.token=function(){return f},d.exists(a)||(a="");try{a=d.tea.decrypt(a,"36QXq4W@GSBV^teR");var e=a.split("/");(k=e[0])?/^(free|pro|premium|ads)$/i.test(k)?(f=e[1],e[2]&&0<parseInt(e[2])&&(h=new Date,h.setTime(String(e[2])))):k="invalid":k="free"}catch(j){k="invalid"}}}(jwplayer.utils),function(d){var a=d.tea={};a.encrypt=function(h,e){if(0==h.length)return"";var j=a.strToLongs(f.encode(h));1>=j.length&&(j[1]=0);for(var p,b=a.strToLongs(f.encode(e).slice(0,16)),c=j.length,d=j[c-1],m=j[0],l=Math.floor(6+52/c),g=0;0<l--;){g+=2654435769,p=g>>>2&3;for(var q=0;q<c;q++)m=j[(q+1)%c],d=(d>>>5^m<<2)+(m>>>3^d<<4)^(g^m)+(b[3&q^p]^d),d=j[q]+=d}return j=a.longsToStr(j),k.encode(j)},a.decrypt=function(h,e){if(0==h.length)return"";for(var p,j=a.strToLongs(k.decode(h)),b=a.strToLongs(f.encode(e).slice(0,16)),c=j.length,d=j[c-1],m=j[0],l=2654435769*Math.floor(6+52/c);0!=l;){p=l>>>2&3;for(var g=c-1;0<=g;g--)d=j[0<g?g-1:c-1],d=(d>>>5^m<<2)+(m>>>3^d<<4)^(l^m)+(b[3&g^p]^d),m=j[g]-=d;l-=2654435769}return j=a.longsToStr(j),j=j.replace(/\0+$/,""),f.decode(j)},a.strToLongs=function(a){for(var e=Array(Math.ceil(a.length/4)),j=0;j<e.length;j++)e[j]=a.charCodeAt(4*j)+(a.charCodeAt(4*j+1)<<8)+(a.charCodeAt(4*j+2)<<16)+(a.charCodeAt(4*j+3)<<24);return e},a.longsToStr=function(a){for(var e=Array(a.length),j=0;j<a.length;j++)e[j]=String.fromCharCode(255&a[j],a[j]>>>8&255,a[j]>>>16&255,a[j]>>>24&255);return e.join("")};var k={code:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",encode:function(a,e){var j,b,c,d,l,g,m=[],p="",q=k.code;if(g=(void 0===e?0:e)?f.encode(a):a,0<(l=g.length%3))for(;3>l++;)p+="=",g+="\0";for(l=0;l<g.length;l+=3)j=g.charCodeAt(l),b=g.charCodeAt(l+1),c=g.charCodeAt(l+2),d=j<<16|b<<8|c,j=d>>18&63,b=d>>12&63,c=d>>6&63,d&=63,m[l/3]=q.charAt(j)+q.charAt(b)+q.charAt(c)+q.charAt(d);return m=m.join(""),m=m.slice(0,m.length-p.length)+p},decode:function(a,e){e=void 0!==e&&e;var j,b,c,d,m,l,p=[],g=k.code;l=e?f.decode(a):a;for(var q=0;q<l.length;q+=4)j=g.indexOf(l.charAt(q)),b=g.indexOf(l.charAt(q+1)),d=g.indexOf(l.charAt(q+2)),m=g.indexOf(l.charAt(q+3)),c=j<<18|b<<12|d<<6|m,j=c>>>16&255,b=c>>>8&255,c&=255,p[q/4]=String.fromCharCode(j,b,c),64==m&&(p[q/4]=String.fromCharCode(j,b)),64==d&&(p[q/4]=String.fromCharCode(j));return d=p.join(""),e?f.decode(d):d}},f={encode:function(a){return a=a.replace(/[\u0080-\u07ff]/g,function(a){return a=a.charCodeAt(0),String.fromCharCode(192|a>>6,128|63&a)}),a=a.replace(/[\u0800-\uffff]/g,function(a){return a=a.charCodeAt(0),String.fromCharCode(224|a>>12,128|a>>6&63,128|63&a)})},decode:function(a){return a=a.replace(/[\u00e0-\u00ef][\u0080-\u00bf][\u0080-\u00bf]/g,function(a){return a=(15&a.charCodeAt(0))<<12|(63&a.charCodeAt(1))<<6|63&a.charCodeAt(2),String.fromCharCode(a)}),a=a.replace(/[\u00c0-\u00df][\u0080-\u00bf]/g,function(a){return a=(31&a.charCodeAt(0))<<6|63&a.charCodeAt(1),String.fromCharCode(a)})}}}(jwplayer.utils),function(d){d.events={COMPLETE:"COMPLETE",ERROR:"ERROR",API_READY:"jwplayerAPIReady",JWPLAYER_READY:"jwplayerReady",JWPLAYER_FULLSCREEN:"jwplayerFullscreen",JWPLAYER_RESIZE:"jwplayerResize",JWPLAYER_ERROR:"jwplayerError",JWPLAYER_SETUP_ERROR:"jwplayerSetupError",JWPLAYER_MEDIA_BEFOREPLAY:"jwplayerMediaBeforePlay",JWPLAYER_MEDIA_BEFORECOMPLETE:"jwplayerMediaBeforeComplete",JWPLAYER_COMPONENT_SHOW:"jwplayerComponentShow",JWPLAYER_COMPONENT_HIDE:"jwplayerComponentHide",JWPLAYER_MEDIA_BUFFER:"jwplayerMediaBuffer",JWPLAYER_MEDIA_BUFFER_FULL:"jwplayerMediaBufferFull",JWPLAYER_MEDIA_ERROR:"jwplayerMediaError",JWPLAYER_MEDIA_LOADED:"jwplayerMediaLoaded",JWPLAYER_MEDIA_COMPLETE:"jwplayerMediaComplete",JWPLAYER_MEDIA_SEEK:"jwplayerMediaSeek",JWPLAYER_MEDIA_TIME:"jwplayerMediaTime",JWPLAYER_MEDIA_VOLUME:"jwplayerMediaVolume",JWPLAYER_MEDIA_META:"jwplayerMediaMeta",JWPLAYER_MEDIA_MUTE:"jwplayerMediaMute",JWPLAYER_MEDIA_LEVELS:"jwplayerMediaLevels",JWPLAYER_MEDIA_LEVEL_CHANGED:"jwplayerMediaLevelChanged",JWPLAYER_CAPTIONS_CHANGED:"jwplayerCaptionsChanged",JWPLAYER_CAPTIONS_LIST:"jwplayerCaptionsList",JWPLAYER_PLAYER_STATE:"jwplayerPlayerState",state:{BUFFERING:"BUFFERING",IDLE:"IDLE",PAUSED:"PAUSED",PLAYING:"PLAYING"},JWPLAYER_PLAYLIST_LOADED:"jwplayerPlaylistLoaded",JWPLAYER_PLAYLIST_ITEM:"jwplayerPlaylistItem",JWPLAYER_PLAYLIST_COMPLETE:"jwplayerPlaylistComplete",JWPLAYER_DISPLAY_CLICK:"jwplayerViewClick",JWPLAYER_CONTROLS:"jwplayerViewControls",JWPLAYER_USER_ACTION:"jwplayerUserAction",JWPLAYER_INSTREAM_CLICK:"jwplayerInstreamClicked",JWPLAYER_INSTREAM_DESTROYED:"jwplayerInstreamDestroyed",JWPLAYER_AD_TIME:"jwplayerAdTime",JWPLAYER_AD_ERROR:"jwplayerAdError",JWPLAYER_AD_CLICK:"jwplayerAdClicked",JWPLAYER_AD_COMPLETE:"jwplayerAdComplete",JWPLAYER_AD_IMPRESSION:"jwplayerAdImpression",JWPLAYER_AD_COMPANIONS:"jwplayerAdCompanions"}}(jwplayer),function(d){var a=jwplayer.utils;d.eventdispatcher=function(d,f){var h,e;this.resetEventListeners=function(){h={},e=[]},this.resetEventListeners(),this.addEventListener=function(e,b,c){try{a.exists(h[e])||(h[e]=[]),"string"==a.typeOf(b)&&(b=new Function("return "+b)()),h[e].push({listener:b,count:c})}catch(f){a.log("error",f)}return!1},this.removeEventListener=function(e,b){if(h[e]){try{for(var c=0;c<h[e].length;c++)if(h[e][c].listener.toString()==b.toString()){h[e].splice(c,1);break}}catch(f){a.log("error",f)}return!1}},this.addGlobalListener=function(f,b){try{"string"==a.typeOf(f)&&(f=new Function("return "+f)()),e.push({listener:f,count:b})}catch(c){a.log("error",c)}return!1},this.removeGlobalListener=function(f){if(f){try{for(var b=0;b<e.length;b++)if(e[b].listener.toString()==f.toString()){e.splice(b,1);break}}catch(c){a.log("error",c)}return!1}},this.sendEvent=function(j,b){if(a.exists(b)||(b={}),a.extend(b,{id:d,version:jwplayer.version,type:j}),f&&a.log(j,b),"undefined"!=a.typeOf(h[j]))for(var c=0;c<h[j].length;c++){try{h[j][c].listener(b)}catch(n){a.log("There was an error while handling a listener: "+n.toString(),h[j][c].listener)}h[j][c]&&(1===h[j][c].count?delete h[j][c]:0<h[j][c].count&&(h[j][c].count-=1))}for(c=0;c<e.length;c++){try{e[c].listener(b)}catch(m){a.log("There was an error while handling a listener: "+m.toString(),e[c].listener)}e[c]&&(1===e[c].count?delete e[c]:0<e[c].count&&(e[c].count-=1))}}}}(jwplayer.events),function(d){var a={},k={};d.plugins=function(){},d.plugins.loadPlugins=function(f,h){return k[f]=new d.plugins.pluginloader(new d.plugins.model(a),h),k[f]},d.plugins.registerPlugin=function(f,h,e,j){var b=d.utils.getPluginName(f);a[b]||(a[b]=new d.plugins.plugin(f)),a[b].registerPlugin(f,h,e,j)}}(jwplayer),function(d){d.plugins.model=function(a){this.addPlugin=function(k){var f=d.utils.getPluginName(k);return a[f]||(a[f]=new d.plugins.plugin(k)),a[f]},this.getPlugins=function(){return a}}}(jwplayer),function(d){var a=jwplayer.utils,k=jwplayer.events;d.pluginmodes={FLASH:0,JAVASCRIPT:1,HYBRID:2},d.plugin=function(f){function h(){switch(a.getPluginPathType(f)){case a.pluginPathType.ABSOLUTE:return f;case a.pluginPathType.RELATIVE:return a.getAbsolutePath(f,window.location.href)}}function e(){p=setTimeout(function(){b=a.loaderstatus.COMPLETE,l.sendEvent(k.COMPLETE)},1e3)}function j(){b=a.loaderstatus.ERROR,l.sendEvent(k.ERROR)}var c,n,m,p,b=a.loaderstatus.NEW,l=new k.eventdispatcher;a.extend(this,l),this.load=function(){if(b==a.loaderstatus.NEW)if(0<f.lastIndexOf(".swf"))c=f,b=a.loaderstatus.COMPLETE,l.sendEvent(k.COMPLETE);else if(a.getPluginPathType(f)==a.pluginPathType.CDN)b=a.loaderstatus.COMPLETE,l.sendEvent(k.COMPLETE);else{b=a.loaderstatus.LOADING;var g=new a.scriptloader(h());g.addEventListener(k.COMPLETE,e),g.addEventListener(k.ERROR,j),g.load()}},this.registerPlugin=function(e,f,j,d){p&&(clearTimeout(p),p=void 0),m=f,j&&d?(c=d,n=j):"string"==typeof j?c=j:"function"==typeof j?n=j:!j&&!d&&(c=e),b=a.loaderstatus.COMPLETE,l.sendEvent(k.COMPLETE)},this.getStatus=function(){return b},this.getPluginName=function(){return a.getPluginName(f)},this.getFlashPath=function(){if(c)switch(a.getPluginPathType(c)){case a.pluginPathType.ABSOLUTE:return c;case a.pluginPathType.RELATIVE:return 0<f.lastIndexOf(".swf")?a.getAbsolutePath(c,window.location.href):a.getAbsolutePath(c,h())}return null},this.getJS=function(){return n},this.getTarget=function(){return m},this.getPluginmode=function(){return void 0!==c&&void 0!==n?d.pluginmodes.HYBRID:void 0!==c?d.pluginmodes.FLASH:void 0!==n?d.pluginmodes.JAVASCRIPT:void 0},this.getNewInstance=function(a,b,c){return new n(a,b,c)},this.getURL=function(){return f}}}(jwplayer.plugins),function(d){var a=d.utils,k=d.events,f=a.foreach;d.plugins.pluginloader=function(h,e){function j(){m?g.sendEvent(k.ERROR,{message:p}):n||(n=!0,c=a.loaderstatus.COMPLETE,g.sendEvent(k.COMPLETE))}function b(){if(l||j(),!n&&!m){var b=0,c=h.getPlugins();a.foreach(l,function(e){e=a.getPluginName(e);var f=c[e];e=f.getJS();var g=f.getTarget(),f=f.getStatus();f==a.loaderstatus.LOADING||f==a.loaderstatus.NEW?b++:e&&(!g||parseFloat(g)>parseFloat(d.version))&&(m=!0,p="Incompatible player version",j())}),0==b&&j()}}var p,c=a.loaderstatus.NEW,n=!1,m=!1,l=e,g=new k.eventdispatcher;a.extend(this,g),this.setupPlugins=function(b,c,e){var g={length:0,plugins:{}},j=0,d={},n=h.getPlugins();return f(c.plugins,function(f,h){var k=a.getPluginName(f),l=n[k],m=l.getFlashPath(),q=l.getJS(),p=l.getURL();m&&(g.plugins[m]=a.extend({},h),g.plugins[m].pluginmode=l.getPluginmode(),g.length++);try{if(q&&c.plugins&&c.plugins[p]){var A=document.createElement("div");A.id=b.id+"_"+k,A.style.position="absolute",A.style.top=0,A.style.zIndex=j+10,d[k]=l.getNewInstance(b,a.extend({},c.plugins[p]),A),j++,
b.onReady(e(d[k],A,!0)),b.onResize(e(d[k],A))}}catch(D){a.log("ERROR: Failed to load "+k+".")}}),b.plugins=d,g},this.load=function(){if(!a.exists(e)||"object"==a.typeOf(e)){c=a.loaderstatus.LOADING,f(e,function(c){a.exists(c)&&(c=h.addPlugin(c),c.addEventListener(k.COMPLETE,b),c.addEventListener(k.ERROR,q))});var g=h.getPlugins();f(g,function(a,b){b.load()})}b()};var q=this.pluginFailed=function(){m||(m=!0,p="File not found",j())};this.getStatus=function(){return c}}}(jwplayer),function(){jwplayer.parsers={localName:function(d){return d?d.localName?d.localName:d.baseName?d.baseName:"":""},textContent:function(d){return d?d.textContent?d.textContent:d.text?d.text:"":""},getChildNode:function(d,a){return d.childNodes[a]},numChildren:function(d){return d.childNodes?d.childNodes.length:0}}}(jwplayer),function(d){var a=d.parsers;(a.jwparser=function(){}).parseEntry=function(k,f){for(var h=[],e=[],j=d.utils.xmlAttribute,b=0;b<k.childNodes.length;b++){var c=k.childNodes[b];if("jwplayer"==c.prefix){var n=a.localName(c);"source"==n?(delete f.sources,h.push({file:j(c,"file"),default:j(c,"default"),label:j(c,"label"),type:j(c,"type")})):"track"==n?(delete f.tracks,e.push({file:j(c,"file"),default:j(c,"default"),kind:j(c,"kind"),label:j(c,"label")})):(f[n]=d.utils.serialize(a.textContent(c)),"file"==n&&f.sources&&delete f.sources)}f.file||(f.file=f.link)}if(h.length)for(f.sources=[],b=0;b<h.length;b++)0<h[b].file.length&&(h[b].default="true"==h[b].default,h[b].label.length||delete h[b].label,f.sources.push(h[b]));if(e.length)for(f.tracks=[],b=0;b<e.length;b++)0<e[b].file.length&&(e[b].default="true"==e[b].default,e[b].kind=e[b].kind.length?e[b].kind:"captions",e[b].label.length||delete e[b].label,f.tracks.push(e[b]));return f}}(jwplayer),function(d){var a=jwplayer.utils,k=a.xmlAttribute,f=d.localName,h=d.textContent,e=d.numChildren,j=d.mediaparser=function(){};j.parseGroup=function(b,c){var d,m,p=[];for(m=0;m<e(b);m++)if(d=b.childNodes[m],"media"==d.prefix&&f(d))switch(f(d).toLowerCase()){case"content":k(d,"duration")&&(c.duration=a.seconds(k(d,"duration"))),0<e(d)&&(c=j.parseGroup(d,c)),k(d,"url")&&(c.sources||(c.sources=[]),c.sources.push({file:k(d,"url"),type:k(d,"type"),width:k(d,"width"),label:k(d,"label")}));break;case"title":c.title=h(d);break;case"description":c.description=h(d);break;case"guid":c.mediaid=h(d);break;case"thumbnail":c.image||(c.image=k(d,"url"));break;case"group":j.parseGroup(d,c);break;case"subtitle":var l={};if(l.file=k(d,"url"),l.kind="captions",0<k(d,"lang").length){var g=l;d=k(d,"lang");var q={zh:"Chinese",nl:"Dutch",en:"English",fr:"French",de:"German",it:"Italian",ja:"Japanese",pt:"Portuguese",ru:"Russian",es:"Spanish"};d=q[d]?q[d]:d,g.label=d}p.push(l)}for(c.hasOwnProperty("tracks")||(c.tracks=[]),m=0;m<p.length;m++)c.tracks.push(p[m]);return c}}(jwplayer.parsers),function(d){function a(a){for(var c={},e=0;e<a.childNodes.length;e++){var h=a.childNodes[e],p=j(h);if(p)switch(p.toLowerCase()){case"enclosure":c.file=k.xmlAttribute(h,"url");break;case"title":c.title=f(h);break;case"guid":c.mediaid=f(h);break;case"pubdate":c.date=f(h);break;case"description":c.description=f(h);break;case"link":c.link=f(h);break;case"category":c.tags=c.tags?c.tags+f(h):f(h)}}return c=d.mediaparser.parseGroup(a,c),c=d.jwparser.parseEntry(a,c),new jwplayer.playlist.item(c)}var k=jwplayer.utils,f=d.textContent,h=d.getChildNode,e=d.numChildren,j=d.localName;d.rssparser={},d.rssparser.parse=function(b){for(var c=[],f=0;f<e(b);f++){var d=h(b,f);if("channel"==j(d).toLowerCase())for(var k=0;k<e(d);k++){var l=h(d,k);"item"==j(l).toLowerCase()&&c.push(a(l))}}return c}}(jwplayer.parsers),function(d){d.playlist=function(a){var k=[];if("array"==d.utils.typeOf(a))for(var f=0;f<a.length;f++)k.push(new d.playlist.item(a[f]));else k.push(new d.playlist.item(a));return k}}(jwplayer),function(d){var a=d.item=function(k){var f=jwplayer.utils,h=f.extend({},a.defaults,k);h.tracks=k&&f.exists(k.tracks)?k.tracks:[],0==h.sources.length&&(h.sources=[new d.source(h)]);for(var e=0;e<h.sources.length;e++){var j=h.sources[e].default;h.sources[e].default=!!j&&"true"==j.toString(),h.sources[e]=new d.source(h.sources[e])}if(h.captions&&!f.exists(k.tracks)){for(k=0;k<h.captions.length;k++)h.tracks.push(h.captions[k]);delete h.captions}for(e=0;e<h.tracks.length;e++)h.tracks[e]=new d.track(h.tracks[e]);return h};a.defaults={description:"",image:"",mediaid:"",title:"",sources:[],tracks:[]}}(jwplayer.playlist),function(d){var a=jwplayer,k=a.utils,f=a.events,h=a.parsers;d.loader=function(){function a(e){try{var j=e.responseXML.childNodes;e="";for(var k=0;k<j.length&&(e=j[k],!(8!=e.nodeType));k++);if("xml"==h.localName(e)&&(e=e.nextSibling),"rss"!=h.localName(e))b("Not a valid RSS feed");else{var l=new d(h.rssparser.parse(e));c.sendEvent(f.JWPLAYER_PLAYLIST_LOADED,{playlist:l})}}catch(g){b()}}function j(a){b(a.match(/invalid/i)?"Not a valid RSS feed":"")}function b(a){c.sendEvent(f.JWPLAYER_ERROR,{message:a||"Error loading file"})}var c=new f.eventdispatcher;k.extend(this,c),this.load=function(b){k.ajax(b,a,j)}}}(jwplayer.playlist),function(d){var a=jwplayer.utils,k={file:void 0,label:void 0,type:void 0,default:void 0};d.source=function(f){var d=a.extend({},k);return a.foreach(k,function(e){a.exists(f[e])&&(d[e]=f[e],delete f[e])}),d.type&&0<d.type.indexOf("/")&&(d.type=a.extensionmap.mimeType(d.type)),"m3u8"==d.type&&(d.type="hls"),"smil"==d.type&&(d.type="rtmp"),d}}(jwplayer.playlist),function(d){var a=jwplayer.utils,k={file:void 0,label:void 0,kind:"captions",default:!1};d.track=function(d){var h=a.extend({},k);return d||(d={}),a.foreach(k,function(e){a.exists(d[e])&&(h[e]=d[e],delete d[e])}),h}}(jwplayer.playlist),function(d){var a=d.utils,k=d.events,f=!0,h=!1,e=document,j=d.embed=function(b){function c(b,c){a.foreach(c,function(a,c){"function"==typeof b[a]&&b[a].call(b,c)})}function n(){if(r.sitecatalyst)try{null!=s&&s.hasOwnProperty("Media")||l()}catch(e){return void l()}if("array"==a.typeOf(r.playlist)&&2>r.playlist.length&&(0==r.playlist.length||!r.playlist[0].sources||0==r.playlist[0].sources.length))p();else if(!z)if("string"==a.typeOf(r.playlist)){var g=new d.playlist.loader;g.addEventListener(k.JWPLAYER_PLAYLIST_LOADED,function(a){r.playlist=a.playlist,z=h,n()}),g.addEventListener(k.JWPLAYER_ERROR,function(a){z=h,p(a)}),z=f,g.load(r.playlist)}else if(y.getStatus()==a.loaderstatus.COMPLETE){for(g=0;g<r.modes.length;g++)if(r.modes[g].type&&j[r.modes[g].type]){var u=a.extend({},r),w=new j[r.modes[g].type](t,r.modes[g],u,y,b);if(w.supportsConfig())return w.addEventListener(k.ERROR,m),w.embed(),c(b,u.events),b}if(r.fallback){var x="No suitable players found and fallback enabled";C=setTimeout(function(){q(x,f)},10),a.log(x),new j.download(t,r,p)}else x="No suitable players found and fallback disabled",q(x,h),a.log(x),t.parentNode.replaceChild(v,t)}}function m(a){g(t,B+a.message)}function p(a){a&&a.message?g(t,"Error loading playlist: "+a.message):g(t,B+"No playable sources found")}function l(){g(t,"Adobe SiteCatalyst Error: Could not find Media Module")}function g(b,c){if(r.fallback){var e=b.style;e.backgroundColor="#000",e.color="#FFF",e.width=a.styleDimension(r.width),e.height=a.styleDimension(r.height),e.display="table",e.opacity=1;var e=document.createElement("p"),d=e.style;d.verticalAlign="middle",d.textAlign="center",d.display="table-cell",d.font="15px/20px Arial, Helvetica, sans-serif",e.innerHTML=c.replace(":",":<br>"),b.innerHTML="",b.appendChild(e),q(c,f)}else q(c,h)}function q(a,c){C&&(clearTimeout(C),C=null),b.dispatchEvent(k.JWPLAYER_SETUP_ERROR,{message:a,fallback:c})}var t,u,v,r=new j.config(b.config),w=r.width,x=r.height,B="Error loading player: ",y=d.plugins.loadPlugins(b.id,r.plugins),z=h,C=null;return r.fallbackDiv&&(v=r.fallbackDiv,delete r.fallbackDiv),r.id=b.id,u=e.getElementById(b.id),r.aspectratio?b.config.aspectratio=r.aspectratio:delete b.config.aspectratio,t=e.createElement("div"),t.id=u.id,t.style.width=0<w.toString().indexOf("%")?w:w+"px",t.style.height=0<x.toString().indexOf("%")?x:x+"px",u.parentNode.replaceChild(t,u),d.embed.errorScreen=g,y.addEventListener(k.COMPLETE,n),y.addEventListener(k.ERROR,function(a){g(t,"Could not load plugins: "+a.message)}),y.load(),b}}(jwplayer),function(d){function a(a){if(a.playlist)for(var d=0;d<a.playlist.length;d++)a.playlist[d]=new h(a.playlist[d]);else{var b={};f.foreach(h.defaults,function(c){k(a,b,c)}),b.sources||(a.levels?(b.sources=a.levels,delete a.levels):(d={},k(a,d,"file"),k(a,d,"type"),b.sources=d.file?[d]:[])),a.playlist=[new h(b)]}}function k(a,d,b){f.exists(a[b])&&(d[b]=a[b],delete a[b])}var f=d.utils,h=d.playlist.item;(d.embed.config=function(e){var j={fallback:!0,height:270,primary:"html5",width:480,base:e.base?e.base:f.getScriptPath("jwplayer.js"),aspectratio:""};e=f.extend(j,d.defaults,e);var j={type:"html5",src:e.base+"jwplayer.html5.js"},b={type:"flash",src:e.base+"jwplayer.flash.swf"};if(e.modes="flash"==e.primary?[b,j]:[j,b],e.listbar&&(e.playlistsize=e.listbar.size,e.playlistposition=e.listbar.position,e.playlistlayout=e.listbar.layout),e.flashplayer&&(b.src=e.flashplayer),e.html5player&&(j.src=e.html5player),a(e),"string"==typeof(b=e.aspectratio)&&f.exists(b)){var c=b.indexOf(":");-1==c?j=0:(j=parseFloat(b.substr(0,c)),b=parseFloat(b.substr(c+1)),j=0>=j||0>=b?0:b/j*100+"%")}else j=0;return-1==e.width.toString().indexOf("%")?delete e.aspectratio:j?e.aspectratio=j:delete e.aspectratio,e}).addConfig=function(e,d){return a(d),f.extend(e,d)}}(jwplayer),function(d){var a=d.utils,k=document;d.embed.download=function(d,h,e){function j(b,c){for(var e=k.querySelectorAll(b),d=0;d<e.length;d++)a.foreach(c,function(a,b){e[d].style[a]=b})}function b(a,b,c){return a=k.createElement(a),b&&(a.className="jwdownload"+b),c&&c.appendChild(a),a}var p,c=a.extend({},h),n=c.width?c.width:480,m=c.height?c.height:320;h=h.logo?h.logo:{prefix:a.repo(),file:"logo.png",margin:10};var l,g,q,r,c=c.playlist,t=["mp4","aac","mp3"];if(c&&c.length){for(r=c[0],p=r.sources,c=0;c<p.length;c++){var u=p[c],v=u.type?u.type:a.extensionmap.extType(a.extension(u.file));u.file&&a.foreach(t,function(b){v==t[b]?(l=u.file,g=r.image):a.isYouTube(u.file)&&(q=u.file)})}l?(p=l,e=g,d&&(c=b("a","display",d),b("div","icon",c),b("div","logo",c),p&&c.setAttribute("href",a.getAbsolutePath(p))),c="#"+d.id+" .jwdownload",d.style.width="",d.style.height="",j(c+"display",{width:a.styleDimension(Math.max(320,n)),height:a.styleDimension(Math.max(180,m)),background:"black center no-repeat "+(e?"url("+e+")":""),backgroundSize:"contain",position:"relative",border:"none",display:"block"}),j(c+"display div",{position:"absolute",width:"100%",height:"100%"}),j(c+"logo",{top:h.margin+"px",right:h.margin+"px",background:"top right no-repeat url("+h.prefix+h.file+")"}),j(c+"icon",{background:"center no-repeat url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADwAAAA8CAYAAAA6/NlyAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAgNJREFUeNrs28lqwkAYB/CZqNVDDj2r6FN41QeIy8Fe+gj6BL275Q08u9FbT8ZdwVfotSBYEPUkxFOoks4EKiJdaDuTjMn3wWBO0V/+sySR8SNSqVRKIR8qaXHkzlqS9jCfzzWcTCYp9hF5o+59sVjsiRzcegSckFzcjT+ruN80TeSlAjCAAXzdJSGPFXRpAAMYwACGZQkSdhG4WCzehMNhqV6vG6vVSrirKVEw66YoSqDb7cqlUilE8JjHd/y1MQefVzqdDmiaJpfLZWHgXMHn8F6vJ1cqlVAkEsGuAn83J4gAd2RZymQygX6/L1erVQt+9ZPWb+CDwcCC2zXGJaewl/DhcHhK3DVj+KfKZrMWvFarcYNLomAv4aPRSFZVlTlcSPA5fDweW/BoNIqFnKV53JvncjkLns/n/cLdS+92O7RYLLgsKfv9/t8XlDn4eDyiw+HA9Jyz2eyt0+kY2+3WFC5hluej0Ha7zQQq9PPwdDq1Et1sNsx/nFBgCqWJ8oAK1aUptNVqcYWewE4nahfU0YQnk4ntUEfGMIU2m01HoLaCKbTRaDgKtaVLk9tBYaBcE/6Artdr4RZ5TB6/dC+9iIe/WgAMYADDpAUJAxjAAAYwgGFZgoS/AtNNTF7Z2bL0BYPBV3Jw5xFwwWcYxgtBP5OkE8i9G7aWGOOCruvauwADALMLMEbKf4SdAAAAAElFTkSuQmCC)"})):q?(h=q,d=b("embed","",d),d.src="http://www.youtube.com/v/"+a.youTubeID(h),d.type="application/x-shockwave-flash",d.width=n,d.height=m):e()}}}(jwplayer),function(d){var a=d.utils,k=d.events,f={};(d.embed.flash=function(e,j,b,c,n){function m(a,b,c){var e=document.createElement("param");e.setAttribute("name",b),e.setAttribute("value",c),a.appendChild(e)}function p(a,b,c){return function(){try{c&&document.getElementById(n.id+"_wrapper").appendChild(b);var e=document.getElementById(n.id).getPluginConfig("display");"function"==typeof a.resize&&a.resize(e.width,e.height),b.style.left=e.x,b.style.top=e.h}catch(d){}}}function l(b){if(!b)return{};var c={},e=[];return a.foreach(b,function(b,d){var g=a.getPluginName(b);e.push(b),a.foreach(d,function(a,b){c[g+"."+a]=b})}),c.plugins=e.join(","),c}var g=new d.events.eventdispatcher,q=a.flashVersion();a.extend(this,g),this.embed=function(){if(b.id=n.id,10>q)return g.sendEvent(k.ERROR,{message:"Flash version must be 10.0 or greater"}),!1;var d,h,u=n.config.listbar,v=a.extend({},b);if(e.id+"_wrapper"==e.parentNode.id)d=document.getElementById(e.id+"_wrapper");else{if(d=document.createElement("div"),h=document.createElement("div"),h.style.display="none",h.id=e.id+"_aspect",d.id=e.id+"_wrapper",d.style.position="relative",d.style.display="block",d.style.width=a.styleDimension(v.width),d.style.height=a.styleDimension(v.height),n.config.aspectratio){var w=parseFloat(n.config.aspectratio);h.style.display="block",h.style.marginTop=n.config.aspectratio,d.style.height="auto",d.style.display="inline-block",u&&("bottom"==u.position?h.style.paddingBottom=u.size+"px":"right"==u.position&&(h.style.marginBottom=-1*u.size*(w/100)+"px"))}e.parentNode.replaceChild(d,e),d.appendChild(e),d.appendChild(h)}for(d=c.setupPlugins(n,v,p),0<d.length?a.extend(v,l(d.plugins)):delete v.plugins,void 0!==v["dock.position"]&&"false"==v["dock.position"].toString().toLowerCase()&&(v.dock=v["dock.position"],delete v["dock.position"]),d=v.wmode?v.wmode:v.height&&40>=v.height?"transparent":"opaque",h="height width modes events primary base fallback volume".split(" "),u=0;u<h.length;u++)delete v[h[u]];h=a.getCookies(),a.foreach(h,function(a,b){void 0===v[a]&&(v[a]=b)}),h=window.location.href.split("/"),h.splice(h.length-1,1),h=h.join("/"),v.base=h+"/",f[e.id]=v,a.isIE()?(h='<object classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000" " width="100%" height="100%"id="'+e.id+'" name="'+e.id+'" tabindex=0"">',h+='<param name="movie" value="'+j.src+'">',h+='<param name="allowfullscreen" value="true"><param name="allowscriptaccess" value="always">',h+='<param name="seamlesstabbing" value="true">',h+='<param name="wmode" value="'+d+'">',h+='<param name="bgcolor" value="#000000">',h+="</object>",e.outerHTML=h,d=document.getElementById(e.id)):(h=document.createElement("object"),h.setAttribute("type","application/x-shockwave-flash"),h.setAttribute("data",j.src),h.setAttribute("width","100%"),h.setAttribute("height","100%"),h.setAttribute("bgcolor","#000000"),h.setAttribute("id",e.id),h.setAttribute("name",e.id),h.setAttribute("tabindex",0),m(h,"allowfullscreen","true"),m(h,"allowscriptaccess","always"),m(h,"seamlesstabbing","true"),m(h,"wmode",d),e.parentNode.replaceChild(h,e),d=h),n.config.aspectratio&&(d.style.position="absolute"),n.container=d,n.setPlayer(d,"flash")},this.supportsConfig=function(){if(q){if(!b)return!0;if("string"==a.typeOf(b.playlist))return!0;try{var c=b.playlist[0].sources;if(void 0===c)return!0;for(var d=0;d<c.length;d++)if(c[d].file&&h(c[d].file,c[d].type))return!0}catch(e){}}return!1}}).getVars=function(a){return f[a]};var h=d.embed.flashCanPlay=function(d,f){if(a.isYouTube(d)||a.isRtmp(d,f)||"hls"==f)return!0;var b=a.extensionmap[f||a.extension(d)];return!!b&&!!b.flash}}(jwplayer),function(d){var a=d.utils,k=a.extensionmap,f=d.events;d.embed.html5=function(h,e,j,b,c){function n(a,b,c){return function(){try{var d=document.querySelector("#"+h.id+" .jwmain");c&&d.appendChild(b),"function"==typeof a.resize&&(a.resize(d.clientWidth,d.clientHeight),setTimeout(function(){a.resize(d.clientWidth,d.clientHeight)},400)),b.left=d.style.left,b.top=d.style.top}catch(e){}}}function m(a){p.sendEvent(a.type,{message:"HTML5 player not found"})}var p=this,l=new f.eventdispatcher;a.extend(p,l),p.embed=function(){if(d.html5){b.setupPlugins(c,j,n),h.innerHTML="";var g=d.utils.extend({},j);delete g.volume,g=new d.html5.player(g),c.container=document.getElementById(c.id),c.setPlayer(g,"html5")}else g=new a.scriptloader(e.src),g.addEventListener(f.ERROR,m),g.addEventListener(f.COMPLETE,p.embed),g.load()},p.supportsConfig=function(){if(d.vid.canPlayType)try{if("string"==a.typeOf(j.playlist))return!0;for(var b=j.playlist[0].sources,c=0;c<b.length;c++){var e,f=b[c].file,h=b[c].type;if(null!==navigator.userAgent.match(/BlackBerry/i)||a.isAndroid()&&("m3u"==a.extension(f)||"m3u8"==a.extension(f))||a.isRtmp(f,h))e=!1;else{var m,l=k[h||a.extension(f)];if(!l||l.flash&&!l.html5)m=!1;else{var n=l.html5,p=d.vid;if(n)try{m=!!p.canPlayType(n)}catch(y){m=!1}else m=!0}e=m}if(e)return!0}}catch(z){}return!1}}}(jwplayer),function(d){var a=d.embed,k=d.utils,f=k.extend(function(f){var e=k.repo(),j=k.extend({},d.defaults),b=k.extend({},j,f.config),c=f.config,n=b.plugins,m=b.analytics,p=e+"jwpsrv.js",l=e+"sharing.js",g=e+"related.js",q=e+"gapro.js",j=d.key?d.key:j.key,r=new d.utils.key(j).edition(),n=n||{};switch("ads"==r&&b.advertising&&(b.advertising.client.match(".js$|.swf$")?n[b.advertising.client]=b.advertising:n[e+b.advertising.client+".js"]=b.advertising),delete c.advertising,c.key=j,b.analytics&&b.analytics.client&&b.analytics.client.match(".js$|.swf$")&&(p=b.analytics.client),delete c.analytics,"free"!=r&&m&&!1===m.enabled||(n[p]=m||{}),delete n.sharing,delete n.related,r){case"premium":case"ads":b.related&&(b.related.client&&b.related.client.match(".js$|.swf$")&&(g=b.related.client),n[g]=b.related),b.ga&&(b.ga.client&&b.ga.client.match(".js$|.swf$")&&(q=b.ga.client),n[q]=b.ga),c.sitecatalyst&&new d.embed.sitecatalyst(f);case"pro":b.sharing&&(b.sharing.client&&b.sharing.client.match(".js$|.swf$")&&(l=b.sharing.client),n[l]=b.sharing),b.skin&&(c.skin=b.skin.replace(/^(beelden|bekle|five|glow|modieus|roundster|stormtrooper|vapor)$/i,k.repo()+"skins/$1.xml"))}return c.plugins=n,new a(f)},a);d.embed=f}(jwplayer),function(d){var a=jwplayer.utils;d.sitecatalyst=function(d){function f(b){c.debug&&a.log(b)}function h(a){return a=a.split("/"),a=a[a.length-1],a=a.split("?"),a[0]}function e(){if(!g){g=!0;var a=b.getPosition();f("stop: "+m+" : "+a),s.Media.stop(m,a)}}function j(){q||(e(),q=!0,f("close: "+m),s.Media.close(m),r=!0,l=0)}var m,p,l,r,b=d,c=a.extend({},b.config.sitecatalyst),n={onPlay:function(){if(!r){var a=b.getPosition();g=!1,f("play: "+m+" : "+a),s.Media.play(m,a)}},onPause:e,onBuffer:e,onIdle:j,onPlaylistItem:function(d){try{r=!0,j(),l=0;var e;if(c.mediaName)e=c.mediaName;else{var g=b.getPlaylistItem(d.index);e=g.title?g.title:g.file?h(g.file):g.sources&&g.sources.length?h(g.sources[0].file):""}m=e,p=c.playerName?c.playerName:b.id}catch(f){a.log(f)}},onTime:function(){if(r){var a=b.getDuration();if(-1==a)return;q=g=r=!1,f("open: "+m+" : "+a+" : "+p),s.Media.open(m,a,p),f("play: "+m+" : 0"),s.Media.play(m,0)}if(a=b.getPosition(),3<=Math.abs(a-l)){var c=l;f("seek: "+c+" to "+a),f("stop: "+m+" : "+c),s.Media.stop(m,c),f("play: "+m+" : "+a),s.Media.play(m,a)}l=a},onComplete:j},g=!0,q=!0;a.foreach(n,function(a){b[a](n[a])})}}(jwplayer.embed),function(d){var a=[],k=d.utils,f=d.events,h=f.state,e=document,j=d.api=function(a){function c(a,b){return function(c){return b(a,c)}}function n(a,b){return r[a]||(r[a]=[],p(f.JWPLAYER_PLAYER_STATE,function(b){var c=b.newstate;if(b=b.oldstate,c==a){var d=r[c];if(d)for(var e=0;e<d.length;e++)"function"==typeof d[e]&&d[e].call(this,{oldstate:b,newstate:c})}})),r[a].push(b),g}function m(a,b){try{a.jwAddEventListener(b,'function(dat) { jwplayer("'+g.id+'").dispatchEvent("'+b+'", dat); }')}catch(c){k.log("Could not add internal listener")}}function p(a,b){return q[a]||(q[a]=[],t&&u&&m(t,a)),q[a].push(b),g}function l(){if(u){for(var a=arguments[0],b=[],c=1;c<arguments.length;c++)b.push(arguments[c]);if(void 0!==t&&"function"==typeof t[a])switch(b.length){case 4:return t[a](b[0],b[1],b[2],b[3]);case 3:return t[a](b[0],b[1],b[2]);case 2:return t[a](b[0],b[1]);case 1:return t[a](b[0]);default:return t[a]()}return null}v.push(arguments)}var g=this,q={},r={},t=void 0,u=!1,v=[],w=void 0,x={},B={};g.container=a,g.id=a.id,g.getBuffer=function(){return l("jwGetBuffer")},g.getContainer=function(){return g.container},g.addButton=function(a,b,c,d){try{B[d]=c,l("jwDockAddButton",a,b,"jwplayer('"+g.id+"').callback('"+d+"')",d)}catch(e){k.log("Could not add dock button"+e.message)}},g.removeButton=function(a){l("jwDockRemoveButton",a)},g.callback=function(a){B[a]&&B[a]()},g.forceState=function(a){return l("jwForceState",a),g},g.releaseState=function(){return l("jwReleaseState")},g.getDuration=function(){return l("jwGetDuration")},g.getFullscreen=function(){return l("jwGetFullscreen")},g.getHeight=function(){return l("jwGetHeight")},g.getLockState=function(){return l("jwGetLockState")},g.getMeta=function(){return g.getItemMeta()},g.getMute=function(){return l("jwGetMute")},g.getPlaylist=function(){var a=l("jwGetPlaylist");return"flash"==g.renderingMode&&k.deepReplaceKeyName(a,["__dot__","__spc__","__dsh__","__default__"],["."," ","-","default"]),a},g.getPlaylistItem=function(a){return k.exists(a)||(a=g.getPlaylistIndex()),g.getPlaylist()[a]},g.getPlaylistIndex=function(){return l("jwGetPlaylistIndex")},g.getPosition=function(){return l("jwGetPosition")},g.getRenderingMode=function(){return g.renderingMode},g.getState=function(){return l("jwGetState")},g.getVolume=function(){return l("jwGetVolume")},g.getWidth=function(){return l("jwGetWidth")},g.setFullscreen=function(a){return k.exists(a)?l("jwSetFullscreen",a):l("jwSetFullscreen",!l("jwGetFullscreen")),g},g.setMute=function(a){return k.exists(a)?l("jwSetMute",a):l("jwSetMute",!l("jwGetMute")),g},g.lock=function(){return g},g.unlock=function(){return g},g.load=function(a){return l("jwLoad",a),g},g.playlistItem=function(a){return l("jwPlaylistItem",parseInt(a)),g},g.playlistPrev=function(){return l("jwPlaylistPrev"),g},g.playlistNext=function(){return l("jwPlaylistNext"),g},g.resize=function(a,b){if("flash"!=g.renderingMode){var c=document.getElementById(g.id);c.className=c.className.replace(/\s+aspectMode/,""),c.style.display="block",l("jwResize",a,b)}else{var c=e.getElementById(g.id+"_wrapper"),d=e.getElementById(g.id+"_aspect");d&&(d.style.display="none"),c&&(c.style.display="block",c.style.width=k.styleDimension(a),c.style.height=k.styleDimension(b))}return g},g.play=function(a){return void 0===a?(a=g.getState(),l(a==h.PLAYING||a==h.BUFFERING?"jwPause":"jwPlay")):l("jwPlay",a),g},g.pause=function(a){return void 0===a?(a=g.getState(),l(a==h.PLAYING||a==h.BUFFERING?"jwPause":"jwPlay")):l("jwPause",a),g},g.stop=function(){return l("jwStop"),g},g.seek=function(a){return l("jwSeek",a),g},g.setVolume=function(a){return l("jwSetVolume",a),g},g.loadInstream=function(a,b){return w=new j.instream(this,t,a,b)},g.getQualityLevels=function(){return l("jwGetQualityLevels")},g.getCurrentQuality=function(){return l("jwGetCurrentQuality")},g.setCurrentQuality=function(a){l("jwSetCurrentQuality",a)},g.getCaptionsList=function(){return l("jwGetCaptionsList")},g.getCurrentCaptions=function(){return l("jwGetCurrentCaptions")},g.setCurrentCaptions=function(a){l("jwSetCurrentCaptions",a)},g.getControls=function(){return l("jwGetControls")},g.getSafeRegion=function(){return l("jwGetSafeRegion")},g.setControls=function(a){l("jwSetControls",a)},g.destroyPlayer=function(){l("jwPlayerDestroy")},g.playAd=function(a){l("jwPlayAd",a)};var y={onBufferChange:f.JWPLAYER_MEDIA_BUFFER,onBufferFull:f.JWPLAYER_MEDIA_BUFFER_FULL,onError:f.JWPLAYER_ERROR,onSetupError:f.JWPLAYER_SETUP_ERROR,onFullscreen:f.JWPLAYER_FULLSCREEN,onMeta:f.JWPLAYER_MEDIA_META,onMute:f.JWPLAYER_MEDIA_MUTE,onPlaylist:f.JWPLAYER_PLAYLIST_LOADED,onPlaylistItem:f.JWPLAYER_PLAYLIST_ITEM,onPlaylistComplete:f.JWPLAYER_PLAYLIST_COMPLETE,onReady:f.API_READY,onResize:f.JWPLAYER_RESIZE,onComplete:f.JWPLAYER_MEDIA_COMPLETE,onSeek:f.JWPLAYER_MEDIA_SEEK,onTime:f.JWPLAYER_MEDIA_TIME,onVolume:f.JWPLAYER_MEDIA_VOLUME,onBeforePlay:f.JWPLAYER_MEDIA_BEFOREPLAY,onBeforeComplete:f.JWPLAYER_MEDIA_BEFORECOMPLETE,onDisplayClick:f.JWPLAYER_DISPLAY_CLICK,onControls:f.JWPLAYER_CONTROLS,onQualityLevels:f.JWPLAYER_MEDIA_LEVELS,onQualityChange:f.JWPLAYER_MEDIA_LEVEL_CHANGED,onCaptionsList:f.JWPLAYER_CAPTIONS_LIST,onCaptionsChange:f.JWPLAYER_CAPTIONS_CHANGED,onAdError:f.JWPLAYER_AD_ERROR,onAdClick:f.JWPLAYER_AD_CLICK,onAdImpression:f.JWPLAYER_AD_IMPRESSION,onAdTime:f.JWPLAYER_AD_TIME,onAdComplete:f.JWPLAYER_AD_COMPLETE,onAdCompanions:f.JWPLAYER_AD_COMPANIONS};k.foreach(y,function(a){g[a]=c(y[a],p)});var z={onBuffer:h.BUFFERING,onPause:h.PAUSED,onPlay:h.PLAYING,onIdle:h.IDLE};return k.foreach(z,function(a){g[a]=c(z[a],n)}),g.remove=function(){if(!u)throw"Cannot call remove() before player is ready";v=[],j.destroyPlayer(this.id)},g.setup=function(a){if(d.embed){var b=e.getElementById(g.id);return b&&(a.fallbackDiv=b),b=g,v=[],j.destroyPlayer(b.id),b=d(g.id),b.config=a,new d.embed(b)}return g},g.registerPlugin=function(a,b,c,e){d.plugins.registerPlugin(a,b,c,e)},g.setPlayer=function(a,b){t=a,g.renderingMode=b},g.detachMedia=function(){if("html5"==g.renderingMode)return l("jwDetachMedia")},g.attachMedia=function(a){if("html5"==g.renderingMode)return l("jwAttachMedia",a)},g.dispatchEvent=function(a,b){if(q[a])for(var c=k.translateEventResponse(a,b),d=0;d<q[a].length;d++)if("function"==typeof q[a][d])try{a==f.JWPLAYER_PLAYLIST_LOADED&&k.deepReplaceKeyName(c.playlist,["__dot__","__spc__","__dsh__","__default__"],["."," ","-","default"]),q[a][d].call(this,c)}catch(e){k.log("There was an error calling back an event handler")}},g.dispatchInstreamEvent=function(a){w&&w.dispatchEvent(a,arguments)},g.callInternal=l,g.playerReady=function(a){for(u=!0,t||g.setPlayer(e.getElementById(a.id)),g.container=e.getElementById(g.id),k.foreach(q,function(a){m(t,a)}),p(f.JWPLAYER_PLAYLIST_ITEM,function(){x={}}),p(f.JWPLAYER_MEDIA_META,function(a){k.extend(x,a.metadata)}),g.dispatchEvent(f.API_READY);0<v.length;)l.apply(this,v.shift())},g.getItemMeta=function(){return x},g.isBeforePlay=function(){return t.jwIsBeforePlay()},g.isBeforeComplete=function(){return t.jwIsBeforeComplete()},g};j.selectPlayer=function(b){var c;return k.exists(b)||(b=0),b.nodeType?c=b:"string"==typeof b&&(c=e.getElementById(b)),c?(b=j.playerById(c.id))?b:j.addPlayer(new j(c)):"number"==typeof b?a[b]:null},j.playerById=function(b){for(var c=0;c<a.length;c++)if(a[c].id==b)return a[c];return null},j.addPlayer=function(b){for(var c=0;c<a.length;c++)if(a[c]==b)return b;return a.push(b),b},j.destroyPlayer=function(b){for(var d,c=-1,f=0;f<a.length;f++)a[f].id==b&&(c=f,d=a[f]);return 0<=c&&(b=d.id,f=e.getElementById(b+("flash"==d.renderingMode?"_wrapper":"")),k.clearCss&&k.clearCss("#"+b),f&&("html5"==d.renderingMode&&d.destroyPlayer(),d=e.createElement("div"),d.id=b,f.parentNode.replaceChild(d,f)),a.splice(c,1)),null},d.playerReady=function(a){var c=d.api.playerById(a.id);c?c.playerReady(a):d.api.selectPlayer(a.id).playerReady(a)}}(jwplayer),function(d){var a=d.events,k=d.utils,f=a.state;d.api.instream=function(d,e,j,b){function c(a,b){return l[a]||(l[a]=[],p.jwInstreamAddEventListener(a,'function(dat) { jwplayer("'+m.id+'").dispatchInstreamEvent("'+a+'", dat); }')),l[a].push(b),this}function n(b,d){return g[b]||(g[b]=[],c(a.JWPLAYER_PLAYER_STATE,function(a){var c=a.newstate,d=a.oldstate;if(c==b){var e=g[c];if(e)for(var f=0;f<e.length;f++)"function"==typeof e[f]&&e[f].call(this,{oldstate:d,newstate:c,type:a.type})}})),g[b].push(d),this}var m=d,p=e,l={},g={};this.dispatchEvent=function(a,b){if(l[a])for(var c=k.translateEventResponse(a,b[1]),d=0;d<l[a].length;d++)"function"==typeof l[a][d]&&l[a][d].call(this,c)},this.onError=function(b){return c(a.JWPLAYER_ERROR,b)},this.onFullscreen=function(b){return c(a.JWPLAYER_FULLSCREEN,b)},this.onMeta=function(b){return c(a.JWPLAYER_MEDIA_META,b)},this.onMute=function(b){return c(a.JWPLAYER_MEDIA_MUTE,b)},this.onComplete=function(b){return c(a.JWPLAYER_MEDIA_COMPLETE,b)},this.onTime=function(b){return c(a.JWPLAYER_MEDIA_TIME,b)},this.onBuffer=function(a){return n(f.BUFFERING,a)},this.onPause=function(a){return n(f.PAUSED,a)},this.onPlay=function(a){return n(f.PLAYING,a)},this.onIdle=function(a){return n(f.IDLE,a)},this.onClick=function(b){return c(a.JWPLAYER_INSTREAM_CLICK,b)},this.onInstreamDestroyed=function(b){return c(a.JWPLAYER_INSTREAM_DESTROYED,b)},this.play=function(a){p.jwInstreamPlay(a)},this.pause=function(a){p.jwInstreamPause(a)},this.destroy=function(){p.jwInstreamDestroy()},this.setText=function(a){p.jwInstreamSetText(a||"")},m.callInternal("jwLoadInstream",j,b||{})}}(jwplayer),function(d){var a=d.api,k=a.selectPlayer;a.selectPlayer=function(a){return(a=k(a))?a:{registerPlugin:function(a,e,f){d.plugins.registerPlugin(a,e,f)}}}}(jwplayer))},75:function(module,exports,__webpack_require__){(function($){$(document).ready(function(){jwplayer.key="44sLsgDtmT2y5hgCwa5owlxgJXsLoH96JFOjVIqS0PE="})}).call(exports,__webpack_require__(4))},76:function(module,exports,__webpack_require__){(function($){!0===window.isAndroidMobileApplication()&&(window.open=window.location.replace),$(document).ready(function(){$(document).on("click","a[class*=clickthrough-], img[class*=clickthrough-]",function(e){var currentElement=$(this),clickThroughData=currentElement.data("clickthrough");if(void 0===clickThroughData){var clickThroughClass=currentElement.attr("class"),matchClickThroughType=clickThroughClass.match(/(clickthrough-[A-Za-z0-9]+)/g);if(null==matchClickThroughType)return e.stopImmediatePropagation(),!1;var clickThroughType=matchClickThroughType[0].replace("clickthrough-","");if("undefined"===GlobalJsVar_dataClickThrough[clickThroughType])return!1;clickThroughData=GlobalJsVar_dataClickThrough[clickThroughType],clickThroughData.sourceID=HeadGlobalJsVar_sourceId,clickThroughData.sourceType=HeadGlobalJsVar_sourceType,clickThroughData=window.ve.updateClickthroughObject(clickThroughData,currentElement)}return clickThroughData.link&&void 0!==clickThroughData.link?window.open(clickThroughData.link):window.open(currentElement.attr("href")),window.trackEvent(clickThroughData.origin,clickThroughData.trackEventName,"Go To Exhibitor Area"),window.submitClickThrough(clickThroughData),e.stopImmediatePropagation(),!1})}),window.submitClickThrough=function(clickThroughData){var jsonDataClone=JSON.parse(JSON.stringify(clickThroughData));delete jsonDataClone.link;var localParameter="";"com"===ve.currentTld&&"en"!==ve.language&&(localParameter="/"+ve.language),delete jsonDataClone.link,delete jsonDataClone.trackEventName,delete jsonDataClone.action,delete jsonDataClone.origin,delete jsonDataClone.sourceID,delete jsonDataClone.sourceType,void 0===jsonDataClone.elementTypeId&&void 0!==jsonDataClone.elementType&&(jsonDataClone.elementTypeId=jsonDataClone.elementType,delete jsonDataClone.elementType),$.ajax({url:localParameter+window.ve.clickthroughLink,type:"POST",data:JSON.stringify(jsonDataClone),contentType:"application/json; charset=UTF-8",crossDomain:!1,dataType:"json",async:!0,success:function(data){},error:function(data){}})},window.ve.updateClickthroughObject=function(clickthroughObject,currentElement){var currentElementId=currentElement.attr("id");if(void 0!==currentElementId){var arrIdElement=currentElementId.split("_"),arrClickthroughId=arrIdElement[1].split("-");clickthroughObject.elementId==arrClickthroughId[0]&&clickthroughObject.companyId==arrClickthroughId[1]||(clickthroughObject.elementId=parseInt(arrClickthroughId[0]),clickthroughObject.companyId=parseInt(arrClickthroughId[1]),clickthroughObject.link=currentElement.attr("href"))}return clickthroughObject}}).call(exports,__webpack_require__(4))},77:function(module,exports,__webpack_require__){(function($){$(document).ready(function(){function isGlobalVarsExist(){return"string"==typeof HeadGlobalJsVar_myDomain&&("string"==typeof HeadGlobalJsVar_videoCorporate&&"string"==typeof HeadGlobalJsVar_corporateVideoTrackingTitle)}function replaceVideoCorporateViewer(){$(".viewer-video-corporate-container").css({
top:($(window).height()-$(".viewer-video-corporate-container").actual("height"))/2+$(window).scrollTop(),left:($(window).width()-$(".viewer-video-corporate-container").actual("width"))/2+$(window).scrollLeft()}),$(".overlay-video-corporate").css({height:$(document).actual("height"),width:$(document).actual("width")})}function closeVideoCorporateViewer(){$(".viewer-video-corporate-container").hide(),$(".overlay-video-corporate").unbind("click"),$(".viewer-video-corporate-close").unbind("click"),jwplayer("viewer-video-corporate").stop(),$(window).unbind("keydown"),$(window).unbind("resize"),$(window).unbind("scroll",standHeaderScrollHandler),$(".overlay-video-corporate").css("display","none")}var $headerElement=$(".stand-header").first();if(0!==$headerElement.length){if($(".btn-nav-mobile").on("blur",function(e){$(".stand-header-nav").removeClass("expanded")}),$(".stand-header-nav").mousedown(function(e){e.preventDefault()}),window.isTablette()||!1===window.isMobileDevice()){(new window.FloatableMenu).render($headerElement,{resizeParent:!1})}!0===isGlobalVarsExist()&&(window.isMobileDevice()?$(".video-corporate").on("click",function(){if($(".viewer-video-corporate-container").length<=0){var video="";if("undefined"!=typeof HeadGlobalJsVar_videoCorporate360&&""!==HeadGlobalJsVar_videoCorporate360?video=window.ve.decryptUrl(HeadGlobalJsVar_videoCorporate360):"undefined"!=typeof HeadGlobalJsVar_videoCorporate&&""!==HeadGlobalJsVar_videoCorporate&&(video=window.ve.decryptUrl(HeadGlobalJsVar_videoCorporate)),""!==video)if(!0===window.isAndroidMobileApplication()){var pageUrl=window.location.href.replace(window.location.hash,"");window.location.replace(pageUrl+"#"+video)}else window.location.href=video}}):$(".video-corporate").on("click",function(){if($(".viewer-video-corporate-container").length<=0){$("body").append('<div class="viewer-video-corporate-container" style="display:none;">\n\t                                                        <a href="#" class="viewer-video-corporate-close"></a>\n\t                                                        <div id="viewer-video-corporate" class="viewer-video-corporate-content">\n\t                                                            Loading video player ...\n\t                                                        </div>\n\t                                                    </div>\n\t                                                    <div class="overlay-video-corporate" style="display:none;"></div>')}var jwplayerParams={html5player:"https://video."+HeadGlobalJsVar_myDomain+"/media/ps/js/lib/jwplayer/jwplayer.html5.js",flashplayer:"https://video."+HeadGlobalJsVar_myDomain+"/media/ps/js/lib/jwplayer/jwplayer.flash.swf",autostart:!0,ga:{idstring:HeadGlobalJsVar_corporateVideoTrackingTitle}};"undefined"!=typeof HeadGlobalJsVar_videoCorporate360&&""!==HeadGlobalJsVar_videoCorporate360?(jwplayerParams.playlist=[{sources:[{file:window.ve.decryptUrl(HeadGlobalJsVar_videoCorporate),label:"480p"},{file:window.ve.decryptUrl(HeadGlobalJsVar_videoCorporate360),label:"360p",default:"true"}]}],jwplayerParams.height=360,jwplayerParams.width=640):"undefined"!=typeof HeadGlobalJsVar_videoCorporate360&&""!==HeadGlobalJsVar_videoCorporate360?(jwplayerParams.playlist=[{sources:[{file:window.ve.decryptUrl(HeadGlobalJsVar_videoCorporate360),label:"360p"},{file:window.ve.decryptUrl(HeadGlobalJsVar_videoCorporate),label:"480p",default:"true"}]}],jwplayerParams.height=480,jwplayerParams.width=854):(jwplayerParams.file=window.ve.decryptUrl(HeadGlobalJsVar_videoCorporate),jwplayerParams.height=480,jwplayerParams.width=854),jwplayer("viewer-video-corporate").setup(jwplayerParams),$(".overlay-video-corporate").css({display:"block",height:$(document).actual("height"),width:$(document).actual("width")}),$(".viewer-video-corporate-container").show(),replaceVideoCorporateViewer(),$(".overlay-video-corporate").click(function(){return closeVideoCorporateViewer(),!1}),standHeaderScrollHandler=function(){return replaceVideoCorporateViewer(),!1},$(window).bind("scroll",standHeaderScrollHandler),$(window).resize(function(){return replaceVideoCorporateViewer(),!1}),$(".viewer-video-corporate-close").click(function(){return closeVideoCorporateViewer(),!1}),$(window).keydown(function(event){return 27==event.keyCode&&closeVideoCorporateViewer(),!1})})),$(".stand-header-logo").hover(function(){var bottomValue=-$(".stand-title-infos").height()-$(".stand-title-infos").css("padding-top").replace("px","");$(".stand-title-infos").css("bottom",bottomValue),$(".stand-title-infos").show()}),$(".stand-header-logo").bind("mouseleave",function(){$(".stand-title-infos").hide()})}})}).call(exports,__webpack_require__(4))},78:function(module,exports,__webpack_require__){(function($){$(document).ready(function(){$(".related-links-additionals").click(function(e){var target=e.currentTarget||e.srcElement;$(target).hide(),$("#related-links-additionals").show()})})}).call(exports,__webpack_require__(4))},79:function(module,exports){window.ve.request=window.ve.request||{},function(window){"use strict";window.ve.request.helper=window.ve.request.helper||{};var trackingHelper=function(){};trackingHelper.prototype.getRequestTypeFromRequest=function(requestType,requestButtonLayout){var requestTypeValue=null;switch(requestType){case"DOC":requestTypeValue="Doc";break;case"QUESTION":requestTypeValue="Question";break;case"QUOTE":requestTypeValue="Devis";break;case"NO_SUPPLIER":requestTypeValue="_NoSupplier";break;default:requestTypeValue="Contact"}return"SMALL"===requestButtonLayout&&(requestTypeValue+="Small"),"Request"+requestTypeValue},trackingHelper.prototype.getSourceTypeFromRequest=function(requestSourceType,requestButtonLayout){var sourceTypeValue=null;if("SMALL"===requestButtonLayout&&"PRODUCT"===requestSourceType)sourceTypeValue="TR Produits";else switch(requestSourceType){case"PRODUCT":sourceTypeValue="Produit";break;case"CATALOG":sourceTypeValue="PDF";break;case"PROJECT":sourceTypeValue="Project";break;case"TREND":sourceTypeValue="Trend"}return sourceTypeValue},window.ve.request.helper.tracking=trackingHelper}(window)},80:function(module,exports,__webpack_require__){!function(product,ve){"use strict";ve.application.module("productModule",[],ve.TEMPLATE.TEMPLATE_RACTIVEJS,{},{i18n:!0})}(window.product=window.product||{},ve),__webpack_require__(81),__webpack_require__(82),__webpack_require__(83),__webpack_require__(84),__webpack_require__(85)},81:function(module,exports,__webpack_require__){var LazyLoading=__webpack_require__(21),Notification=__webpack_require__(8);ve.application.productModule.bootstrap("productModuleBootstrap",[],function(){this.catalog={relatedProductsTitle:"foj_productpage_related_products_title",moreRelatedProductsLinkTitle:"foj_request_related_products_link",grabberFullMessage:"foj_comparator_grabber_full_message"},this.lazyLoading=new LazyLoading,this.notification=new Notification(!1,null,3e3),ve.application.injector.setValue("lazyLoading",this.lazyLoading),ve.application.injector.setValue("notification",this.notification),ve.application.injector.setValue("relatedProductsUrl","/ajax/kwrefsearch/product/{kwrefId}/{companyId}/stand.json")})},82:function(module,exports){ve.application.productModule.model("productModuleModel",[],function(){this.relatedProducts={}})},83:function(module,exports,__webpack_require__){(function($){ve.application.productModule.service("productModuleService",["dispatcher","productModuleModel","relatedProductsUrl"],function(dispatcher,productModuleModel,relatedProductsUrl){this.getRelatedProducts=function(kwrefId,companyId,productLimit){if(0!==$("#related-products:visible").length){var url=relatedProductsUrl.replace("{kwrefId}",kwrefId).replace("{companyId}",companyId);this.adaptor.ajax({type:"GET",url:url}).then(function(data){productModuleModel.relatedProducts=data.content,dispatcher.dispatch("RENDER_RELATED_PRODUCTS_SUCCESS")},function(errorObject){dispatcher.dispatch("RENDER_RELATED_PRODUCTS_ERROR",{name:errorObject.name,jqXHR:errorObject.jqXHR,textStatus:errorObject.textStatus,errorThrown:errorObject.errorThrown})})}},this.trackRelatedProducts=function(){var trackingEvents=ve.application.injector.getValue("trackingEvents"),mongoTrackingUrl=ve.application.injector.getValue("mongoTrackingUrl"),placementId=$("#related-products").attr("data-placement"),trackingData={pageTypeId:window.ve.getPageTypeId(),elementList:[]};$.each(productModuleModel.relatedProducts.products,function(index,relatedProduct){trackingData.elementList.push({elementTypeId:trackingEvents.ELEMENT_TYPE.product,elementId:relatedProduct.id,companyId:relatedProduct.company.id,displayMode:trackingEvents.DISPLAY_MODE.THUMBNAILS,placementId:placementId})}),dispatcher.dispatch(trackingEvents.TRACK_VIEW_MONGO_DB,{url:mongoTrackingUrl.list,data:JSON.stringify(trackingData)})}},ve.ADAPTOR.REST)}).call(exports,__webpack_require__(4))},84:function(module,exports){ve.application.productModule.controller("productModuleController",["productModuleService"],function(productModuleService){this.commands={RENDER_RELATED_PRODUCTS:function(event){productModuleService.getRelatedProducts(event.params.kwrefId,event.params.companyId,event.params.productLimit)},TRACK_RELATED_PRODUCTS:function(){productModuleService.trackRelatedProducts()}}})},85:function(module,exports,__webpack_require__){(function($){ve.application.productModule.template("productModuleTemplate",["dispatcher","productModuleModel","trackingEvents","lazyLoading","notification"],function(dispatcher,productModuleModel,trackingEvents,lazyLoading,notification){function _renderRelatedProducts(){var $relatedProducts=$("#related-products"),$insetImg=$relatedProducts.find(".inset-img");$insetImg.each(function(){$(this).css("height",$(this).css("width"))}),_crop($insetImg.find("img")),$relatedProducts.css("height","auto")}function _crop($images){$images.length&&$images.each(function(){var tmpImage=new Image;tmpImage.src=$(this).attr("src"),$(tmpImage).data("original",this),$(tmpImage).load(function(){var imageWidth=this.width,imageHeight=this.height,originalImage=$($(this).data("original"));imageWidth>imageHeight?originalImage.addClass("crop-width"):originalImage.addClass("crop-height")})})}var relatedProducts=productModuleModel.relatedProducts,notif=notification,self=this;this.node="#related-products",this.companyId=$(this.node).data("companyid"),this.kwRefId=$(this.node).data("kwrefid"),this.linesCount=$(this.node).data("linescount"),this.scope={relatedProducts:relatedProducts||"",utmTrackingParameters:"utm_source=ProductDetail&utm_medium=Web&utm_content=SimilarProduct&utm_campaign=CA"},this.events={slide:function(targetSelector){return self.engine.plugins.slide.slideToggle(this.event.node,targetSelector),!1}},_addToGrabberListener=function(){$(document).on("click",".add-grabber-button.switch-on-off",function(e){e.stopPropagation();var $el=$(e.currentTarget),productId=$el.attr("data-entity-id"),productImageUri=$el.attr("data-entity-imgUrl"),productDef=$el.attr("data-entity-name");$el.hasClass("grabbed")?removeFromGrabber(productId):countProductInGrabber()>=10?notif.error({translation:self.i18n.__("grabberFullMessage")}):addToGrabber(productId,productImageUri,productDef)}),window.isMobileDevice()||($(document).on("hover",".add-grabber-button.switch-on-off",function(e){e.stopPropagation(),$(".grabber-button_infos").css("top",38),$(".grabber-button_infos").show()}),$(document).on("mouseleave",".add-grabber-button.switch-on-off",function(){$(".grabber-button_infos").hide()}))},_addToGrabberListener(),this.when({name:"oncomplete",callback:function(){this.i18n.promise.then(function(){self.engine.set("relatedProductsTitle",self.i18n.__("relatedProductsTitle")),self.engine.set("moreRelatedProductsLinkTitle",self.i18n.__("moreRelatedProductsLinkTitle"))}),lazyLoading.initialize()}.bind(this)}),this.trackRelatedProducts=function(){dispatcher.dispatch("TRACK_RELATED_PRODUCTS")},dispatcher.dispatch("RENDER_RELATED_PRODUCTS",{kwrefId:self.kwRefId,companyId:self.companyId,productLimit:5*self.linesCount}),dispatcher.addEventListener("RENDER_RELATED_PRODUCTS_SUCCESS",function(event){if(self.engine.set("relatedProducts",productModuleModel.relatedProducts),0===productModuleModel.relatedProducts.products.length)return void $("#related-products").hide();_renderRelatedProducts(),$(window).resize(function(){_renderRelatedProducts()}),!0===HeadGlobalJsVar_statcoReady?self.trackRelatedProducts():$("#eventStatco").bind(HeadGlobalJsVar_statcoReadyEvent,self.trackRelatedProducts)})})}).call(exports,__webpack_require__(4))},229:function(module,exports,__webpack_require__){(function($){window.ve.changeUrl=function($element){if(window.history.pushState&&"true"!==$element.attr("fromHistory")){var object={catalogPage:$element.data("page")},url=$element.data("url"),title=$element.data("title");window.history.pushState(object,title,url)}$element.attr("fromHistory",!1)},window.ve.getUrlImageCatalog=function(page,imageSize){return catalogFirstImageUrl.replace("_1.jpg","_"+page+imageSize+".jpg")},window.ve.openCatalogDetail=function(catalogId,companyId,placementId,displayMode,redirectUrl){var dispatcher=ve.application.dispatcher,trackingEvents=ve.application.injector.getValue("trackingEvents"),mongoTrackingUrl=ve.application.injector.getValue("mongoTrackingUrl");dispatcher.dispatch(trackingEvents.TRACK_CLICK_MONGO_DB,{url:mongoTrackingUrl.clickNatural,redirectUrl:redirectUrl,pageTypeId:window.ve.getPageTypeId(),placementId:placementId,displayMode:displayMode,elementTypeId:trackingEvents.ELEMENT_TYPE.pdf,elementId:catalogId,companyId:companyId})},window.ve.currentPageImage=catalogCurrentPage,window.ve.inSearchMode=!1,window.ve.currentSearch="",window.ve.currentSearchLanguague=window.ve.language,$(document).ready(function(){function replaceMainImg(){$("#catalogue-preview-photo a img").imagesLoaded(function($images,$proper,$broken){$(".book-bkg").addClass("book-bkg-padding-"+pageBookEffectNb),$(".corner").addClass("corner-"+pageBookEffectNb),$(".corner-page").addClass("corner-page-"+pageBookEffectNb)})}var pageBookEffectNb=0;10<=catalogTotalPage&&50>catalogTotalPage?pageBookEffectNb=7:50<=catalogTotalPage&&500>catalogTotalPage?pageBookEffectNb=15:500<=catalogTotalPage&&(pageBookEffectNb=21),1==window.ve.currentPageImage&&$(".catalogue-preview-page").prepend('<span id="current-catalog-page">1</span> / '),$(".catalog-image-container").live("click",function(){var $element=$(this),newPageImage=$element.data("page")||0;if($("#current-catalog-page").html(newPageImage),window.ve.changeUrl($element),window.ve.currentPageImage!=newPageImage){window.trackEvent("PDF","ClickCarouselThumbnail","SeeBigThumbnail"),window.ve.currentPageImage=newPageImage,$("#catalogue-preview-photo a span").addClass("main-image-loading");var newImageUrl=$element.find("img").attr("src").replace("m.jpg","mg.jpg");$(".book-bkg").find("img").attr("src",newImageUrl).attr("alt",catalogTitle),$("#catalogue-preview-photo .book-bkg").css("display","none"),$("#catalogue-preview-photo a").imagesLoaded(function($images,$proper,$broken){replaceMainImg(),$("#catalogue-preview-photo a span").removeClass("main-image-loading"),$("#catalogue-preview-photo .book-bkg").fadeIn()}),$("#catalogue-preview-description").fadeOut()}var adblockuser=getCookie("adblockuser"),scroll=100;return"1"!==adblockuser&&(scroll=400),$(window).scrollTop(scroll),window.ve.showCatalogViewer(),!1}),replaceMainImg(),$(".icon-zoom-stand").click(function(e){return window.trackEvent("PDF","ZoomPage","ZoomPage"),window.ve.showCatalogViewer(),!1});var indexSearchAnchor=window.location.hash.indexOf("#search");"-1"!=indexSearchAnchor&&(window.ve.inSearchMode=!0,window.ve.currentSearch=decodeURI(window.location.hash.substr(indexSearchAnchor).replace(/#search-\w{2}-/,"").replace(/-/g," ")),language=window.location.hash.substr(indexSearchAnchor).match(/#search-(\w{2})-\w*/),null!==language&&2===language.length&&(window.ve.currentSearchLanguague=language[1]),window.trackEvent("PDF","ZoomPage","ZoomPage"),window.ve.showCatalogViewer());var openAnchor=window.location.hash.indexOf("#open");if("-1"!=openAnchor){var search=decodeURI(window.location.hash.substr(openAnchor).replace(/#open/,"").match(/\d*/));null!==search&&(window.ve.inSearchMode=!0,window.ve.currentSearch="productId"+search),window.trackEvent("PDF","ZoomPage","ZoomPage"),window.ve.showCatalogViewer()}$("ol.catalogue-preview-others li").each(function(){var selectorLi=$(this);selectorLi.find("div.detail-image-link img").imagesLoaded(function($images,$proper,$broken){var newWidth=selectorLi.actual("width")-selectorLi.find("div.detail-image-link img").outerWidth(!0);selectorLi.find("div.detail-image-content a").width(newWidth)})});var $pdfRequestButtonsContainer=$("#pdf-request-buttons-container"),requestDatas=$pdfRequestButtonsContainer.data("request");new window.ve.request.application($pdfRequestButtonsContainer[0],requestDatas),window.MySpace.api.addBookmarkListener();var trackViewProduct=setInterval(function(){var mongoTrackingUrl=ve.application.injector.getValue("mongoTrackingUrl"),dispatcher=ve.application.dispatcher,trackingEvents=ve.application.injector.getValue("trackingEvents");if(null!==trackingEvents&&void 0!==trackingEvents){clearInterval(trackViewProduct),productList={};var dataTracking=$(".productInfo").attr("data-product");void 0!==dataTracking&&dataTracking.length>0&&(productList=JSON.parse(dataTracking).elementList,dispatcher.dispatch(trackingEvents.TRACK_VIEW_MONGO_DB,{url:mongoTrackingUrl.list,data:dataTracking}))}},500);$(".js-catalog-extract").bind("click",function(){var $element=$(this),currentPage=$element.data("page");$("#thumbnail-page-"+currentPage).click(),window.trackEvent("PDF","OpenViewer","TextLink")}),window.addEventListener("popstate",function(event){var data=event.state,catalogPage=catalogCurrentPage,showViewer=!1;"block"===$("#catalog-overlay").css("display")&&(showViewer=!0),null!==data&&(catalogPage=data.catalogPage),$("#thumbnail-page-"+catalogPage).attr("fromHistory",!0).click(),!0===showViewer&&window.ve.showCatalogViewer()})})}).call(exports,__webpack_require__(4))},230:function(module,exports,__webpack_require__){(function($){window.ve.htmlViewerTemplate='\t    <div id="catalog-overlay">\n\t        <div id="catalogue-details">\n\t            <div id="catalogue-details-action">\n\t                <a href="#" class="details-action home" title="'+catalogPageTranslationArray.viewerHomeLabel+'"></a>\n\t                <div class="details-action-pagination" title="'+catalogPageTranslationArray.viewerPageDisrectAccessLabel+'">\n\t                        <input class="pagination-field" type="text" name="" value="1" />\n\t                        <span id="total-viewer-page"></span>\n\t                </div>\n\t                <a href="#" class="details-action print" title="'+catalogPageTranslationArray.viewerPrintLabel+'"></a>\n\t                <div id="add-to-bookmark" class="catalog-viewer-bookmark" data-entity-type="'+catalogPageBookmarkEntityType+'"><span class="icon starsmall-white"></span>'+catalogPageTranslationArray.addBookmarkLabel+'</div>\n\t            </div>\n\t            <div class="details-action-search" title="'+catalogPageTranslationArray.viewerTooltipSearchLabel+'">\n\t                <form>\n\t                    <input class="search-field" type="text" name="" value="'+catalogPageTranslationArray.viewerSearchLabel+'" /><input class="search-submit" type="submit" name="" value="" />\n\t                </form>\n\t                <img class="filter-reset" src="'+filterResetUrlImage+'" alt="reset" />\n\t            </div>\n\t            <div class="details-action-close" title="'+catalogPageTranslationArray.viewerCloseLabel+'"></div>\n\t            <div id="catalogue-details-zoom" class="viewer-content-zoom"></div>\n\t            <div id="catalogue-details-photo"></div>\n\t            <a class="catalogue-photo-prev" href="#"></a>\n\t            <a class="catalogue-photo-next" href="#"></a>\n\t            <div id="footer-visio">\n\t                <div id="footer-visio-content">\n\t                    <a class="catalogue-thumbs-prev" href="#"></a>\n\t                    <div id="thumbnail-list">\n\t                        <ol id="catalogue-details-thumbs"></ol>\n\t                    </div>\n\t                    <a class="catalogue-thumbs-next" href="#"></a>\n\t                </div>\n\t            </div>\n\t        </div>\n\t    </div>\n\t    ',window.ve.htmlloadingViewerTemplate='\t    <div id="catalog-overlay">\n\t        <div id="viewer-loading"></div>\n\t    </div>\n\t    ',window.ve.catalogViewerInitiliazed=!1,window.ve.catalogViewerEnabled=!1,window.ve.dataPage={},window.ve.dataPageFull=[],window.ve.tooltipSearchResultMessage="",window.ve.buildDataPage=function(datas){for(var dataPages={},i=0;i<datas.length;i++){var pages=[],page=datas[i].page;for(var j in page)pages.push(page[j].numPage);dataPages[i+1]=pages}return dataPages},window.ve.findPageId=function(pageNumber){for(var i in ve.dataPageFull)for(var j in ve.dataPageFull[i].page){var page=ve.dataPageFull[i].page[j];if(pageNumber===page.numPage)return page.id}return null},window.ve.closeCatalogViewer=function(){if(1==window.ve.catalogViewerInitiliazed){window.ve.catalogViewerEnabled=!1;var anchor=window.location.hash;switch(anchor.startsWith("#open")&&(anchor="#open"),anchor){case"#open":window.history.back(),$("#catalog-overlay").hide();break;default:!0===window.ve.inSearchMode&&(window.ve.currentPageImage=window.ve.oldCurrentPageImage,window.ve.inSearchMode=!1),$("#catalog-overlay").hide()}}},window.ve.viewerContentOnLoad=!1,window.ve.enableCaroussel=!1;window.ve.pageInVisio=Array,window.ve.imagesPaginationLoaded=Array,window.ve.oldCurrentPageImage=0,window.ve.searchEnable=!1,window.ve.isTouchDevice=window.isMobileDevice(),window.ve.showCatalogViewer=function(){var nbPagePerDisplay=2;!0===window.ve.isTouchDevice&&(nbPagePerDisplay=1),window.ve.catalogViewerEnabled=!0,1==window.ve.catalogViewerInitiliazed?$("#catalog-overlay").show(0,function(e){$("#catalog-overlay").trigger("onShow",window.ve.currentPageImage)}):0==window.ve.viewerContentOnLoad&&($("body").append(window.ve.htmlloadingViewerTemplate),window.ve.viewerContentOnLoad=!0,$.ajax({type:"GET",url:ajaxViewerContentUrl,timeout:3e3,dataType:"json",data:"nbPagePerDisplay="+nbPagePerDisplay,success:function(jsonData){window.ve.dataPage=window.ve.buildDataPage(jsonData.content),window.ve.dataPageFull=jsonData.content,window.ve.catalogViewerInitiliazed=!0,window.ve.oldCurrentPageImage=window.ve.currentPageImage,$("#catalog-overlay").remove(),window.ve.initViewer()},error:function(jqXHR,textStatus,errorThrown){$("#catalog-overlay").remove(),window.ve.catalogViewerEnabled=!1,window.ve.viewerContentOnLoad=!1}}))},window.ve.initViewer=function(){function activateZoom(idDisplayPage){$("#catalogue-details-zoom").addClass("zoom"),$("#catalogue-details-photo div.pagevisio-"+idDisplayPage).addClass("zoom");var marginTop=$("#catalogue-details-photo div.pagevisio-"+idDisplayPage+" img").first().css("margin-top"),marginLeft=$("#catalogue-details-photo div.pagevisio-"+idDisplayPage+" img").first().css("margin-left"),imgMargin=marginTop+"px 0 0 "+marginLeft+"px";$("#catalogue-details-photo div.pagevisio-"+idDisplayPage).gzoom({sW:$("#catalogue-details-photo div.pagevisio-"+idDisplayPage).width(),sH:$("#catalogue-details-photo div.pagevisio-"+idDisplayPage).height(),iW:$("#catalogue-details-photo div.pagevisio-"+idDisplayPage+" img").first().actual("width"),iH:$("#catalogue-details-photo div.pagevisio-"+idDisplayPage+" img").actual("height"),margin:imgMargin,bottomMargin:130,movediv:"catalogue-details-zoom",gaTrackEnable:!0,gaTrackCategory:"PDF",gaTrackAction:"ZoomImage",gaTrackLabel:"ZoomZoom",unZoomMethodCallback:resizeViewer,currentPageInViewer:currentPage}),$("#catalogue-details-photo div.pagevisio-"+idDisplayPage+" img").addClass("inhibite-max-dims")}function resetZoom(idDisplayPage){$("#catalogue-details-zoom").removeClass("hand").removeClass("zoom"),$("#catalogue-details-photo div.pagevisio-"+idDisplayPage).removeClass("hand").removeClass("zoom"),$("#catalogue-details-zoom").unbind("mousemove"),$("#catalogue-details-zoom").unbind("touchmove"),$("#catalogue-details-zoom").unbind("click"),$("#catalogue-details-photo div.pagevisio-"+idDisplayPage).unbind("click")}function goNext(){var page=parseInt(currentPage)+1;if(window.ve.inSearchMode)for(var i=page;i<=totalVisioPage;i++)if(!$("a.pagevisio-"+i).parent().hasClass("grayedOut")){page=i;break}page>totalVisioPage||moveImg(page)}function goPrevious(){var page=parseInt(currentPage)-1;if(window.ve.inSearchMode)for(var i=page;i>0;i--)if(!$("a.pagevisio-"+i).parent().hasClass("grayedOut")){page=i;break}page<1||moveImg(page)}function moveImg(idNewPage){if(parseInt(idNewPage)>0){flagNoSpam="enable",1==idNewPage?$(".catalogue-photo-prev").hide():$(".catalogue-photo-prev").show(),idNewPage>=totalVisioPage?$(".catalogue-photo-next").hide():$(".catalogue-photo-next").show(),resetZoom(currentPage),resetZoom(idNewPage),updateIndexPage(idNewPage),idPage=parseInt(idNewPage),0==currentPage&&(currentPage=idPage),loadedMove(idPage);var previousIdPage=parseInt(idPage)-1,nextIdPage=parseInt(idPage)+1,divContentSelector=$("#catalogue-details-photo div.pagevisio-"+idPage);if(0==divContentSelector.html().length)for(var i in window.ve.dataPage[currentPage])window.ve.dataPage[currentPage].hasOwnProperty(i)&&$("#catalogue-details-photo div.pagevisio-"+currentPage).append('<img src="'+window.ve.getUrlImageCatalog(window.ve.dataPage[currentPage][i],"b")+'" alt="'+catalogTitle+'" />');if(0!=previousIdPage&&0==$("#catalogue-details-photo div.pagevisio-"+previousIdPage).html().length)for(var i in window.ve.dataPage[previousIdPage])window.ve.dataPage[previousIdPage].hasOwnProperty(i)&&$("#catalogue-details-photo div.pagevisio-"+previousIdPage).append('<img src="'+window.ve.getUrlImageCatalog(window.ve.dataPage[previousIdPage][i],"b")+'" alt="'+catalogTitle+'" />');if(totalVisioPage>=nextIdPage&&0==$("#catalogue-details-photo div.pagevisio-"+nextIdPage).html().length)for(var i in window.ve.dataPage[nextIdPage])window.ve.dataPage[nextIdPage].hasOwnProperty(i)&&$("#catalogue-details-photo div.pagevisio-"+nextIdPage).append('<img src="'+window.ve.getUrlImageCatalog(window.ve.dataPage[nextIdPage][i],"b")+'" alt="'+catalogTitle+'" />');var divImgContentSelector=$("#catalogue-details-photo div.pagevisio-"+idPage+" img");2==window.ve.dataPage[currentPage].length&&divImgContentSelector.addClass("doubled"),divImgContentSelector.first().css("visibility","none"),divContentSelector.first().addClass("loading"),divContentSelector.children().hide(),divContentSelector.imagesLoaded(function($images,$proper,$broken){var totalContentWidth=0,totalContentHeight=0;divImgContentSelector.each(function(){totalContentWidth+=$(this).actual("width"),totalContentHeight<$(this).actual("height")&&(totalContentHeight=$(this).actual("height"))});var newHeigth=($("#catalogue-details-photo").actual("height")-totalContentHeight)/2;0>newHeigth&&(newHeigth=0),divImgContentSelector.first().css("visibility","visible"),0!=divImgContentSelector.next().length&&divImgContentSelector.next().css("visibility","visible"),divContentSelector.first().removeClass("loading"),divContentSelector.children().show(),responsiveViewer(idPage)})}}function loadedMove(idNewPage){if(idNewPage=parseInt(idNewPage),currentPage<idNewPage){$("#catalogue-details-photo div.pagevisio-"+idNewPage).css("left",-$("#catalogue-details-photo").actual("width")),$("#catalogue-details-photo div.pagevisio-"+idNewPage).css("display","block");var fn=function(){$("#catalogue-details-photo div.pagevisio-"+currentPage).animate({left:0},0).animate({left:-$("#catalogue-details-photo").actual("width"),avoidTransforms:!1},vitesseSlide,function(){$(this).css("display","none"),flagNoSpam="none"})};$("#catalogue-details-photo div.pagevisio-"+idNewPage).animate({left:$("#catalogue-details-photo").actual("width")},0).css("display","block").animate({left:0,avoidTransforms:!1},vitesseSlide,null),0!=currentPage&&fn()}else if(currentPage>idNewPage){$("#catalogue-details-photo div.pagevisio-"+idNewPage).css("left",$("#catalogue-details-photo").actual("width")),$("#catalogue-details-photo div.pagevisio-"+idNewPage).css("display","block");var fn2=function(){$("#catalogue-details-photo div.pagevisio-"+currentPage).animate({left:0},0).animate({left:$("#catalogue-details-photo").actual("width"),avoidTransforms:!1},vitesseSlide,function(){$(this).css("display","none"),flagNoSpam="none"})};$("#catalogue-details-photo div.pagevisio-"+idNewPage).animate({left:-$("#catalogue-details-photo").actual("width")},0).css("display","block").animate({left:0,avoidTransforms:!1},vitesseSlide,null),fn2()}focusOnPage(idNewPage),currentPage=idNewPage}function focusOnPage(visioPageId){preloadViewerPagination(visioPageId),$("li a.pagevisio-"+currentPage).removeClass("actif"),$("li a.pagevisio-"+visioPageId).addClass("actif");var pagePosition=$("li a.pagevisio-"+visioPageId).parent().position(),paginationContenerWidth=$("#thumbnail-list").actual("width"),paginationListWidth=$("ol#catalogue-details-thumbs").actual("width"),newPaginationPosition=-pagePosition.left+(paginationContenerWidth/2-40);0<parseInt(newPaginationPosition)||0==window.ve.enableCaroussel?newPaginationPosition=0:paginationListWidth+newPaginationPosition<paginationContenerWidth&&(newPaginationPosition=paginationContenerWidth-paginationListWidth),1==window.ve.enableCaroussel&&$("ol#catalogue-details-thumbs").css({left:newPaginationPosition})}function updateIndexPage(currentIndexPage){var catalogueIdPage=0;for(var i in window.ve.dataPage[currentIndexPage])window.ve.dataPage[currentIndexPage].hasOwnProperty(i)&&0==catalogueIdPage&&(catalogueIdPage=parseInt(window.ve.dataPage[currentIndexPage][i]));$(".pagination-field").attr("value",catalogueIdPage)}function responsiveViewer(idDisplayPage){resetZoom(idDisplayPage),resizeViewer(idDisplayPage);var enableZoom=!1;$("#catalogue-details-photo div.pagevisio-"+idDisplayPage+" img").each(function(index,value){($("#catalogue-details-photo").actual("width")<$(this)[0].naturalWidth||$("#catalogue-details-photo").actual("height")<$(this)[0].naturalHeight)&&(enableZoom=!0)}),!1===window.ve.isTouchDevice&&!0===enableZoom&&($("#catalogue-details-zoom").addClass("zoom"),$("#catalogue-details-photo div.pagevisio-"+idDisplayPage).addClass("zoom"),$("#catalogue-details-zoom").unbind("click"),$("#catalogue-details-zoom").click(function(e){return e.preventDefault(),$("#catalogue-details-zoom").unbind("click"),resizeViewer(currentPage),resizeCarousel(currentPage),focusOnPage(currentPage),activateZoom(currentPage),$("#catalogue-details-zoom").trigger("click",{pageX:e.pageX,pageY:e.pageY}),!1})),resizeCarousel(idDisplayPage),focusOnPage(idDisplayPage),1==idDisplayPage?$(".catalogue-photo-prev").hide():$(".catalogue-photo-prev").show(),idDisplayPage>=totalVisioPage?$(".catalogue-photo-next").hide():$(".catalogue-photo-next").show()}function checkCarousselComands(){if($("#catalogue-details-thumbs").actual("width")<$("#thumbnail-list").actual("width"))$("a.catalogue-thumbs-next").hide(),$("a.catalogue-thumbs-prev").hide();else{$("a.catalogue-thumbs-next").show(),$("a.catalogue-thumbs-prev").show();var carousselPosition=$("#catalogue-details-thumbs").css("left").replace("px","");10>Math.abs(carousselPosition)&&$("a.catalogue-thumbs-prev").hide(),Math.abs(carousselPosition)+$("#thumbnail-list").actual("width")>=$("#catalogue-details-thumbs").actual("width")-10&&$("a.catalogue-thumbs-next").hide()}}function resizeCarousel(idDisplayPage){var withContener=$("#catalogue-details-photo div.pagevisio-"+idDisplayPage).actual("width"),leftPosition=45,newWitdhCarrousel=withContener-2*leftPosition;if($("#thumbnail-list").width(newWitdhCarrousel),$("#thumbnail-list").css("left",leftPosition),paginationSlideLength=Math.ceil(.7*$("#thumbnail-list").actual("width")),
$("#catalogue-details-thumbs").actual("width")>$("#thumbnail-list").actual("width")&&0==window.ve.enableCaroussel)window.ve.enableCaroussel=!0,$("a.catalogue-thumbs-next").click(function(){preloadViewerPagination(detectCurrentCenterPageInCaroussel());var paginationPosition=$("ol#catalogue-details-thumbs").position(),newPaginationPosition=paginationPosition.left-paginationSlideLength,paginationListWidth=$("ol#catalogue-details-thumbs").actual("width"),paginationContenerWidth=$("#thumbnail-list").actual("innerWidth");if(0>=newPaginationPosition&&paginationListWidth+paginationPosition.left>paginationContenerWidth){paginationListWidth+newPaginationPosition<paginationContenerWidth&&(newPaginationPosition=paginationContenerWidth-paginationListWidth);var ecart=(newPaginationPosition-paginationPosition.left)/15,i=1,movePaginationThumb=setInterval(function(){$("ol#catalogue-details-thumbs").css({left:paginationPosition.left+ecart*i}),i+=1,15==i&&clearInterval(movePaginationThumb),checkCarousselComands()},50)}return preloadViewerPagination(detectCurrentCenterPageInCaroussel()),!1}),$("a.catalogue-thumbs-prev").click(function(){preloadViewerPagination(detectCurrentCenterPageInCaroussel());var paginationPosition=$("ol#catalogue-details-thumbs").position(),newPaginationPosition=paginationPosition.left+paginationSlideLength;if(paginationSlideLength>newPaginationPosition){0<newPaginationPosition&&(newPaginationPosition=0);var ecart=(newPaginationPosition-paginationPosition.left)/15,i=1,movePaginationThumb=setInterval(function(){$("ol#catalogue-details-thumbs").css({left:paginationPosition.left+ecart*i}),i+=1,15==i&&clearInterval(movePaginationThumb),checkCarousselComands()},50)}return preloadViewerPagination(detectCurrentCenterPageInCaroussel()),!1}),$("#footer-visio-content").bind("mousewheel",function(event,delta){return event.preventDefault(),delta<0?$("a.catalogue-thumbs-prev").trigger("click"):delta>0&&$("a.catalogue-thumbs-next").trigger("click"),!1}),!0===window.ve.isTouchDevice&&$("#catalogue-details-zoom").on("swipeleft",function(e){return $("a.catalogue-photo-next:visible").trigger("click"),!1}).on("swiperight",function(e){return $("a.catalogue-photo-prev:visible").trigger("click"),!1});else if($("#catalogue-details-thumbs").actual("width")<=$("#thumbnail-list").actual("width")){window.ve.enableCaroussel=!1,$("#footer-visio-content").unbind("touchstart"),$("#footer-visio-content").unbind("mousewheel"),$("a.catalogue-thumbs-prev").unbind("click"),$("a.catalogue-thumbs-next").unbind("click"),$("a.catalogue-thumbs-prev").hide(),$("a.catalogue-thumbs-next").hide();var positionCenterCarrousel=($("#thumbnail-list").actual("width")-$("#catalogue-details-thumbs").actual("width"))/2;$("#catalogue-details-thumbs").css("left",positionCenterCarrousel)}}function resizeViewer(idDisplayPage){var selectorPageImgList=$("#catalogue-details-photo div.pagevisio-"+idDisplayPage+" img"),selectorPage=$("#catalogue-details-photo div.pagevisio-"+idDisplayPage);return selectorPageImgList.removeClass("inhibite-max-dims").attr("style",""),selectorPage.attr("style",""),!1}function preloadViewerPagination(currentPage){var pageToPreload=20;200<totalPage&&(pageToPreload=Math.ceil(totalPage/20));var startPreload=parseInt(currentPage)-pageToPreload,endPreload=parseInt(currentPage)+pageToPreload;startPreload<1&&(startPreload=1),endPreload>totalVisioPage&&(endPreload=totalVisioPage);for(var i=startPreload;i<=endPreload;i++)if("-1"==alreadyLoadedViewerPaginationPage.indexOf(i)){var pageLabel="P. ";for(var j in window.ve.dataPage[i])if(window.ve.dataPage[i].hasOwnProperty(j)){var imgUrl=window.ve.getUrlImageCatalog(window.ve.dataPage[i][j],""),imgTemplate='<img src="'+imgUrl+'" alt="'+catalogTitle+'" />';$("a.pagevisio-"+i).append(imgTemplate),0==j?pageLabel+=window.ve.dataPage[i][j]:pageLabel=pageLabel+"-"+window.ve.dataPage[i][j]}$("a.pagevisio-"+i).parents("li").find("p").append(pageLabel),alreadyLoadedViewerPaginationPage.push(i),$("ol#catalogue-details-thumbs li a.pagevisio-"+i).parents("li").addClass("loading"),$("ol#catalogue-details-thumbs li a.pagevisio-"+i).imagesLoaded(function($images,$proper,$broken){var index=parseInt($(this).selector.replace("ol#catalogue-details-thumbs li a.pagevisio-",""));$("ol#catalogue-details-thumbs li a.pagevisio-"+index).parents("li").removeClass("loading");var newWidth=0,newHeight=0;$(this).find("img").each(function(){newWidth+=$(this).actual("width"),newHeight<$(this).actual("height")&&(newHeight=$(this).actual("height"))}),$(this).width(newWidth),$(this).height(newHeight);var currentLiWidth=0;currentLiWidth=1==window.ve.dataPage[index].length?80:160;var withToReduce=currentLiWidth-newWidth;$(this).parents("li").width(newWidth+20),$("ol#catalogue-details-thumbs").width($("ol#catalogue-details-thumbs").actual("width")-withToReduce),index==endPreload&&focusOnPage(currentPage)})}checkCarousselComands()}function detectCurrentCenterPageInCaroussel(){var averageSizeBlocPage=$("#catalogue-details-thumbs").actual("width")/totalVisioPage,actualCarousselPosition=$("#catalogue-details-thumbs").position();return Math.ceil((Math.abs(actualCarousselPosition.left)+Math.ceil(paginationSlideLength/2))/averageSizeBlocPage)}function closeSearchMode(){window.ve.searchEnable=!1,$("#catalogue-details").css("display","none"),$("#catalog-overlay").append('<div id="viewer-loading"></div>'),$("#viewer-loading").css("top",($(window).height()-268)/2+$(window).scrollTop()),window.ve.inSearchMode=!1,window.ve.dataPage=window.ve.buildDataPage(window.ve.dataPageFull),window.ve.currentSearch=catalogPageTranslationArray.viewerSearchLabel,window.ve.currentPageImage=window.ve.oldCurrentPageImage,currentPage=window.ve.oldCurrentPageImage,initialiazeHtmlViewer(null),$("#viewer-loading").remove(),$("#catalogue-details").css("display","block"),responsiveViewer(window.ve.pageInVisio[window.ve.currentPageImage])}function openSearchMode(search){search&&(window.ve.searchEnable=!1,$("div.details-action-search").trigger("mouseleave"),window.ve.inSearchMode=!0,window.ve.currentSearch=search,window.ve.currentPageImage=window.ve.oldCurrentPageImage,currentPage=window.ve.oldCurrentPageImage,$("#catalogue-details-zoom,#footer-visio,div.catalogue-photo-prev,div.catalogue-photo-next").css("display","none"),$("#catalog-overlay").append('<div id="viewer-loading"></div>'),window.trackEvent("PDF","Search","ZoomSearch"),$.ajax({type:"GET",url:ajaxViewerSearchContentUrl,timeout:3e3,dataType:"json",data:"searchTerms="+window.ve.currentSearch,success:function(response){tooltipSearchResultEnable=!0,searchResultData=response.content,0===searchResultData.length?($("#catalogue-details-zoom,div.catalogue-photo-prev,div.catalogue-photo-next").css("display","block"),window.isMobileDevice()||$("#footer-visio").css("display","block"),closeSearchMode(),window.ve.tooltipSearchResultMessage=catalogPageTranslationArray.viewerLabelNoSearchResult):(window.ve.currentPageImage=searchResultData[0],initialiazeHtmlViewer(searchResultData),$("#catalogue-details-zoom,div.catalogue-photo-prev,div.catalogue-photo-next").css("display","block"),window.isMobileDevice()||$("#footer-visio").css("display","block"),responsiveViewer(window.ve.pageInVisio[window.ve.currentPageImage]),window.ve.tooltipSearchResultMessage=1==totalPage?catalogPageTranslationArray.viewerLabelSingleSearchResult:catalogPageTranslationArray.viewerLabelMultiSearchResult.replace("@nombrePages@",searchResultData.length)),$("#viewer-loading").remove(),$("div.details-action-search").trigger("openSearchResultTooltip")},error:function(jqXHR,textStatus,errorThrown){$("#viewer-loading").remove(),closeSearchMode()}}))}function initialiazeHtmlViewer(searchResultData){!0===window.ve.inSearchMode?$(".details-action-search .filter-reset").show():($(".details-action-search .filter-reset").hide(),window.ve.currentSearch=catalogPageTranslationArray.viewerSearchLabel),$("#catalogue-details-photo").html(""),$("#catalogue-details-thumbs").html(""),totalVisioDualPage=0,totalVisioPage=0,currentPage=0,totalPage=0,alreadyLoadedViewerPaginationPage=new Array,$(".details-action-search input.search-field").attr("value",window.ve.currentSearch);for(var i in window.ve.dataPage)if(window.ve.dataPage.hasOwnProperty(i)){$("#catalogue-details-photo").append('<div class="pagevisio-'+i+'"></div>'),nbImg=window.ve.dataPage[i].length,loopImgCpt=0,labePage="",totalVisioPage+=1;var grayedOut=!0;for(var j in window.ve.dataPage[i])window.ve.dataPage[i].hasOwnProperty(j)&&(window.ve.inSearchMode&&-1!==$.inArray(window.ve.dataPage[i][j],searchResultData)&&(grayedOut=!1),totalPage+=1,loopImgCpt+=1,window.ve.pageInVisio[window.ve.dataPage[i][j]]=i);var widthLi=100;nbImg>1&&(widthLi=180,totalVisioDualPage+=1);var $thumbLi=$('<li style="width:'+widthLi+'px"><a class="pagevisio-'+i+'" href="#"></a><p style="width:100%;text-align:center;"></p></li>');grayedOut&&searchResultData&&$thumbLi.addClass("grayedOut"),$("#catalogue-details-thumbs").append($thumbLi)}$("#catalogue-details-photo div").each(function(){$(this).css("display","none")});var withListPagination=parseInt(100*(totalPage-2*totalVisioDualPage));withListPagination=withListPagination+parseInt(180*totalVisioDualPage)+2,$("ol#catalogue-details-thumbs").css("width",withListPagination),$(".catalogue-details-close").css("z-index",100+totalPage),$("#total-viewer-page").html(" / "+catalogTotalPage),$("ol#catalogue-details-thumbs li a").click(function(){var idpage=$(this).attr("class").toString().replace("pagevisio-","");return"-1"==idpage.indexOf("actif")&&(moveImg(idpage),!1)}),$("ol#catalogue-details-thumbs li a.pagevisio-"+window.ve.pageInVisio[window.ve.currentPageImage]).trigger("click");var divContentSelector=$("#catalogue-details-photo div.pagevisio-"+window.ve.pageInVisio[window.ve.currentPageImage]),divImgContentSelector=$("#catalogue-details-photo div.pagevisio-"+window.ve.pageInVisio[window.ve.currentPageImage]+" img"),totalContentWidth=0,totalContentHeight=0;divImgContentSelector.each(function(){totalContentWidth+=$(this).actual("width"),totalContentHeight<$(this).actual("height")&&(totalContentHeight=$(this).actual("height"))}),$("li a.pagevisio-"+currentPage).addClass("actif"),divContentSelector.css("display","block"),responsiveViewer(window.ve.pageInVisio[window.ve.currentPageImage])}$("body").append(window.ve.htmlViewerTemplate),$("#catalogue-details-zoom").swipe({swipe:function(event,direction,distance,duration,fingerCount){switch(direction){case"left":$("a.catalogue-photo-next").trigger("click");break;case"right":$("a.catalogue-photo-prev").trigger("click")}},threshold:0}),window.isMobileDevice()&&$(".details-action print").hide(),$("body").css("height","auto");var currentPage=0,totalPage=0,totalVisioPage=0,totalVisioDualPage=0,vitesseSlide=700,homeCatalogIdPage=1,alreadyLoadedViewerPaginationPage=new Array,paginationSlideLength=480;$(".catalogue-photo-prev").hide(),$(".catalogue-photo-next").hide(),$("#footer-visio").hide();var display_timeout=0,inViever=!1,display_footer_timeout=0,inFooterViever=!1,nbImg=0,loopImgCpt=0,labePage="";!0===window.ve.inSearchMode?openSearchMode(window.ve.currentSearch):initialiazeHtmlViewer(null),$("#footer-visio-content").bind("mouseenter",function(){inFooterViever=!0,$("#footer-visio-content").animate({top:0},400)}),$("#footer-visio-content").bind("mouseleave",function(){inFooterViever=!1,0!=display_footer_timeout&&clearTimeout(display_footer_timeout),display_footer_timeout=setTimeout(function(){display_footer_timeout=0,inFooterViever||$("#footer-visio-content").animate({top:80},400)},500)}),$(".details-action-search .filter-reset").bind("click",function(){$(".details-action-search .search-field").attr("value",""),closeSearchMode()}),$(".search-field").bind("focus",function(){window.ve.searchEnable=!0,0==window.ve.inSearchMode&&$(this).attr("value","")}),$(".search-submit").click(function(){1==window.ve.searchEnable&&""!=$(".search-field").attr("value")&&openSearchMode($(".search-field").attr("value"))}),$(".search-field").keydown(function(e){if(13==e.keyCode)return openSearchMode($(".search-field").attr("value")),!1});var flagNoSpam="none";if($(window).keydown(function(e){if(1==window.ve.catalogViewerEnabled&&"none"==flagNoSpam){if(37==e.keyCode)return goPrevious(),!1;if(39==e.keyCode)return goNext(),!1}}),$("a.catalogue-photo-next").click(function(){return goNext(),!1}),$("a.catalogue-photo-prev").click(function(){return goPrevious(),!1}),$(".pagination-field").keydown(function(e){if(13==e.keyCode){var catalogIdPage=parseInt($(".pagination-field").attr("value"));if((1>catalogIdPage||catalogTotalPage<catalogIdPage)&&(catalogIdPage=1),1==window.ve.inSearchMode)window.ve.oldCurrentPageImage=catalogIdPage,closeSearchMode();else{moveImg(parseInt(window.ve.pageInVisio[catalogIdPage]))}return e.preventDefault(),!1}}),window.isMobileDevice()&&$("#catalogue-details-action .print").is(":visible")?$("#catalogue-details-action .print").hide():$("a.print").click(function(){window.trackEvent("PDF","Print","ZoomPrint");var html="<HTML>\n<HEAD>\n\n</HEAD>\n<BODY>\n"+$("#catalogue-details-photo div.pagevisio-"+currentPage).html()+"\n</BODY>\n</HTML>",printWP=window.open(location.href);printWP.document.open(),printWP.document.write(html),printWP.document.close(),printWP.print(),$.browser.msie&&9===parseInt($.browser.version,10)?printWP.onfocus=function(){printWP.close()}:1==window.opera||-1!=navigator.userAgent.indexOf("Opera")?printWP.onfocus=function(){printWP.close()}:printWP.close()}),!window.isMobileDevice()){var tooltipSearchResultEnable=!1;$("#catalogue-details-action a,#catalogue-details-action div,div.details-action-search,div.details-action-close").qtip({style:{classes:"ui-tooltip-light ui-tooltip-bootstrap ui-tooltip-shadow-perso ui-tooltip-tipped-perso"},position:{viewport:$("#catalogue-details"),my:"top center",at:"top center",adjust:{method:"shift",y:30}},show:{event:"mouseover openSearchResultTooltip"},hide:{event:"mouseleave closeSearchResultTooltip"},events:{show:function(e,api){var tooltipText;"openSearchResultTooltip"==e.originalEvent.type||1==tooltipSearchResultEnable&&void 0!==e.originalEvent.currentTarget&&"details-action-search"==e.originalEvent.currentTarget.className?(tooltipText=window.ve.tooltipSearchResultMessage,window.setTimeout(function(){tooltipSearchResultEnable=!1,$("div.details-action-search").trigger("closeSearchResultTooltip")},2500)):tooltipText=$(e.originalEvent.currentTarget).attr("title"),$(this).qtip("api").set({"content.text":tooltipText})},hide:function(e,api){1==tooltipSearchResultEnable&&"closeSearchResultTooltip"!=e.originalEvent.type&&void 0!==e.originalEvent.currentTarget&&"details-action-search"==e.originalEvent.currentTarget.className&&e.preventDefault()}}})}$(".home").click(function(e){return 1==window.ve.inSearchMode&&closeSearchMode(),moveImg(homeCatalogIdPage),!1}),$(".details-action-close,#catalog-overlay").click(function(){window.ve.closeCatalogViewer()}),$("#catalogue-details").click(function(){return!1}),$(window).keydown(function(event){27==event.keyCode&&1==window.ve.catalogViewerEnabled&&window.ve.closeCatalogViewer()}),$("body").bind("dblclick",function(){return!1}),$(window).resize(function(){if(1==window.ve.catalogViewerEnabled)return responsiveViewer(currentPage),!1}),$("#catalogue-details").bind("mouseover",function(){inViever=!0,currentPage<totalVisioPage?$(".catalogue-photo-next").show():$(".catalogue-photo-next").hide(),currentPage>1?$(".catalogue-photo-prev").show():$(".catalogue-photo-prev").hide(),$("#footer-visio").show()}),$("#catalogue-details").bind("mouseleave",function(){inViever=!1,0!=display_timeout&&clearTimeout(display_timeout),display_timeout=setTimeout(function(){display_timeout=0,inViever||($(".catalogue-photo-prev").hide(),$(".catalogue-photo-next").hide(),$("#footer-visio").hide())},500)}),$("#catalog-overlay").on("onShow",function(e,currentPage){1==window.ve.inSearchMode&&closeSearchMode(),moveImg(window.ve.pageInVisio[currentPage])}),$("#add-to-bookmark").on("click",function(e){var $addBookmarkButton=$(e.currentTarget),entityType=$addBookmarkButton.attr("data-entity-type");window.MySpace.$elements.addBookmarkButton=$addBookmarkButton,entityId=window.ve.findPageId(currentPage),null!==entityId&&window.MySpace.api.openAddBookmarkPopin(entityId,entityType)})}}).call(exports,__webpack_require__(4))},231:function(module,exports){!function(window){"use strict";function setup(){if(!Hammer.READY){Hammer.event.determineEventTypes();for(var name in Hammer.gestures)Hammer.gestures.hasOwnProperty(name)&&Hammer.detection.register(Hammer.gestures[name]);Hammer.event.onTouch(Hammer.DOCUMENT,Hammer.EVENT_MOVE,Hammer.detection.detect),Hammer.event.onTouch(Hammer.DOCUMENT,Hammer.EVENT_END,Hammer.detection.detect),Hammer.READY=!0}}var Hammer=function(element,options){return new Hammer.Instance(element,options||{})};Hammer.defaults={stop_browser_behavior:{userSelect:"none",touchAction:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}},Hammer.HAS_POINTEREVENTS=navigator.pointerEnabled||navigator.msPointerEnabled,Hammer.HAS_TOUCHEVENTS="ontouchstart"in window,Hammer.MOBILE_REGEX=/mobile|tablet|ip(ad|hone|od)|android/i,Hammer.NO_MOUSEEVENTS=Hammer.HAS_TOUCHEVENTS&&navigator.userAgent.match(Hammer.MOBILE_REGEX),Hammer.EVENT_TYPES={},Hammer.DIRECTION_DOWN="down",Hammer.DIRECTION_LEFT="left",Hammer.DIRECTION_UP="up",Hammer.DIRECTION_RIGHT="right",Hammer.POINTER_MOUSE="mouse",Hammer.POINTER_TOUCH="touch",Hammer.POINTER_PEN="pen",Hammer.EVENT_START="start",Hammer.EVENT_MOVE="move",Hammer.EVENT_END="end",Hammer.DOCUMENT=document,Hammer.plugins={},Hammer.READY=!1,Hammer.Instance=function(element,options){var self=this;return setup(),this.element=element,this.enabled=!0,this.options=Hammer.utils.extend(Hammer.utils.extend({},Hammer.defaults),options||{}),this.options.stop_browser_behavior&&Hammer.utils.stopDefaultBrowserBehavior(this.element,this.options.stop_browser_behavior),Hammer.event.onTouch(element,Hammer.EVENT_START,function(ev){self.enabled&&Hammer.detection.startDetect(self,ev)}),this},Hammer.Instance.prototype={on:function(gesture,handler){for(var gestures=gesture.split(" "),t=0;t<gestures.length;t++)this.element.addEventListener(gestures[t],handler,!1);return this},off:function(gesture,handler){for(var gestures=gesture.split(" "),t=0;t<gestures.length;t++)this.element.removeEventListener(gestures[t],handler,!1);return this},trigger:function(gesture,eventData){var event=Hammer.DOCUMENT.createEvent("Event");event.initEvent(gesture,!0,!0),event.gesture=eventData;var element=this.element;return Hammer.utils.hasParent(eventData.target,element)&&(element=eventData.target),element.dispatchEvent(event),this},enable:function(state){return this.enabled=state,this}};var last_move_event=null,enable_detect=!1,touch_triggered=!1;Hammer.event={bindDom:function(element,type,handler){for(var types=type.split(" "),t=0;t<types.length;t++)element.addEventListener(types[t],handler,!1)},onTouch:function(element,eventType,handler){var self=this;this.bindDom(element,Hammer.EVENT_TYPES[eventType],function(ev){var sourceEventType=ev.type.toLowerCase();if(!sourceEventType.match(/mouse/)||!touch_triggered){(sourceEventType.match(/touch/)||sourceEventType.match(/pointerdown/)||sourceEventType.match(/mouse/)&&1===ev.which)&&(enable_detect=!0),sourceEventType.match(/touch|pointer/)&&(touch_triggered=!0);var count_touches=0;enable_detect&&(Hammer.HAS_POINTEREVENTS&&eventType!=Hammer.EVENT_END?count_touches=Hammer.PointerEvent.updatePointer(eventType,ev):sourceEventType.match(/touch/)?count_touches=ev.touches.length:touch_triggered||(count_touches=sourceEventType.match(/up/)?0:1),count_touches>0&&eventType==Hammer.EVENT_END?eventType=Hammer.EVENT_MOVE:count_touches||(eventType=Hammer.EVENT_END),count_touches||null===last_move_event?last_move_event=ev:ev=last_move_event,handler.call(Hammer.detection,self.collectEventData(element,eventType,ev)),Hammer.HAS_POINTEREVENTS&&eventType==Hammer.EVENT_END&&(count_touches=Hammer.PointerEvent.updatePointer(eventType,ev))),count_touches||(last_move_event=null,enable_detect=!1,touch_triggered=!1,Hammer.PointerEvent.reset())}})},determineEventTypes:function(){var types;types=Hammer.HAS_POINTEREVENTS?Hammer.PointerEvent.getEvents():Hammer.NO_MOUSEEVENTS?["touchstart","touchmove","touchend touchcancel"]:["touchstart mousedown","touchmove mousemove","touchend touchcancel mouseup"],Hammer.EVENT_TYPES[Hammer.EVENT_START]=types[0],Hammer.EVENT_TYPES[Hammer.EVENT_MOVE]=types[1],Hammer.EVENT_TYPES[Hammer.EVENT_END]=types[2]},getTouchList:function(ev){return Hammer.HAS_POINTEREVENTS?Hammer.PointerEvent.getTouchList():ev.touches?ev.touches:[{identifier:1,pageX:ev.pageX,pageY:ev.pageY,target:ev.target}]},collectEventData:function(element,eventType,ev){var touches=this.getTouchList(ev,eventType),pointerType=Hammer.POINTER_TOUCH;return(ev.type.match(/mouse/)||Hammer.PointerEvent.matchType(Hammer.POINTER_MOUSE,ev))&&(pointerType=Hammer.POINTER_MOUSE),{center:Hammer.utils.getCenter(touches),timeStamp:(new Date).getTime(),target:ev.target,touches:touches,eventType:eventType,pointerType:pointerType,srcEvent:ev,preventDefault:function(){this.srcEvent.preventManipulation&&this.srcEvent.preventManipulation(),this.srcEvent.preventDefault&&this.srcEvent.preventDefault()},stopPropagation:function(){this.srcEvent.stopPropagation()},stopDetect:function(){return Hammer.detection.stopDetect()}}}},Hammer.PointerEvent={pointers:{},getTouchList:function(){var self=this,touchlist=[];return Object.keys(self.pointers).sort().forEach(function(id){touchlist.push(self.pointers[id])}),touchlist},updatePointer:function(type,pointerEvent){return type==Hammer.EVENT_END?this.pointers={}:(pointerEvent.identifier=pointerEvent.pointerId,this.pointers[pointerEvent.pointerId]=pointerEvent),Object.keys(this.pointers).length},matchType:function(pointerType,ev){if(!ev.pointerType)return!1;var types={};return types[Hammer.POINTER_MOUSE]=ev.pointerType==ev.MSPOINTER_TYPE_MOUSE||ev.pointerType==Hammer.POINTER_MOUSE,types[Hammer.POINTER_TOUCH]=ev.pointerType==ev.MSPOINTER_TYPE_TOUCH||ev.pointerType==Hammer.POINTER_TOUCH,types[Hammer.POINTER_PEN]=ev.pointerType==ev.MSPOINTER_TYPE_PEN||ev.pointerType==Hammer.POINTER_PEN,types[pointerType]},getEvents:function(){return["pointerdown MSPointerDown","pointermove MSPointerMove","pointerup pointercancel MSPointerUp MSPointerCancel"]},reset:function(){this.pointers={}}},Hammer.utils={extend:function(dest,src,merge){for(var key in src)void 0!==dest[key]&&merge||(dest[key]=src[key]);return dest},hasParent:function(node,parent){for(;node;){if(node==parent)return!0;node=node.parentNode}return!1},getCenter:function(touches){for(var valuesX=[],valuesY=[],t=0,len=touches.length;t<len;t++)valuesX.push(touches[t].pageX),valuesY.push(touches[t].pageY);return{pageX:(Math.min.apply(Math,valuesX)+Math.max.apply(Math,valuesX))/2,pageY:(Math.min.apply(Math,valuesY)+Math.max.apply(Math,valuesY))/2}},getVelocity:function(delta_time,delta_x,delta_y){return{x:Math.abs(delta_x/delta_time)||0,y:Math.abs(delta_y/delta_time)||0}},getAngle:function(touch1,touch2){var y=touch2.pageY-touch1.pageY,x=touch2.pageX-touch1.pageX;return 180*Math.atan2(y,x)/Math.PI},getDirection:function(touch1,touch2){return Math.abs(touch1.pageX-touch2.pageX)>=Math.abs(touch1.pageY-touch2.pageY)?touch1.pageX-touch2.pageX>0?Hammer.DIRECTION_LEFT:Hammer.DIRECTION_RIGHT:touch1.pageY-touch2.pageY>0?Hammer.DIRECTION_UP:Hammer.DIRECTION_DOWN},getDistance:function(touch1,touch2){var x=touch2.pageX-touch1.pageX,y=touch2.pageY-touch1.pageY;return Math.sqrt(x*x+y*y)},getScale:function(start,end){return start.length>=2&&end.length>=2?this.getDistance(end[0],end[1])/this.getDistance(start[0],start[1]):1},getRotation:function(start,end){return start.length>=2&&end.length>=2?this.getAngle(end[1],end[0])-this.getAngle(start[1],start[0]):0},isVertical:function(direction){return direction==Hammer.DIRECTION_UP||direction==Hammer.DIRECTION_DOWN},stopDefaultBrowserBehavior:function(element,css_props){var prop,vendors=["webkit","khtml","moz","ms","o",""];if(css_props&&element.style){for(var i=0;i<vendors.length;i++)for(var p in css_props)css_props.hasOwnProperty(p)&&(prop=p,vendors[i]&&(prop=vendors[i]+prop.substring(0,1).toUpperCase()+prop.substring(1)),element.style[prop]=css_props[p]);"none"==css_props.userSelect&&(element.onselectstart=function(){return!1})}}},Hammer.detection={gestures:[],current:null,previous:null,stopped:!1,startDetect:function(inst,eventData){this.current||(this.stopped=!1,this.current={inst:inst,startEvent:Hammer.utils.extend({},eventData),lastEvent:!1,name:""},this.detect(eventData))},detect:function(eventData){if(this.current&&!this.stopped){eventData=this.extendEventData(eventData);for(var inst_options=this.current.inst.options,g=0,len=this.gestures.length;g<len;g++){var gesture=this.gestures[g];if(!this.stopped&&!1!==inst_options[gesture.name]&&!1===gesture.handler.call(gesture,eventData,this.current.inst)){this.stopDetect();break}}return this.current&&(this.current.lastEvent=eventData),eventData.eventType==Hammer.EVENT_END&&!eventData.touches.length-1&&this.stopDetect(),eventData}},stopDetect:function(){this.previous=Hammer.utils.extend({},this.current),this.current=null,this.stopped=!0},extendEventData:function(ev){var startEv=this.current.startEvent;if(startEv&&(ev.touches.length!=startEv.touches.length||ev.touches===startEv.touches)){startEv.touches=[];for(var i=0,len=ev.touches.length;i<len;i++)startEv.touches.push(Hammer.utils.extend({},ev.touches[i]))}var delta_time=ev.timeStamp-startEv.timeStamp,delta_x=ev.center.pageX-startEv.center.pageX,delta_y=ev.center.pageY-startEv.center.pageY,velocity=Hammer.utils.getVelocity(delta_time,delta_x,delta_y);return Hammer.utils.extend(ev,{deltaTime:delta_time,deltaX:delta_x,deltaY:delta_y,velocityX:velocity.x,velocityY:velocity.y,distance:Hammer.utils.getDistance(startEv.center,ev.center),angle:Hammer.utils.getAngle(startEv.center,ev.center),direction:Hammer.utils.getDirection(startEv.center,ev.center),scale:Hammer.utils.getScale(startEv.touches,ev.touches),rotation:Hammer.utils.getRotation(startEv.touches,ev.touches),startEvent:startEv}),ev},register:function(gesture){var options=gesture.defaults||{};return void 0===options[gesture.name]&&(options[gesture.name]=!0),Hammer.utils.extend(Hammer.defaults,options,!0),gesture.index=gesture.index||1e3,this.gestures.push(gesture),this.gestures.sort(function(a,b){return a.index<b.index?-1:a.index>b.index?1:0}),this.gestures}},Hammer.gestures=Hammer.gestures||{},Hammer.gestures.Hold={name:"hold",index:10,defaults:{hold_timeout:500,hold_threshold:1},timer:null,handler:function(ev,inst){switch(ev.eventType){case Hammer.EVENT_START:clearTimeout(this.timer),Hammer.detection.current.name=this.name,this.timer=setTimeout(function(){"hold"==Hammer.detection.current.name&&inst.trigger("hold",ev)},inst.options.hold_timeout);break;case Hammer.EVENT_MOVE:ev.distance>inst.options.hold_threshold&&clearTimeout(this.timer);break;case Hammer.EVENT_END:clearTimeout(this.timer)}}},Hammer.gestures.Tap={name:"tap",index:100,defaults:{tap_max_touchtime:250,tap_max_distance:10,tap_always:!0,doubletap_distance:20,doubletap_interval:300},handler:function(ev,inst){if(ev.eventType==Hammer.EVENT_END){var prev=Hammer.detection.previous,did_doubletap=!1;if(ev.deltaTime>inst.options.tap_max_touchtime||ev.distance>inst.options.tap_max_distance)return;prev&&"tap"==prev.name&&ev.timeStamp-prev.lastEvent.timeStamp<inst.options.doubletap_interval&&ev.distance<inst.options.doubletap_distance&&(inst.trigger("doubletap",ev),did_doubletap=!0),did_doubletap&&!inst.options.tap_always||(Hammer.detection.current.name="tap",inst.trigger(Hammer.detection.current.name,ev))}}},Hammer.gestures.Swipe={name:"swipe",index:40,defaults:{swipe_max_touches:1,swipe_velocity:.7},handler:function(ev,inst){if(ev.eventType==Hammer.EVENT_END){if(inst.options.swipe_max_touches>0&&ev.touches.length>inst.options.swipe_max_touches)return;(ev.velocityX>inst.options.swipe_velocity||ev.velocityY>inst.options.swipe_velocity)&&(inst.trigger(this.name,ev),inst.trigger(this.name+ev.direction,ev))}}},Hammer.gestures.Drag={name:"drag",index:50,defaults:{drag_min_distance:10,drag_max_touches:1,drag_block_horizontal:!1,drag_block_vertical:!1,drag_lock_to_axis:!1,drag_lock_min_distance:25},triggered:!1,handler:function(ev,inst){if(Hammer.detection.current.name!=this.name&&this.triggered)return inst.trigger(this.name+"end",ev),void(this.triggered=!1);if(!(inst.options.drag_max_touches>0&&ev.touches.length>inst.options.drag_max_touches))switch(ev.eventType){case Hammer.EVENT_START:this.triggered=!1;break;case Hammer.EVENT_MOVE:if(ev.distance<inst.options.drag_min_distance&&Hammer.detection.current.name!=this.name)return;Hammer.detection.current.name=this.name,(Hammer.detection.current.lastEvent.drag_locked_to_axis||inst.options.drag_lock_to_axis&&inst.options.drag_lock_min_distance<=ev.distance)&&(ev.drag_locked_to_axis=!0);var last_direction=Hammer.detection.current.lastEvent.direction;ev.drag_locked_to_axis&&last_direction!==ev.direction&&(Hammer.utils.isVertical(last_direction)?ev.direction=ev.deltaY<0?Hammer.DIRECTION_UP:Hammer.DIRECTION_DOWN:ev.direction=ev.deltaX<0?Hammer.DIRECTION_LEFT:Hammer.DIRECTION_RIGHT),this.triggered||(inst.trigger(this.name+"start",ev),this.triggered=!0),inst.trigger(this.name,ev),inst.trigger(this.name+ev.direction,ev),(inst.options.drag_block_vertical&&Hammer.utils.isVertical(ev.direction)||inst.options.drag_block_horizontal&&!Hammer.utils.isVertical(ev.direction))&&ev.preventDefault();break;case Hammer.EVENT_END:this.triggered&&inst.trigger(this.name+"end",ev),this.triggered=!1}}},Hammer.gestures.Transform={name:"transform",index:45,defaults:{transform_min_scale:.01,transform_min_rotation:1,transform_always_block:!1},triggered:!1,handler:function(ev,inst){if(Hammer.detection.current.name!=this.name&&this.triggered)return inst.trigger(this.name+"end",ev),void(this.triggered=!1);if(!(ev.touches.length<2))switch(inst.options.transform_always_block&&ev.preventDefault(),ev.eventType){case Hammer.EVENT_START:this.triggered=!1;break;case Hammer.EVENT_MOVE:var scale_threshold=Math.abs(1-ev.scale),rotation_threshold=Math.abs(ev.rotation);if(scale_threshold<inst.options.transform_min_scale&&rotation_threshold<inst.options.transform_min_rotation)return;Hammer.detection.current.name=this.name,this.triggered||(inst.trigger(this.name+"start",ev),this.triggered=!0),inst.trigger(this.name,ev),rotation_threshold>inst.options.transform_min_rotation&&inst.trigger("rotate",ev),scale_threshold>inst.options.transform_min_scale&&(inst.trigger("pinch",ev),inst.trigger("pinch"+(ev.scale<1?"in":"out"),ev));break;case Hammer.EVENT_END:this.triggered&&inst.trigger(this.name+"end",ev),this.triggered=!1}}},Hammer.gestures.Touch={name:"touch",index:-1/0,defaults:{prevent_default:!1,prevent_mouseevents:!1},handler:function(ev,inst){if(inst.options.prevent_mouseevents&&ev.pointerType==Hammer.POINTER_MOUSE)return void ev.stopDetect();inst.options.prevent_default&&ev.preventDefault(),ev.eventType==Hammer.EVENT_START&&inst.trigger(this.name,ev)}},Hammer.gestures.Release={name:"release",index:1/0,handler:function(ev,inst){ev.eventType==Hammer.EVENT_END&&inst.trigger(this.name,ev)}},"object"==typeof module&&"object"==typeof module.exports?module.exports=Hammer:(window.Hammer=Hammer,"function"==typeof window.define&&window.define.amd&&window.define("hammer",[],function(){return Hammer})),function($){void 0!==$&&(Hammer.event.bindDom=function(element,eventTypes,handler){$(element).on(eventTypes,function(ev){var data=ev.originalEvent||ev;void 0===data.pageX&&(data.pageX=ev.pageX,data.pageY=ev.pageY),data.target||(data.target=ev.target),void 0===data.which&&(data.which=data.button),data.preventDefault||(data.preventDefault=ev.preventDefault),data.stopPropagation||(data.stopPropagation=ev.stopPropagation),handler.call(this,data)})},Hammer.Instance.prototype.on=function(types,handler){
return $(this.element).on(types,handler)},Hammer.Instance.prototype.off=function(types,handler){return $(this.element).off(types,handler)},Hammer.Instance.prototype.trigger=function(gesture,eventData){var el=$(this.element);return el.has(eventData.target).length&&(el=$(eventData.target)),el.trigger({type:gesture,gesture:eventData})},$.fn.hammer=function(options){return this.each(function(){var el=$(this),inst=el.data("hammer");inst?inst&&options&&Hammer.utils.extend(inst.options,options):el.data("hammer",new Hammer(this,options||{}))})})}(window.jQuery||window.Zepto)}(window)},232:function(module,exports,__webpack_require__){(function(jQuery,$){jQuery.fn.gzoom=function(settings){return settings=jQuery.extend({sW:10,sH:10,lW:20,lH:20,iW:null,iH:null,margin:"0px 0px 0px 0px",leftMargin:0,bottomMargin:0,frameColor:"#cecece",frameWidth:1,movediv:"none",isZoomed:!1,gaTrackEnable:!1,gaTrackCategory:"",gaTrackAction:"",gaTrackLabel:"",unZoomMethodCallback:function(){},currentPageInViewer:""},settings),this.each(function(){function getInitImg(e){var imageSelector=null,elementsListToHide=[];if($div.children("img").each(function(item,i){$(this).css("display","inline");var cursorPosX=e.pageX,cursorPosY=e.pageY,imgPosition=$(this).offset(),imgTop=imgPosition.top,imgLeft=imgPosition.left,imgHeight=$(this).actual("height"),imgWidth=$(this).actual("width");cursorPosY>imgTop&&cursorPosY<imgTop+imgHeight&&cursorPosX>imgLeft&&cursorPosX<imgLeft+imgWidth?(imageSelector=$(this),settings.iW=imgWidth,settings.iH=imgHeight,settings.margin=$(this).css("margin-top")+" "+$(this).css("margin-right")+" "+$(this).css("margin-bottom")+" "+$(this).css("margin-left")):elementsListToHide.push($(this))}),null!=imageSelector)for(i=0;i<elementsListToHide.length;i++)elementsListToHide[i].css("display","none");else imageSelector=$div.children("img").first();return imageSelector}var verticalMoveAuthorized=!0,horizontalMoveAuthorized=!0,$div=jQuery(this).css({width:settings.sW,height:settings.sH,overflow:"hidden"}).addClass("minizoompan");$div.css({width:settings.sW,height:settings.sH});var ig="",ratioW="",ratioH="";if("none"!=settings.movediv)var $divtomove=$("#"+settings.movediv);else var $divtomove=$div;$divtomove.mousemove(function(e,evt){if(1==settings.isZoomed){var pageX=e.pageX||evt.pageX,pageY=e.pageY||evt.pageY,divWidth=$divtomove.actual("width"),divHeight=$divtomove.actual("height"),igW=ig.actual("width")+settings.leftMargin,igH=ig.actual("height")+settings.bottomMargin,dOs=$divtomove.offset(),leftPan=(pageX-dOs.left)*($div.actual("width")-igW)/(divWidth+2*settings.frameWidth),topPan=(pageY-dOs.top)*($div.actual("height")-igH)/(divHeight+2*settings.frameWidth);0==horizontalMoveAuthorized&&(leftPan=($div.actual("width")-igW)/2),0==verticalMoveAuthorized&&(topPan=($div.actual("height")-igH)/2),ig.css({left:leftPan,top:topPan})}return!1});var touchOldPosX=0,touchOldPosY=0;$divtomove.bind("touchend",function(e){return touchOldPosX=0,touchOldPosY=0,!1}),$divtomove.bind("touchmove",function(touchevent){if(1==settings.isZoomed){if(touchevent.preventDefault(),e=touchevent.originalEvent.touches[0]||e.originalEvent.changedTouches[0],(e.pageX==touchOldPosX||e.pageX-touchOldPosX>20||e.pageX-touchOldPosX<-20)&&(touchOldPosX=0),(e.pageY==touchOldPosY||e.pageY-touchOldPosY>20||e.pageY-touchOldPosY<-20)&&(touchOldPosY=0),0!=touchOldPosX&&0!=touchOldPosY){var divWidth=parseInt($div.actual("width")),divHeight=parseInt($div.actual("height")),imageWidth=parseInt(ig.actual("width"))+settings.leftMargin,imageHeight=parseInt(ig.actual("height"))+settings.bottomMargin,leftMove=e.pageX-touchOldPosX,topMove=e.pageY-touchOldPosY,leftPos=parseInt(ig.css("left")),topPos=parseInt(ig.css("top")),newLeftPos=leftPos+leftMove,newTopPos=topPos+topMove;1==horizontalMoveAuthorized?newLeftPos<=divWidth-imageWidth?newLeftPos=divWidth-imageWidth:newLeftPos>=0&&(newLeftPos=0):newLeftPos=(divWidth-imageWidth)/2,1==verticalMoveAuthorized?newTopPos<=divHeight-imageHeight?newTopPos=divHeight-imageHeight:newTopPos>=0&&(newTopPos=0):newTopPos=(divHeight-imageHeight)/2,ig.css({left:newLeftPos,top:newTopPos})}else touchOldPosX=e.pageX,touchOldPosY=e.pageY;return!1}}),$divtomove.click(function(e,evt){var pageX=e.pageX||evt.pageX,pageY=e.pageY||evt.pageY;if(0==settings.isZoomed){if(1==settings.gaTrackEnable&&window.trackEvent(settings.gaTrackCategory,settings.gaTrackAction,settings.gaTrackLabel),null==(ig=getInitImg({pageX:pageX,pageY:pageY})))return!1;ig.css({position:"relative"}),ratioW=ig.actual("width")/settings.sW,ratioH=ig.actual("height")/settings.sH,settings.lW=ig.actual("width"),settings.lH=ig.actual("height"),ig.css({display:"none",width:"auto",height:"auto",margin:"0","max-width":"none","max-height":"none"});var divWidth=$div.actual("width"),divHeight=$div.actual("height");settings.lW,settings.lH,$div.offset();settings.isZoomed=!0,$div.removeClass("zoom"),$divtomove.removeClass("zoom"),$divtomove.addClass("hand"),horizontalMoveAuthorized=!(divWidth>=ig.actual("width")),verticalMoveAuthorized=!(divHeight>=ig.actual("height")),$divtomove.trigger("mousemove",{pageX:pageX,pageY:pageY}),ig.css({display:"inline"})}else $div.children("img").each(function(){$(this).css("display","inline")}),ig.css({width:settings.iW,height:settings.iH,margin:settings.margin,left:0,top:0}),settings.isZoomed=!1,$divtomove.removeClass("hand"),$div.addClass("zoom"),$divtomove.addClass("zoom"),settings.unZoomMethodCallback(settings.currentPageInViewer);return!1}),$div.click(function(e){var event=new jQuery.Event("click");return event.pageX=e.pageX,event.pageY=e.pageY,$divtomove.trigger(event),!1})})}}).call(exports,__webpack_require__(4),__webpack_require__(4))},233:function(module,exports,__webpack_require__){(function(jQuery){!function(d){function t(y){return!y||void 0!==y.allowPageScroll||void 0===y.swipe&&void 0===y.swipeStatus||(y.allowPageScroll=k),y||(y={}),y=d.extend({},d.fn.swipe.defaults,y),this.each(function(){var A=d(this),z=A.data(w);z||(z=new p(this,y),A.data(w,z))})}function p(S,af){function ar(aM){if(!(X()||d(aM.target).closest(af.excludedElements,H).length>0)){var aL,aN=aM.originalEvent,aK=a?aN.touches[0]:aN;if(O=f,a?aE=aN.touches.length:aM.preventDefault(),ac=0,N=null,aH=null,ag=0,aB=0,A=0,ai=1,pinchDistance=0,ah=T(),z(),!a||aE===af.fingers||af.fingers===h||ao()?(aI(0,aK),I=B(),2==aE&&(aI(1,aN.touches[1]),aB=A=Z(ah[0].start,ah[1].start)),(af.swipeStatus||af.pinchStatus)&&(aL=aD(aN,O))):aL=!1,!1===aL)return O=o,aD(aN,O),aL;aj(!0)}}function P(aN){var aQ=aN.originalEvent;if(O!==g&&O!==o&&!ae()){var aM,aL=a?aQ.touches[0]:aQ,aO=V(aL);if(Y=B(),a&&(aE=aQ.touches.length),O=i,2==aE&&(0==aB?(aI(1,aQ.touches[1]),aB=A=Z(ah[0].start,ah[1].start)):(V(aQ.touches[1]),A=Z(ah[0].end,ah[1].end),aH=an(ah[0].end,ah[1].end)),ai=y(aB,A),pinchDistance=Math.abs(aB-A)),aE===af.fingers||af.fingers===h||!a||ao()){if(N=aq(aO.start,aO.end),C(aN,N),ac=G(aO.start,aO.end),ag=L(),(af.swipeStatus||af.pinchStatus)&&(aM=aD(aQ,O)),!af.triggerOnTouchEnd||af.triggerOnTouchLeave){var aK=!0;if(af.triggerOnTouchLeave){var aP=at(this);aK=az(aO.end,aP)}!af.triggerOnTouchEnd&&aK?O=aG(i):af.triggerOnTouchLeave&&!aK&&(O=aG(g)),O!=o&&O!=g||aD(aQ,O)}}else O=o,aD(aQ,O);!1===aM&&(O=o,aD(aQ,O))}}function aa(aM){var aO=aM.originalEvent;if(a&&aO.touches.length>0)return av(),!0;if(ae()&&(aE=aJ),aM.preventDefault(),Y=B(),af.triggerOnTouchEnd||0==af.triggerOnTouchEnd&&O===i){O=g;var aL=aE===af.fingers||af.fingers===h||!a,aK=0!==ah[0].end.x;aL&&aK&&(am()||ay())?aD(aO,O):(O=o,aD(aO,O))}else O===i&&(O=o,aD(aO,O));aj(!1)}function M(){aE=0,Y=0,I=0,aB=0,A=0,ai=1,z(),aj(!1)}function W(aK){var aL=aK.originalEvent;af.triggerOnTouchLeave&&(O=aG(g),aD(aL,O))}function Q(){H.unbind(ax,ar),H.unbind(R,M),H.unbind(U,P),H.unbind(au,aa),D&&H.unbind(D,W),aj(!1)}function aG(aN){var aM=aN,aL=ap(),aK=ad();return aL?!aK||aN!=i||af.triggerOnTouchEnd&&!af.triggerOnTouchLeave?!aK&&aN==g&&af.triggerOnTouchLeave&&(aM=o):aM=g:aM=o,aM}function aD(aM,aK){var aL=void 0;return ab()&&(aL=al(aM,aK,j)),ao()&&!1!==aL&&(aL=al(aM,aK,r)),K()&&!1!==aL&&(aL=al(aM,aK,e)),aK===o&&M(aM),aK===g&&(a?0==aM.touches.length&&M(aM):M(aM)),aL}function al(aN,aK,aM){var aL=void 0;if(aM==j){if(af.swipeStatus&&!1===(aL=af.swipeStatus.call(H,aN,aK,N||null,ac||0,ag||0,aE)))return!1;if(aK==g&&ay()){if(af.swipe&&!1===(aL=af.swipe.call(H,aN,N,ac,ag,aE)))return!1;switch(N){case n:af.swipeLeft&&(aL=af.swipeLeft.call(H,aN,N,ac,ag,aE));break;case m:af.swipeRight&&(aL=af.swipeRight.call(H,aN,N,ac,ag,aE));break;case c:af.swipeUp&&(aL=af.swipeUp.call(H,aN,N,ac,ag,aE));break;case u:af.swipeDown&&(aL=af.swipeDown.call(H,aN,N,ac,ag,aE))}}}if(aM==r){if(af.pinchStatus&&!1===(aL=af.pinchStatus.call(H,aN,aK,aH||null,pinchDistance||0,ag||0,aE,ai)))return!1;if(aK==g&&am())switch(aH){case b:af.pinchIn&&(aL=af.pinchIn.call(H,aN,aH||null,pinchDistance||0,ag||0,aE,ai));break;case v:af.pinchOut&&(aL=af.pinchOut.call(H,aN,aH||null,pinchDistance||0,ag||0,aE,ai))}}return aM==e&&aK===o&&(!af.click||1!==aE&&a||!isNaN(ac)&&0!==ac||(aL=af.click.call(H,aN,aN.target))),aL}function ad(){return null===af.threshold||ac>=af.threshold}function ak(){return null===af.pinchThreshold||pinchDistance>=af.pinchThreshold}function ap(){return!af.maxTimeThreshold||!(ag>=af.maxTimeThreshold)}function C(aK,aL){if(af.allowPageScroll===k||ao())aK.preventDefault();else{var aM=af.allowPageScroll===q;switch(aL){case n:(af.swipeLeft&&aM||!aM&&af.allowPageScroll!=x)&&aK.preventDefault();break;case m:(af.swipeRight&&aM||!aM&&af.allowPageScroll!=x)&&aK.preventDefault();break;case c:(af.swipeUp&&aM||!aM&&af.allowPageScroll!=s)&&aK.preventDefault();break;case u:(af.swipeDown&&aM||!aM&&af.allowPageScroll!=s)&&aK.preventDefault()}}}function am(){return ak()}function ao(){return!!(af.pinchStatus||af.pinchIn||af.pinchOut)}function ay(){var aK=ap();return ad()&&aK}function ab(){return!!(af.swipe||af.swipeStatus||af.swipeLeft||af.swipeRight||af.swipeUp||af.swipeDown)}function K(){return!!af.click}function av(){aA=B(),aJ=event.touches.length+1}function z(){aA=0,aJ=0}function ae(){var aK=!1;if(aA){B()-aA<=af.fingerReleaseThreshold&&(aK=!0)}return aK}function X(){return!(!0!==H.data(w+"_intouch"))}function aj(aK){!0===aK?(H.bind(U,P),H.bind(au,aa),D&&H.bind(D,W)):(H.unbind(U,P,!1),H.unbind(au,aa,!1),D&&H.unbind(D,W,!1)),H.data(w+"_intouch",!0===aK)}function aI(aL,aK){var aM=void 0!==aK.identifier?aK.identifier:0;return ah[aL].identifier=aM,ah[aL].start.x=ah[aL].end.x=aK.pageX,ah[aL].start.y=ah[aL].end.y=aK.pageY,ah[aL]}function V(aK){var aM=void 0!==aK.identifier?aK.identifier:0,aL=J(aM);return aL.end.x=aK.pageX,aL.end.y=aK.pageY,aL}function J(aL){for(var aK=0;aK<ah.length;aK++)if(ah[aK].identifier==aL)return ah[aK]}function T(){for(var aK=[],aL=0;aL<=5;aL++)aK.push({start:{x:0,y:0},end:{x:0,y:0},identifier:0});return aK}function L(){return Y-I}function Z(aN,aM){var aL=Math.abs(aN.x-aM.x),aK=Math.abs(aN.y-aM.y);return Math.round(Math.sqrt(aL*aL+aK*aK))}function y(aK,aL){return(aL/aK*1).toFixed(2)}function an(){return ai<1?v:b}function G(aL,aK){return Math.round(Math.sqrt(Math.pow(aK.x-aL.x,2)+Math.pow(aK.y-aL.y,2)))}function F(aN,aL){var aK=aN.x-aL.x,aP=aL.y-aN.y,aM=Math.atan2(aP,aK),aO=Math.round(180*aM/Math.PI);return aO<0&&(aO=360-Math.abs(aO)),aO}function aq(aL,aK){var aM=F(aL,aK);return aM<=45&&aM>=0?n:aM<=360&&aM>=315?n:aM>=135&&aM<=225?m:aM>45&&aM<135?u:c}function B(){return(new Date).getTime()}function at(aK){aK=d(aK);var aM=aK.offset();return{left:aM.left,right:aM.left+aK.outerWidth(),top:aM.top,bottom:aM.top+aK.outerHeight()}}function az(aK,aL){return aK.x>aL.left&&aK.x<aL.right&&aK.y>aL.top&&aK.y<aL.bottom}var aF=a||!af.fallbackToMouseEvents,ax=aF?"touchstart":"mousedown",U=aF?"touchmove":"mousemove",au=aF?"touchend":"mouseup",D=aF?null:"mouseleave",R="touchcancel",ac=0,N=null,ag=0,aB=0,A=0,ai=1,aH=0,H=d(S),O="start",aE=0,ah=null,I=0,Y=0,aA=0,aJ=0;try{H.bind(ax,ar),H.bind(R,M)}catch(aC){d.error("events not supported "+ax+","+R+" on jQuery.swipe")}this.enable=function(){return H.bind(ax,ar),H.bind(R,M),H},this.disable=function(){return Q(),H},this.destroy=function(){return Q(),H.data(w,null),H}}var n="left",m="right",c="up",u="down",b="in",v="out",k="none",q="auto",j="swipe",r="pinch",e="click",x="horizontal",s="vertical",h="all",f="start",i="move",g="end",o="cancel",a="ontouchstart"in window,w="TouchSwipe",l={fingers:1,threshold:75,pinchThreshold:20,maxTimeThreshold:null,fingerReleaseThreshold:250,swipe:null,swipeLeft:null,swipeRight:null,swipeUp:null,swipeDown:null,swipeStatus:null,pinchIn:null,pinchOut:null,pinchStatus:null,click:null,triggerOnTouchEnd:!0,triggerOnTouchLeave:!1,allowPageScroll:"auto",fallbackToMouseEvents:!0,excludedElements:"button, input, select, textarea, a, .noSwipe"};d.fn.swipe=function(A){var z=d(this),y=z.data(w);if(y&&"string"==typeof A){if(y[A])return y[A].apply(this,Array.prototype.slice.call(arguments,1));d.error("Method "+A+" does not exist on jQuery.swipe")}else if(!(y||"object"!=typeof A&&A))return t.apply(this,arguments);return z},d.fn.swipe.defaults=l,d.fn.swipe.phases={PHASE_START:f,PHASE_MOVE:i,PHASE_END:g,PHASE_CANCEL:o},d.fn.swipe.directions={LEFT:n,RIGHT:m,UP:c,DOWN:u,IN:b,OUT:v},d.fn.swipe.pageScroll={NONE:k,HORIZONTAL:x,VERTICAL:s,AUTO:q},d.fn.swipe.fingers={ONE:1,TWO:2,THREE:3,ALL:h}}(jQuery)}).call(exports,__webpack_require__(4))},234:function(module,exports){Object.keys=Object.keys||function(){var hasOwnProperty=Object.prototype.hasOwnProperty,hasDontEnumBug=!{toString:null}.propertyIsEnumerable("toString"),DontEnums=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],DontEnumsLength=DontEnums.length;return function(o){if("object"!=typeof o&&"function"!=typeof o||null===o)throw new TypeError("Object.keys called on a non-object");var result=[];for(var name in o)hasOwnProperty.call(o,name)&&result.push(name);if(hasDontEnumBug)for(var i=0;i<DontEnumsLength;i++)hasOwnProperty.call(o,DontEnums[i])&&result.push(DontEnums[i]);return result}}()},235:function(module,exports){window.ve.request=window.ve.request||{},function(window){"use strict";window.ve.request.service=window.ve.request.service||{};var formService=function(dispatcher,ajaxRequest){this.dispatcher=dispatcher,this.ajaxRequest=ajaxRequest};formService.prototype.getForm=function(dataRequest,dataUrl){"/ajax/request/determineUrl.json"===dataUrl?this._getDetermineForm(dataRequest,dataUrl):this._getForm(dataUrl)},formService.prototype._getForm=function(dataUrl){window.location=dataUrl},formService.prototype._getDetermineForm=function(dataRequest,dataUrl){var self=this;this.ajaxRequest.get({data:dataRequest,url:dataUrl,dataType:"json",contentType:"application/x-www-form-urlencoded",success:function(data){window.location=data.content},error:function(){self.dispatcher.dispatch(window.ve.request.events.form.TECHNICAL_ERROR,{dataRequest:dataRequest})}})},window.ve.request.service.form=formService}(window)},236:function(module,exports){window.ve.request=window.ve.request||{},function(window){"use strict";window.ve.request.service=window.ve.request.service||{};var buttonsService=function(dispatcher,requestConfig,ajaxRequest){this.dispatcher=dispatcher,this.requestConfig=requestConfig,this.ajaxRequest=ajaxRequest};buttonsService.prototype.getButtons=function(dataRequest){if(void 0===dataRequest||null===dataRequest||!1===dataRequest||0===dataRequest.length)throw new TypeError("Erreur buttons request : params are mandatory");var self=this;this.ajaxRequest.get({data:dataRequest,url:this.requestConfig.urlRequestButtons,dataType:"html",contentType:"application/x-www-form-urlencoded",success:function(viewHtml){self.dispatcher.dispatch(window.ve.request.events.buttons.RENDER_BUTTONS,{response:viewHtml,dataRequest:dataRequest})},error:function(jqXhr){self.dispatcher.dispatch(window.ve.request.events.buttons.TECHNICAL_ERROR,{errorDataRequest:dataRequest,statusError:jqXhr.status})}})},window.ve.request.service.buttons=buttonsService}(window)},237:function(module,exports){window.ve.request=window.ve.request||{},function(window){"use strict";window.ve.request.service=window.ve.request.service||{};var trackingService=function(trackingHelper){this.trackingHelper=trackingHelper};trackingService.prototype.trackEvent=function(dataRequestSourceType,dataRequestType,dataRequestButtonLayout,trackEventAction,trackEventValue){var sourceType=this.trackingHelper.getSourceTypeFromRequest(dataRequestSourceType,dataRequestButtonLayout),requestType=this.trackingHelper.getRequestTypeFromRequest(dataRequestType,dataRequestButtonLayout);void 0!==dataRequestType&&dataRequestType.startsWith("NO_SUPPLIER")?window.trackEvent(sourceType,requestType,trackEventAction,trackEventValue,!0):void 0!==trackEventValue?window.trackEvent(sourceType,requestType,trackEventAction,trackEventValue):window.trackEvent(sourceType,requestType,trackEventAction)},trackingService.prototype.trackEventEcommerce=function(dataRequestSourceType,dataRequestSourceId,dataRequestType,dataRequestCompanyId,dataRequestCompanyCommercialStatus,dataRequestButtonLayout){if("undefined"!=typeof ga){var sourceType=this.trackingHelper.getSourceTypeFromRequest(dataRequestSourceType,dataRequestButtonLayout),requestType=this.trackingHelper.getRequestTypeFromRequest(dataRequestType,dataRequestButtonLayout),nameGaProperty="ga";if(ve.siteName&&"undefined"!=typeof HeadGlobalJsVar_sitesUsingGtag&&HeadGlobalJsVar_sitesUsingGtag.length>0){var veGtags=HeadGlobalJsVar_sitesUsingGtag.trim().split(",");if(veGtags.includes&&veGtags.includes(ve.siteName))var nameGaProperty="gtag"}window[nameGaProperty]("require","ecommerce"),window[nameGaProperty]("ecommerce:addItem",{id:dataRequestCompanyId,name:dataRequestCompanyCommercialStatus,sku:requestType,category:sourceType+" - "+dataRequestSourceId}),window[nameGaProperty]("ecommerce:send")}},window.ve.request.service.tracking=trackingService}(window)},238:function(module,exports,__webpack_require__){(function($){window.ve.request=window.ve.request||{},function(window){"use strict";window.ve.request.service=window.ve.request.service||{};var i18nServiceSettings={localStorageLang:window.ve.language||"fr",localStoragePrefix:"velng_",localStorageExpiration:864e5,contentType:"",url:""},i18nLocalStorage={load:function(){var name=i18nServiceSettings.localStoragePrefix+i18nServiceSettings.localStorageLang,store=JSON.parse(localStorage.getItem(name));return store?(new Date).getTime()<store.timestamp&&store.catalog?store.catalog:(localStorage.removeItem(name),{}):{}},store:function(catalog){var store=this.load(),name=i18nServiceSettings.localStoragePrefix+i18nServiceSettings.localStorageLang;$.extend(!0,store,catalog);var entry={catalog:store,timestamp:(new Date).getTime()+i18nServiceSettings.localStorageExpiration};return localStorage.setItem(name,JSON.stringify(entry)),store},dispose:function(){var name=i18nServiceSettings.localStoragePrefix+i18nServiceSettings.localStorageLang;localStorage.removeItem(name)}},i18nService=function(ajaxRequest){this.ajaxRequest=ajaxRequest};i18nService.prototype.init=function(settings){$.extend(!0,i18nServiceSettings,settings),this.url=i18nServiceSettings.url,this.contentType=i18nServiceSettings.contentType},i18nService.prototype.dispose=function(){window.localStorage&&i18nLocalStorage.dispose()},i18nService.prototype.translate=function(keys,success){if(window.localStorage){var store=i18nLocalStorage.load(),missings={},oKeys=JSON.parse(keys.i18n);for(var i in oKeys)store[i]&&""!==store[i].value||(missings[i]=oKeys[i]);var len=0;for(var o in missings)len++;len>0?this.ajaxRequest.post({url:this.url,contentType:this.contentType,data:{i18n:JSON.stringify(missings)},success:function(data){200===data.responseStatus&&(i18nLocalStorage.store(data.content),success(i18nLocalStorage.store()))}}):success(store)}else this.ajaxRequest.post({url:this.url,contentType:this.contentType,data:keys,success:function(data){200===data.responseStatus&&success(data.content)}})},window.ve.request.service.i18n=i18nService}(window)}).call(exports,__webpack_require__(4))},239:function(module,exports){window.ve.request=window.ve.request||{},function(window){"use strict";window.ve.request.events=window.ve.request.events||{},window.ve.request.events.form={GET_FORM:"get_form",TECHNICAL_ERROR:"technical_error_form"},window.ve.request.controller=window.ve.request.controller||{},window.ve.request.controller.form=function(formService){this.execute=function(event){switch(event.type){case window.ve.request.events.form.GET_FORM:formService.getForm(event.params.dataRequest,event.params.dataUrl)}}}}(window)},240:function(module,exports,__webpack_require__){(function($){window.ve.request=window.ve.request||{},function(window){"use strict";window.ve.request.events=window.ve.request.events||{},window.ve.request.events.buttons={GET_BUTTONS:"get_buttons",RENDER_BUTTONS:"render_buttons",TECHNICAL_ERROR:"technical_error_buttons"},window.ve.request.controller=window.ve.request.controller||{},window.ve.request.controller.buttons=function(buttonsService){this.execute=function(event){switch(event.type){case window.ve.request.events.buttons.GET_BUTTONS:buttonsService.getButtons(event.params.dataRequest);break;case window.ve.request.events.buttons.RENDER_BUTTONS:$(window).trigger("render_buttons_abtests",[event])}}}}(window)}).call(exports,__webpack_require__(4))},241:function(module,exports){window.ve.request=window.ve.request||{},function(window){"use strict";window.ve.request.events=window.ve.request.events||{},window.ve.request.events.tracking={TRACK_EVENT:"track_event",TRACK_EVENT_ECOMMERCE:"track_event_ecommerce"},window.ve.request.controller=window.ve.request.controller||{},window.ve.request.controller.tracking=function(trackingService){this.execute=function(event){switch(event.type){case window.ve.request.events.tracking.TRACK_EVENT:trackingService.trackEvent(event.params.sourceType,event.params.requestType,event.params.buttonLayout,event.params.trackEventAction,event.params.trackEventValue);break;case window.ve.request.events.tracking.TRACK_EVENT_ECOMMERCE:trackingService.trackEventEcommerce(event.params.sourceType,event.params.sourceId,event.params.requestType,event.params.companyId,event.params.companyCommercialStatus,event.params.buttonLayout)}}}}(window)},242:function(module,exports,__webpack_require__){(function($){window.ve.request=window.ve.request||{},function(window){"use strict";window.ve.request.template=window.ve.request.template||{},window.ve.request.template.form=function(scope,dispatcher,popin){window.ve.request.template.form.error='\n\t                                            <div id="request">\n\t                                                <div class="requestErrors">\n\t                                                    <h2>{{translation.technicalErrorMessage.value}}</h2>\n\t                                                </div>\n\t                                                <div id="request-footer"></div>\n\t                                            </div>',dispatcher.addEventListener(window.ve.request.events.form.TECHNICAL_ERROR,function(event){if(window.ve.request.template.sema=!1,$(".qtip").length>0?popin.update({text:window.ve.request.template.form.error,translation:window.ve.request.i18n,requestCloseInfos:null}):popin.create({popinId:"requestFormPopin",text:window.ve.request.template.form.error,translation:window.ve.request.i18n,css:"popin tooltipRequestForm request-no-background",title:"",requestCloseInfos:null}),void 0===event.params.dataRequest)throw TypeError("Le parametre dataRequest est manquant");var dataRequest=event.params.dataRequest;dispatcher.dispatch(window.ve.request.events.tracking.TRACK_EVENT,{sourceType:dataRequest.sourceType,requestType:dataRequest.requestType,trackEventAction:"DisplayErrorForm",buttonLayout:dataRequest.layout})}),window.ve.request.template.form.popinsShareBinding={closeMe:function(event){event.preventDefault(),null!==popin._options.requestCloseInfos&&dispatcher.dispatch(window.ve.request.events.tracking.TRACK_EVENT,popin._options.requestCloseInfos),$("html").css("overflow","auto")}}}}(window)}).call(exports,__webpack_require__(4))},243:function(module,exports,__webpack_require__){(function($){window.ve.request=window.ve.request||{},function(window){"use strict";window.ve.request.template=window.ve.request.template||{},window.ve.request.template.buttons=function(scope,template,tpl,dispatcher){window.ve.request.template.sema=!1;var templateElement=template.element;dispatcher.addEventListener(window.ve.request.events.buttons.RENDER_BUTTONS,function(event){template.scope.requestButtons=event.params.response,template.render();var $notation=$("#notationPanel");if($notation.length>0){var dataTracking={category:$notation.data("notation-category"),action:$notation.data("notation-action"),label:""+$notation.data("notation-value")};dispatcher.dispatch(window.ve.request.events.tracking.TRACK_EVENT,{sourceType:dataTracking.category,requestType:dataTracking.action,trackEventAction:dataTracking.label})}var $buttonsScope=tpl(templateElement);$.extend($buttonsScope.scope,template.scope),$buttonsScope.render()}),dispatcher.addEventListener(window.ve.request.events.buttons.TECHNICAL_ERROR,function(event){throw template.scope.requestButtons="",template.render(),new Error("Erreur buttons request["+event.params.statusError+"]: "+JSON.stringify(event.params.errorDataRequest))}),scope.getRequestForm=function(event){if(event.preventDefault(),window.ve.request.template.sema)return!1;window.ve.request.template.sema=!0;var target=event.currentTarget||event.srcElement,requestButton=$(target),dataRequest=requestButton.data("request");dispatcher.dispatch(window.ve.request.events.tracking.TRACK_EVENT,{sourceType:dataRequest.sourceType,requestType:dataRequest.requestType,trackEventAction:"ClickBouton",buttonLayout:dataRequest.layout}),dispatcher.dispatch(window.ve.request.events.form.GET_FORM,{dataRequest:dataRequest,dataUrl:requestButton.data("url")})}}}(window)}).call(exports,__webpack_require__(4))},244:function(module,exports){window.ve.request=window.ve.request||{},function(window){"use strict";window.ve.request.config={engineTemplateHtml:"soma.template.create",urlTranslation:"/ajax/i18n/translate.json",urlRequestButtons:"/ajax/request/buttons.html",i18n:{technicalErrorMessage:{key:"global_error_technical",value:""}}}}(window)},245:function(module,exports,__webpack_require__){(function(soma){var AjaxRequest=__webpack_require__(7),PopinQtip=__webpack_require__(62);window.ve.request=window.ve.request||{},function(window){"use strict";window.ve.request.i18n=window.ve.request.config.i18n;var RequestApplication=soma.Application.extend({constructor:function(element,dataParams,dataUrl){if(this.element=element,this.params=dataParams,this.url=dataUrl,void 0===this.params||null===this.params||!1===this.params)throw new Error("Params are mandatory");soma.Application.call(this)},init:function(){this.injector.mapValue("requestConfig",window.ve.request.config),this.injector.mapValue("tpl",soma.template.create);var ajaxRequest=this.createPlugin(AjaxRequest),popin=this.createPlugin(PopinQtip,window.ve.request.config.engineTemplateHtml);ve.utils.getGoogleLangCode();this.injector.mapValue("ajaxRequest",ajaxRequest),this.injector.mapValue("popin",popin),this.injector.mapClass("buttonsService",window.ve.request.service.buttons,!0),this.injector.mapClass("formService",window.ve.request.service.form,!0),this.injector.mapClass("trackingService",window.ve.request.service.tracking,!0),this.injector.mapClass("i18nService",window.ve.request.service.i18n,!0),this.injector.mapClass("trackingHelper",window.ve.request.helper.tracking,!0);var translationDatas,translationContentType,translationUrl;translationDatas={i18n:JSON.stringify(window.ve.request.i18n)},translationContentType="application/x-www-form-urlencoded",translationUrl=window.ve.request.config.urlTranslation;var i18nService=this.injector.getValue("i18nService");i18nService.init({url:translationUrl,contentType:translationContentType}),i18nService.translate(translationDatas,function(data){window.ve.request.i18n=data}),this.commands.add(window.ve.request.events.buttons.GET_BUTTONS,window.ve.request.controller.buttons),this.commands.add(window.ve.request.events.buttons.RENDER_BUTTONS,window.ve.request.controller.buttons),this.commands.add(window.ve.request.events.buttons.TECHNICAL_ERROR,window.ve.request.controller.buttons),this.commands.add(window.ve.request.events.form.GET_FORM,window.ve.request.controller.form),this.commands.add(window.ve.request.events.form.TECHNICAL_ERROR,window.ve.request.controller.form),this.commands.add(window.ve.request.events.tracking.TRACK_EVENT,window.ve.request.controller.tracking),this.commands.add(window.ve.request.events.tracking.TRACK_EVENT_ECOMMERCE,window.ve.request.controller.tracking),this.createTemplate(window.ve.request.template.form,this.element.parentNode),void 0===this.url&&this.createTemplate(window.ve.request.template.buttons,this.element)},start:function(){if(void 0===this.url)this.dispatcher.dispatch(window.ve.request.events.buttons.GET_BUTTONS,{dataRequest:this.params});else{var requestType=this.params.requestType;"/ajax/request/determineUrl.json"===this.url&&(requestType="Contact"),this.dispatcher.dispatch(window.ve.request.events.form.GET_FORM,{dataRequest:this.params,dataUrl:this.url}),this.dispatcher.dispatch(window.ve.request.events.tracking.TRACK_EVENT,{sourceType:this.params.sourceType,requestType:requestType,trackEventAction:"ClickBouton",buttonLayout:this.params.layout})}}});window.ve.request.application=RequestApplication}(window)}).call(exports,__webpack_require__(1))}});